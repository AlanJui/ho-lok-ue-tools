(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{543:function(s,a,t){"use strict";t.r(a);var n=t(10),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"srv-2020-伺服器硬碟安裝指引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#srv-2020-伺服器硬碟安裝指引"}},[s._v("#")]),s._v(" SRV-2020 伺服器硬碟安裝指引")]),s._v(" "),a("h2",{attrs:{id:"硬碟摘要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬碟摘要"}},[s._v("#")]),s._v(" 硬碟摘要")]),s._v(" "),a("ul",[a("li",[s._v("HDD1(sda): 內接 SATA SSD 500GB (CT500MX500SSD)")]),s._v(" "),a("li",[s._v("HDD2(sdb): 內接 SATA HDD 2TB (ST2000DM008-2FR102)")]),s._v(" "),a("li",[s._v("HDD3(sdg): 外接 SATA HDD 4TB")])]),s._v(" "),a("h2",{attrs:{id:"硬碟切割"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬碟切割"}},[s._v("#")]),s._v(" 硬碟切割")]),s._v(" "),a("h3",{attrs:{id:"作業系統認可已安裝硬碟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作業系統認可已安裝硬碟"}},[s._v("#")]),s._v(" 作業系統認可已安裝硬碟")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ lsblk | grep disk\nsda    8:0    0 465.8G  0 disk\nsdb    8:16   0   1.8T  0 disk\nsdg    8:96   0   3.7T  0 disk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"各硬碟切割狀態與掛載目錄路徑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各硬碟切割狀態與掛載目錄路徑"}},[s._v("#")]),s._v(" 各硬碟切割狀態與掛載目錄路徑")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ lsblk\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\nsda      8:0    0 465.8G  0 disk\n├─sda1   8:1    0   512M  0 part /boot/efi\n├─sda2   8:2    0     1K  0 part\n└─sda5   8:5    0 465.3G  0 part /\nsdb      8:16   0   1.8T  0 disk\n└─sdb1   8:17   0   1.8T  0 part /NAS\nsdg      8:96   0   3.7T  0 disk\n├─sdg1   8:97   0   200M  0 part /media/alanjui/EFI\n└─sdg2   8:98   0   3.7T  0 part /run/timeshift/backup\nsr0     11:0    1  1024M  0 rom\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"硬碟各切割區之檔案格式與-uuid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬碟各切割區之檔案格式與-uuid"}},[s._v("#")]),s._v(" 硬碟各切割區之檔案格式與 UUID")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ lsblk -f -m\nNAME FSTYPE LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINT   SIZE OWNER GROUP MODE\nsda                                                                              465.8G root  disk  brw-rw----\n├─sda1\n│    vfat         E5EE-16F7                               511M     0% /boot/efi    512M root  disk  brw-rw----\n├─sda2\n│                                                                                    1K root  disk  brw-rw----\n└─sda5\n     ext4         26dab473-9118-46da-a89e-adb615083e2f  204.9G    50% /          465.3G root  disk  brw-rw----\nsdb                                                                                1.8T root  disk  brw-rw----\n└─sdb1\n     ext4   NAS   6dda4534-aaa3-4c2c-8725-1fb778ad5cfd    1.3T    25% /NAS         1.8T root  disk  brw-rw----\nsdg                                                                                3.7T root  disk  brw-rw----\n├─sdg1\n│    vfat   EFI   67E3-17ED                             196.9M     0% /media/ala   200M root  disk  brw-rw----\n└─sdg2\n     ext4   SRV-2020_BAK\n                  49949c44-a267-450a-a825-606e06692c94    2.7T    20% /run/times   3.7T root  disk  brw-rw----\nsr0                                                                               1024M root  cdrom brw-rw----\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"hdd1-dev-sda"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hdd1-dev-sda"}},[s._v("#")]),s._v(" HDD1: /dev/sda")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("sda1\n"),a("img",{attrs:{src:"/assets/img/server-2020/sda1.png",alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("sda2\n"),a("img",{attrs:{src:"/assets/img/server-2020/sda2.png",alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("sda5\n"),a("img",{attrs:{src:"/assets/img/server-2020/sda5.png",alt:""}})])])]),s._v(" "),a("h3",{attrs:{id:"hdd2-dev-sdb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hdd2-dev-sdb"}},[s._v("#")]),s._v(" HDD2: /dev/sdb")]),s._v(" "),a("ul",[a("li",[s._v("sdb1\n"),a("img",{attrs:{src:"/assets/img/server-2020/sdb1.png",alt:""}})])]),s._v(" "),a("h3",{attrs:{id:"hdd3-dev-sdg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hdd3-dev-sdg"}},[s._v("#")]),s._v(" HDD3: /dev/sdg")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("sdg1\n"),a("img",{attrs:{src:"/assets/img/server-2020/sdg1.png",alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("sdg2\n"),a("img",{attrs:{src:"/assets/img/server-2020/sdg2.png",alt:""}})])])]),s._v(" "),a("h2",{attrs:{id:"硬碟掛載"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬碟掛載"}},[s._v("#")]),s._v(" 硬碟掛載")]),s._v(" "),a("h3",{attrs:{id:"各硬碟分割區掛載點-mount-point"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各硬碟分割區掛載點-mount-point"}},[s._v("#")]),s._v(" 各硬碟分割區掛載點（Mount Point）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ lsblk -o NAME,FSTYPE,SIZE,MOUNTPOINT\nNAME   FSTYPE   SIZE MOUNTPOINT\nsda           465.8G\n├─sda1 vfat     512M /boot/efi\n├─sda2            1K\n└─sda5 ext4   465.3G /\nsdb             1.8T\n└─sdb1 ext4     1.8T /NAS\nsdg             3.7T\n├─sdg1 vfat     200M /media/alanjui/EFI\n└─sdg2 ext4     3.7T /run/timeshift/backup\nsr0            1024M\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"各硬碟分割區-uuid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各硬碟分割區-uuid"}},[s._v("#")]),s._v(" 各硬碟分割區 UUID")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('$ blkid\n/dev/sda1: UUID="E5EE-16F7" TYPE="vfat" PARTUUID="5ce49673-01"\n/dev/sda5: UUID="26dab473-9118-46da-a89e-adb615083e2f" TYPE="ext4" PARTUUID="5ce49673-05"\n/dev/sdb1: LABEL="NAS" UUID="6dda4534-aaa3-4c2c-8725-1fb778ad5cfd" TYPE="ext4" PARTUUID="3c9b9d09-01"\n/dev/sdg1: LABEL_FATBOOT="EFI" LABEL="EFI" UUID="67E3-17ED" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="394fb177-f61d-4934-a618-6ffc837c55c9"\n/dev/sdg2: LABEL="SRV-2020_BAK" UUID="49949c44-a267-450a-a825-606e06692c94" TYPE="ext4" PARTLABEL="Backup data" PARTUUID="7cd2eb4c-bff5-4c31-aa80-35bceee79e84"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"fstab-設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fstab-設定"}},[s._v("#")]),s._v(" fstab 設定")]),s._v(" "),a("p",[s._v("/etc/fstab 設定檔")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# /etc/fstab: static file system information.\n#\n# Use 'blkid' to print the universally unique identifier for a\n# device; this may be used with UUID= as a more robust way to name devices\n# that works even if disks are added and removed. See fstab(5).\n#\n# <file system>                             <mount point>   <type>  <options>                       <dump>  <pass>\n# / was on /dev/sda5 during installation\nUUID=26dab473-9118-46da-a89e-adb615083e2f   /               ext4    errors=remount-ro \t\t            0       1\n# /boot/efi was on /dev/sda1 during installation\nUUID=E5EE-16F7  \t\t\t                /boot/efi\t    vfat    umask=0077      \t\t            0       1\n/swapfile                                   none            swap    sw              \t\t            0       0\n\nLABEL=NAS \t\t\t\t                    /mnt/NAS \t    auto \tnosuid,nodev,nofail,x-gvfs-show     0 \t    0\n\n# External Disk : NAS\nUUID=6dda4534-aaa3-4c2c-8725-1fb778ad5cfd   /NAS\t\t    ext4\tdefaults\t\t\t                0\t    2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("【註】：舊設定參考")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# /etc/fstab: static file system information.\n#\n# Use 'blkid' to print the universally unique identifier for a\n# device; this may be used with UUID= as a more robust way to name devices\n# that works even if disks are added and removed. See fstab(5).\n#\n# <file system>                                     <mount point>  <type>   <options>         <dump>  <pass>\n# / was on /dev/sda2 during installation\nUUID=272b0fdf-9d56-414c-a181-9667a916eb70           /               ext4    errors=remount-ro    0       1\n# /home was on /dev/sda3 during installation\nUUID=45f291bd-a4a9-4d23-bc2f-0429619072cf           /home           ext4    defaults             0       2\n# swap was on /dev/sda1 during installation\nUUIDbf9345d8-a424-4b24-a2f1-b7bf11e0d68f            none            swap    sw                   0       0\n#UUID=9279ede9-49f6-44fe-b481-261500f67675          /NAS            ext4    defaults             0       2\n#UUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a          /BAK            ext4    users                0       0\n#UUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a          /BAK            ext4    noauto,users         0       0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"掛載硬碟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#掛載硬碟"}},[s._v("#")]),s._v(" 掛載硬碟")]),s._v(" "),a("p",[s._v("作業系統安裝時，因第二顆硬碟尚未備妥；或第二顆硬碟容量升級更換；亦或者是第二顆硬碟\n因固障替換新硬碟，對於新硬碟，依以下《作業指引》進行安裝設定。")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"./%E6%8E%9B%E8%BC%89%E7%AC%AC%E4%BA%8C%E9%A1%86%E7%A1%AC%E7%A2%9F"}},[s._v("掛載第二顆硬碟作業指引")])])]),s._v(" "),a("h2",{attrs:{id:"常用硬碟管理-維護工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用硬碟管理-維護工具"}},[s._v("#")]),s._v(" 常用硬碟管理／維護工具")]),s._v(" "),a("ul",[a("li",[s._v("blkid")]),s._v(" "),a("li",[s._v("by-uuid")]),s._v(" "),a("li",[s._v("Ubuntu 20.04 Live USB")]),s._v(" "),a("li",[s._v("CloneZilla Live USB")]),s._v(" "),a("li",[s._v("Boot Repair")]),s._v(" "),a("li",[s._v("Rysnc")])]),s._v(" "),a("h3",{attrs:{id:"blkid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blkid"}},[s._v("#")]),s._v(" blkid")]),s._v(" "),a("p",[s._v("blkid 指令可查詢硬碟的相關資訊：")]),s._v(" "),a("ul",[a("li",[s._v("作業系統中掛載了幾個硬碟")]),s._v(" "),a("li",[s._v("每個硬碟分割幾區")]),s._v(" "),a("li",[s._v("每個硬碟分割區其： 裝置 UUID（UUID）、檔案格式（TYPE）、分割區 UUID（PARTUUID）、分割區標籤（PARTLABEL）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('$ blkid\n/dev/sda1: UUID="6dda4534-aaa3-4c2c-8725-1fb778ad5cfd" TYPE="ext4" PARTUUID="3c9b9d09-01"\n/dev/sdb1: UUID="bf9345d8-a424-4b24-a2f1-b7bf11e0d68f" TYPE="swap" PARTLABEL="SWAP" PARTUUID="1df0c81f-4757-43de-8b2e-8066488a9d2c"\n/dev/sdb2: UUID="272b0fdf-9d56-414c-a181-9667a916eb70" TYPE="ext4" PARTLABEL="/" PARTUUID="97babc23-9f72-4cb7-ad38-0100b2d3f83b"\n/dev/sdb3: UUID="45f291bd-a4a9-4d23-bc2f-0429619072cf" TYPE="ext4" PARTLABEL="/home" PARTUUID="c7f42354-6a36-4529-85f1-6659c0f2246e"\n/dev/sdc1: LABEL="NAS" UUID="9279ede9-49f6-44fe-b481-261500f67675" TYPE="ext4" PARTUUID="3c9b9d09-01"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"by-uuid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#by-uuid"}},[s._v("#")]),s._v(" by-uuid")]),s._v(" "),a("p",[s._v("硬碟的每個「切割區」，均都擁有各自專屬的 UUID 。使用 by-uuid 指令，可查詢各硬碟之 UUID 編號。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ls -al /dev/disk/by-uuid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("SRV-01# ls -al /dev/disk/by-uuid\n總計 0\ndrwxr-xr-x 2 root root 140  9月 12 22:32 .\ndrwxr-xr-x 8 root root 160  9月 12 22:32 ..\nlrwxrwxrwx 1 root root  10  9月 12 22:32 272b0fdf-9d56-414c-a181-9667a916eb70 -> ../../sdb2\nlrwxrwxrwx 1 root root  10  9月 12 22:32 45f291bd-a4a9-4d23-bc2f-0429619072cf -> ../../sdb3\nlrwxrwxrwx 1 root root  10  9月 12 22:32 6dda4534-aaa3-4c2c-8725-1fb778ad5cfd -> ../../sda1\nlrwxrwxrwx 1 root root  10  9月 12 22:32 9279ede9-49f6-44fe-b481-261500f67675 -> ../../sdc1\nlrwxrwxrwx 1 root root  10  9月 12 22:32 bf9345d8-a424-4b24-a2f1-b7bf11e0d68f -> ../../sdb1\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"ubuntu-20-04-live-usb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-20-04-live-usb"}},[s._v("#")]),s._v(" Ubuntu 20.04 Live USB")]),s._v(" "),a("ul",[a("li",[s._v("GParted : 切割硬碟工具")]),s._v(" "),a("li",[s._v("Boot-Repair： 修復 GRUB")])]),s._v(" "),a("h3",{attrs:{id:"clonezilla-live-usb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clonezilla-live-usb"}},[s._v("#")]),s._v(" CloneZilla Live USB")]),s._v(" "),a("p",[s._v("硬碟複製")]),s._v(" "),a("p",[s._v("【硬碟複製作業程序】：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://paper-attachments.dropbox.com/s_CBE4779E574948CB209B4421A62DD46C027D3F70CB754FE2BD58F3EBB91A123F_1568297351704_image.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://paper-attachments.dropbox.com/s_CBE4779E574948CB209B4421A62DD46C027D3F70CB754FE2BD58F3EBB91A123F_1568296257836_image.png",alt:""}})]),s._v(" "),a("p",[s._v("（1）使用 Ubuntu LiveUSB ，針對"),a("strong",[s._v("新硬碟")]),s._v("進行「分割區」切割，並格式化為 ext4 。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("    - 〖2〗SATA4：全新硬碟（SATA4） ==> /dev/sda\n    - 〖5〗ESATA：Ubuntu 18.04 Live USB\n")])])]),a("p",[s._v("（2）開機與登入系統。")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("    - 〖2〗SATA4：HD1 ==> /dev/sda  Ubuntu 18.04 作業系統\n    - 〖1〗SATA3：HD2 ==> /dev/sdb  新 NAS 硬碟\n    - 〖3〗USB3：HD3 ==> /dev/sdc  舊 NAS 硬碟\n    - 使用 web_admin 帳戶登入作業系統。\n")])])]),a("p",[s._v("（3）在作業系統掛載硬碟，並進行目錄及檔案複製作業。")]),s._v(" "),a("p",[s._v("以下 /dev/sdb 為安裝 Ubuntu 18.04 作業系統之硬碟。")]),s._v(" "),a("ul",[a("li",[s._v("/dev/sdb2 掛載於 /")]),s._v(" "),a("li",[s._v("/dev/sdb3 掛載於 /home")])]),s._v(" "),a("p",[s._v("(3-1) 掛載新、舊硬碟：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ sudo su –   # sudo -i\n$ mkdir -p /mnt/{new_hdd,old_hdd}\n$ mount /dev/sda1 /mnt/new_hdd\n$ mount /dev/sdc1 /mnt/old_hdd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("(3-2) "),a("strong",[s._v("將舊硬碟（Source）的檔案複製到新硬碟（Target）")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    $ rsync -ax /mnt/old/ /mnt/new_hdd/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("(3-3) 觀察新硬碟已完成複製進度：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    $ cd /mnt/new_hdd\n    $ df -h\n    檔案系統        容量  已用  可用 已用% 掛載點\n    udev            7.8G     0  7.8G    0% /dev\n    tmpfs           1.6G  4.8M  1.6G    1% /run\n    /dev/sdb2       188G   97G   81G   55% /\n    tmpfs           7.8G   66M  7.8G    1% /dev/shm\n    tmpfs           5.0M  4.0K  5.0M    1% /run/lock\n    tmpfs           7.8G     0  7.8G    0% /sys/fs/cgroup\n    /dev/loop0       15M   15M     0  100% /snap/gnome-characters/296\n    ⋯⋯\n    ⋯⋯\n    ⋯⋯\n    /dev/sda1       1.8T  523G  1.2T   31% /mnt/new_hdd\n    /dev/sdc1       1.8T  859G  882G   50% /mnt/old_hdd\n\n    $ df -h\n    檔案系統        容量  已用  可用 已用% 掛載點\n    udev            7.8G     0  7.8G    0% /dev\n    tmpfs           1.6G  4.8M  1.6G    1% /run\n    /dev/sdb2       188G   97G   81G   55% /\n    tmpfs           7.8G   66M  7.8G    1% /dev/shm\n    tmpfs           5.0M  4.0K  5.0M    1% /run/lock\n    tmpfs           7.8G     0  7.8G    0% /sys/fs/cgroup\n    /dev/loop0       15M   15M     0  100% /snap/gnome-characters/296\n    ⋯⋯\n    ⋯⋯\n    ⋯⋯\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("p",[s._v("（4）設定新硬碟可於作業系統開機後，自動掛載。")]),s._v(" "),a("p",[s._v("(4-1) 執行指令，查得新硬碟（/dev/sda1）之 UUID 編號。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    ls -al /dev/disk/by-uuid\n\n\n    $ ls -al /dev/disk/by-uuid\n    總計 0\n    drwxr-xr-x 2 root root 140  9月 12 22:32 .\n    drwxr-xr-x 8 root root 160  9月 12 22:32 ..\n    lrwxrwxrwx 1 root root  10  9月 12 22:32 272b0fdf-9d56-414c-a181-9667a916eb70 -> ../../sdb2\n    lrwxrwxrwx 1 root root  10  9月 12 22:32 45f291bd-a4a9-4d23-bc2f-0429619072cf -> ../../sdb3\n    lrwxrwxrwx 1 root root  10  9月 12 22:32 6dda4534-aaa3-4c2c-8725-1fb778ad5cfd -> ../../sda1\n    lrwxrwxrwx 1 root root  10  9月 12 22:32 9279ede9-49f6-44fe-b481-261500f67675 -> ../../sdc1\n    lrwxrwxrwx 1 root root  10  9月 12 22:32 bf9345d8-a424-4b24-a2f1-b7bf11e0d68f -> ../../sdb1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("(4-2) 編輯作業系統硬碟掛載設定檔（/etc/fstab）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    UUID=xxxxxxxx-xxxxx-xxxxxxxxxxx-xxxxx-xxxxxx /NAS ext4 defaults 0 0\n\n\n\n    # /etc/fstab: static file system information.\n    #\n    # Use 'blkid' to print the universally unique identifier for a\n    # device; this may be used with UUID= as a more robust way to name devices\n    # that works even if disks are added and removed. See fstab(5).\n    #\n    # <file system>                                     <mount point>  <type>   <options>         <dump>  <pass>\n    # / was on /dev/sda2 during installation\n    UUID=272b0fdf-9d56-414c-a181-9667a916eb70           /               ext4    errors=remount-ro    0       1\n    # /home was on /dev/sda3 during installation\n    UUID=45f291bd-a4a9-4d23-bc2f-0429619072cf           /home           ext4    defaults             0       2\n    # swap was on /dev/sda1 during installation\n    UUID=bf9345d8-a424-4b24-a2f1-b7bf11e0d68f           none            swap    sw                   0       0\n    #UUID=9279ede9-49f6-44fe-b481-261500f67675           /NAS            ext4    defaults             0       2\n    UUID=6dda4534-aaa3-4c2c-8725-1fb778ad5cfd           /NAS            ext4    defaults             0       0\n    #UUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a /BAK ext4 users 0 0\n    #UUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a           /BAK            ext4    noauto,users         0       0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("【"),a("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Fstab_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"}},[s._v("參數指引"),a("OutboundLink")],1),s._v("】：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("file system：硬碟分隔區的位置（或稱：裝置的路徑）")])]),s._v(" "),a("li",[a("p",[s._v("mount point：硬碟分割區所對映目錄之掛載點")])]),s._v(" "),a("li",[a("p",[s._v("type：硬碟分割區在檔案系統使用之格式")])]),s._v(" "),a("li",[a("p",[s._v("options：掛載選項參數……")]),s._v(" "),a("ul",[a("li",[s._v("auto/noauto：作業系統開機時，該裝置是否需進行自動掛載作業；")]),s._v(" "),a("li",[s._v("async/sync：檔案系統對記憶體的讀寫作業，使用非同步方式進行 I/O 存取；")]),s._v(" "),a("li",[s._v("exec/noexec：檔案系統中的二進位檔案（執行檔），是否可執行；")]),s._v(" "),a("li",[s._v("default：採用預設值，表同時具有：rw、suid、exec、auto、nouser、async 選項；")]),s._v(" "),a("li",[s._v("user/nouser：nouser 表一般使用者無權使用 mount 指令，進行裝置掛載作業；")]),s._v(" "),a("li",[s._v("rw：裝置可執行讀／寫作業；")]),s._v(" "),a("li",[s._v("ro：裝置為唯讀，只能進行讀取作業；")]),s._v(" "),a("li",[s._v("suid/nosuid：檔案系統是否允許 SUID 的存在。")])])]),s._v(" "),a("li",[a("p",[s._v("dump：是否可被 dump 指令進行備份，參數值為 0：不需備份；參數值為 1：需要備份；參數值為 2：需要備份，但其備份的重要性，比設為 1 者小；")])]),s._v(" "),a("li",[a("p",[s._v("pass：當作業系統開機時，fsck 是否需針對檔案系統進行檢查作業。參數值 0：無需檢查；參數值為 1：需檢查，優先權最高；參數值為 2：需檢查，優先權次之。（掛載點為「根目錄」時，此參數值設為 1；其他非目錄掛載點，設為 2。）")])])]),s._v(" "),a("p",[s._v("【舉例】：")]),s._v(" "),a("p",[s._v("一般使用者也可用光碟機：\n/dev/cdrom /mnt/cdrom iso9660 noauto, user, ro 0 0")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("# <file system>        <dir>         <type>    <options>             <dump> <pass>\nnone                   /dev/pts      devpts    defaults                0      0\nnone                   /dev/shm      tmpfs     defaults                0      0\n\n/dev/cdrom             /media/cd     iso9660   ro,user,noauto,unhide   0      0\n/dev/dvd               /media/dvd    udf       ro,user,noauto,unhide   0      0\n/dev/fd0               /media/fl     auto      user,noauto             0      0\n\n/dev/sda2              /             ext4      defaults,noatime        0      1\n/dev/sda6              /home         ext4      defaults,noatime        0      2\n/dev/sda7              none          swap      defaults                0      0\n")])])]),a("h3",{attrs:{id:"rysnc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rysnc"}},[s._v("#")]),s._v(" Rysnc")]),s._v(" "),a("p",[s._v("類似 cp, scp 之指令，不僅可對目錄／檔案進行「複製作業」；更具有「同步作業」之功能，是個特別適用於：「伺服器資料備份／伺服器間資料同步的指令」。")]),s._v(" "),a("p",[s._v("使用 rsync 複製（備份）目錄與檔案：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("$ rsync -av /media/web_admin/NAS/{GitRepo,Music} /mnt/new_hdd/\n")])])]),a("h3",{attrs:{id:"boot-repair-與-boot-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boot-repair-與-boot-info"}},[s._v("#")]),s._v(" "),a("strong",[s._v("Boot Repair 與 Boot Info")])]),s._v(" "),a("p",[s._v("自動修復 GRUB 問題，與提供硬碟相關資訊。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ sudo apt-add-repository ppa:yannubuntu/boot-repair\n$ sudo apt install boot-repair\n$ boot-repair\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"參考文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#參考文件"}},[s._v("#")]),s._v(" 參考文件")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.cyberciti.biz/faq/linux-list-disk-partitions-command/",target:"_blank",rel:"noopener noreferrer"}},[s._v("How To - Linux List Disk Partitions Command"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"在-ubuntu-作業系統將-hdd-硬碟升級成-ssd-硬碟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-ubuntu-作業系統將-hdd-硬碟升級成-ssd-硬碟"}},[s._v("#")]),s._v(" 在 Ubuntu 作業系統將 HDD 硬碟升級成 SSD 硬碟")]),s._v(" "),a("p",[s._v("http://blog.lyhdev.com/2011/04/ubuntu-linux.html")]),s._v(" "),a("h3",{attrs:{id:"查詢開機相關資訊"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查詢開機相關資訊"}},[s._v("#")]),s._v(" 查詢開機相關資訊")]),s._v(" "),a("p",[s._v("https://help.ubuntu.com/community/Boot-Info")]),s._v(" "),a("h3",{attrs:{id:"grub2-安裝與修復"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grub2-安裝與修復"}},[s._v("#")]),s._v(" GRUB2 安裝與修復")]),s._v(" "),a("p",[s._v("https://help.ubuntu.com/community/Grub2/Installing")]),s._v(" "),a("h3",{attrs:{id:"在-mac-安裝-ubuntu-liveusb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-mac-安裝-ubuntu-liveusb"}},[s._v("#")]),s._v(" 在 Mac 安裝 Ubuntu LiveUSB")]),s._v(" "),a("p",[s._v("https://www.youtube.com/watch?v=ughBRtJwqQI&")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://youtu.be/ughBRtJwqQI",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://youtu.be/ughBRtJwqQI"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"系統開機時-grub2-無法正常作業之急救"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系統開機時-grub2-無法正常作業之急救"}},[s._v("#")]),s._v(" 系統開機時 Grub2 無法正常作業之急救")]),s._v(" "),a("p",[s._v("https://www.pcsuggest.com/grub-error-no-such-device/")]),s._v(" "),a("h3",{attrs:{id:"使用-rsync-進行檔案複製-備份作業"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-rsync-進行檔案複製-備份作業"}},[s._v("#")]),s._v(" 使用 rsync 進行檔案複製／備份作業")]),s._v(" "),a("p",[s._v("https://blog.gtwang.org/linux/rsync-local-remote-file-synchronization-commands/")]),s._v(" "),a("h3",{attrs:{id:"使用-rsync-在伺服器間進行檔案同步作業"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-rsync-在伺服器間進行檔案同步作業"}},[s._v("#")]),s._v(" 使用 rsync 在伺服器間進行檔案同步作業")]),s._v(" "),a("p",[s._v("http://blogs.yyes.chc.edu.tw/post/2/592")]),s._v(" "),a("h3",{attrs:{id:"在-linux-平台將-hdd-硬碟升級成-ssd-硬碟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-linux-平台將-hdd-硬碟升級成-ssd-硬碟"}},[s._v("#")]),s._v(" 在 Linux 平台將 HDD 硬碟升級成 SSD 硬碟")]),s._v(" "),a("p",[s._v("https://www.pcsuggest.com/hdd-to-ssd-cloning-linux/")]),s._v(" "),a("h3",{attrs:{id:"在-linux-作業系統新增第二個硬碟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-linux-作業系統新增第二個硬碟"}},[s._v("#")]),s._v(" 在 Linux 作業系統新增第二個硬碟")]),s._v(" "),a("p",[s._v("https://blog.gtwang.org/linux/linux-add-format-mount-harddisk/")]),s._v(" "),a("p",[s._v("https://blog.gtwang.org/linux/linux-add-format-mount-4tb-harddisk/")])])}),[],!1,null,null,null);a.default=e.exports}}]);