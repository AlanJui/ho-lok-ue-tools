(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{291:function(s,a,n){s.exports=n.p+"assets/img/django-app-dirs.24e3fcb6.png"},292:function(s,a,n){s.exports=n.p+"assets/img/nginx.e3990a3a.png"},599:function(s,a,n){"use strict";n.r(a);var t=n(10),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"建置作業程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建置作業程序"}},[s._v("#")]),s._v(" 建置作業程序")]),s._v(" "),a("h2",{attrs:{id:"摘要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#摘要"}},[s._v("#")]),s._v(" 摘要")]),s._v(" "),a("p",[s._v("首次建置應用系統所需之執行平台時，應循本作業程序，完成應用系\n統應用有之安裝及設定工作。")]),s._v(" "),a("h2",{attrs:{id:"作業流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作業流程"}},[s._v("#")]),s._v(" 作業流程")]),s._v(" "),a("ul",[a("li",[s._v("安裝應用系統作業平台")]),s._v(" "),a("li",[s._v("安裝應用系統作業")]),s._v(" "),a("li",[s._v("安裝 HTTP 服務作業")]),s._v(" "),a("li",[s._v("安裝 WSGI 服務作業")])]),s._v(" "),a("h2",{attrs:{id:"設定-hostname-與-ip-對照表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-hostname-與-ip-對照表"}},[s._v("#")]),s._v(" 設定 Hostname 與 IP 對照表")]),s._v(" "),a("p",[s._v("在 Host 清單（檔案：/etc/hosts），建置 Django 應用系統之\nHost Name 及使 用之 IP 。")]),s._v(" "),a("ol",[a("li",[s._v("編輯 Host 清單。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("sudoedit /etc/hosts\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("添加一筆 Host 與 IP 對映紀錄。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1       localhost\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1       SRV-2020\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".66.10   app.ccc.tw.local\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".66.20   hangi.ccc.tw.local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"安裝應用系統作業平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝應用系統作業平台"}},[s._v("#")]),s._v(" 安裝應用系統作業平台")]),s._v(" "),a("p",[s._v("設定 Python 作業環境。")]),s._v(" "),a("ul",[a("li",[s._v("安裝 Ubuntu Server （使用 Ubuntu Desktop 22.04）")]),s._v(" "),a("li",[s._v("安裝 pyenv")]),s._v(" "),a("li",[s._v("安裝 poetry")])]),s._v(" "),a("h3",{attrs:{id:"安裝-pyenv"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-pyenv"}},[s._v("#")]),s._v(" 安裝 pyenv")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/pyenv/pyenv",target:"_blank",rel:"noopener noreferrer"}},[s._v("pyenv github 官網"),a("OutboundLink")],1)]),s._v(" "),a("ol",[a("li",[s._v("安裝 pyenv")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://pyenv.run "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("設定 Shell")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--------------------------------------------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pyenv")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--------------------------------------------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# export PYENV_ROOT=$(pyenv root)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PYENV_ROOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v('/.pyenv"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PYENV_ROOT")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" pyenv "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("/dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("pyenv init "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--path")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("pyenv init -"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PYENV_VIRTUALENV_DISABLE_PROMPT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("重啟 Shell")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$SHELL")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"安裝-python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-python"}},[s._v("#")]),s._v(" 安裝 python")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("pyenv "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".6\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"安裝-poetry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-poetry"}},[s._v("#")]),s._v(" 安裝 poetry")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://python-poetry.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python Poetry 官網"),a("OutboundLink")],1)]),s._v(" "),a("ol",[a("li",[s._v("安裝 poetry 套件")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sSL")]),s._v(" https://install.python-poetry.org "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" python3 -\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("驗證安裝結果。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ll ~/.local/share/pypoetry\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("設定 SHELL 環境")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.local/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("重啟 SHELL")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$SHELL")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("驗證安裝及設定結果。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("poetry "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n\npoetry self update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"安裝應用系統"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝應用系統"}},[s._v("#")]),s._v(" 安裝應用系統")]),s._v(" "),a("h3",{attrs:{id:"應用系統目錄結構"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#應用系統目錄結構"}},[s._v("#")]),s._v(" 應用系統目錄結構")]),s._v(" "),a("p",[a("img",{attrs:{src:n(291),alt:"Django 專案目錄結構"}})]),s._v(" "),a("h3",{attrs:{id:"建置目錄及設定使用權限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建置目錄及設定使用權限"}},[s._v("#")]),s._v(" 建置目錄及設定使用權限")]),s._v(" "),a("ol",[a("li",[s._v("建置應用系統安裝目錄。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /apps "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$_")]),s._v("\n\n❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" alanjui:www-data /apps\n\n❯ ll /apps\n總用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" www-data www-data "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":29 ./\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" root     root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":23 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" alanjui  www-data "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":30 hangi.ccc.tw.local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("將系統管理員用戶帳號加入 www-data 群組。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-G")]),s._v(" www-data alanjui\n\n❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" alanjui\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("alanjui"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("alanjui"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("groups")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("alanjui"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("adm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cdrom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",27"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sudo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",30"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",33"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("www-data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",46"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugdev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",109"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",122"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lpadmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",134"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lxd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",135"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sambashare"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",138"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("libvirt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("用戶帳號登出；再登入。")])]),s._v(" "),a("p",[s._v("務必執行此步驟，否則已付予 www-data 群組，在目錄及檔案之使用\n權限，將無法正常運作。")]),s._v(" "),a("h3",{attrs:{id:"安裝作業程序步驟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝作業程序步驟"}},[s._v("#")]),s._v(" 安裝作業程序步驟")]),s._v(" "),a("ol",[a("li",[s._v("進入應用系統安裝目錄")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /apps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("自 Git Repo 下載原始碼")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone git@github.com:AlanJui/Django4-Project-Template.git hangi.ccc.tw.local\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hangi.ccc.tw.local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("建置 Python 虛擬環境")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ pyenv version\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".6 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("set by /apps/hangi.ccc.tw.local/.python-version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n❯ python "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" venv .venv\n❯ ll .venv\n總用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" alanjui alanjui "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 ./\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" alanjui alanjui "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" alanjui alanjui "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 bin/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" alanjui alanjui "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 include/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" alanjui alanjui "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 lib/\nlrwxrwxrwx  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui alanjui    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 lib64 -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" lib/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui alanjui  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":38 pyvenv.cfg\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("安裝應用系統所需使用之 Python 套件。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ poetry shell\nSpawning shell within /apps/hangi.ccc.tw.local/.venv\n❯ emulate "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'. /apps/hangi.ccc.tw.local/.venv/bin/activate'")]),s._v("\n\n❯ poetry "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("組建應用系統。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("python manage.py migrate\npython manage.py collectstatic\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v("建立應用系統之「後台管理員」。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("python manage.py createsuperuser\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"驗證安裝作業成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#驗證安裝作業成功"}},[s._v("#")]),s._v(" 驗證安裝作業成功")]),s._v(" "),a("ol",[a("li",[s._v("啟動 Django Web Server。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("python manage.py runserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("在瀏覽器輸入以下網址，以此方式驗 證 Django 應用系統在\nDebug 模式，已能正常運作。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http://127.0.0.1:8000/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"驗證-hostname-亦能連線"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#驗證-hostname-亦能連線"}},[s._v("#")]),s._v(" 驗證 Hostname 亦能連線")]),s._v(" "),a("ol",[a("li",[s._v("編輯 /etc/hosts")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".66.20   hangi.ccc.tw.local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("啟動 Django Web Server。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("python manage.py runserver "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("在瀏覽器輸入以下網址，驗證 Hostname 已能正常運作。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("http://hangi.ccc.tw.local:8000/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"安裝-http-服務"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-http-服務"}},[s._v("#")]),s._v(" 安裝 HTTP 服務")]),s._v(" "),a("h3",{attrs:{id:"安裝-nginx-套件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-nginx-套件"}},[s._v("#")]),s._v(" 安裝 nginx 套件")]),s._v(" "),a("p",[s._v("安裝 nginx 作為 HTTP Server")]),s._v(" "),a("ol",[a("li",[s._v("安裝 nginx 套件。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("驗證 nginx 服務已完成安裝，且被正常啟動。")])]),s._v(" "),a("p",[s._v("檢驗服務已被啟動，且能隨作業系統開機，自行啟動；")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl status nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("📺 查詢 nginx 執行狀態：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("alanjui@VB02-Ubuntu-2004:~$ systemctl status nginx\n● nginx.service - A high performance web server and a reverse proxy server\n     Loaded: loaded "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/lib/systemd/system/nginx.service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset: enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     Active: active "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since Fri "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v("-03-26 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":30:00 CST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 1min 10s ago\n       Docs: man:nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Main PID: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("67493")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      Tasks: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("limit: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4653")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     Memory: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".8M\n     CGroup: /system.slice/nginx.service\n             ├─67493 nginx: master process /usr/sbin/nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" daemon on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" master_process on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n             ├─67494 nginx: worker process\n             └─67495 nginx: worker process\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":30:00 VB02-Ubuntu-2004 systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Starting A high performance web server and a reverse proxy ser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":30:00 VB02-Ubuntu-2004 systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Started A high performance web server and a reverse proxy serv"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nlines "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-14/14 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("END"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("檢驗 Web Client 端，已能連上由 nginx 服務建構而成之 HTTP\nServer 。")]),s._v(" "),a("p",[s._v("使用 Web 瀏覽器，瀏覽如下網址，若能正常閱讀「網頁」內容，\n則表 HTTP Server 已能 正常運作。")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("http://hangi.ccc.tw.local/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:n(292),alt:"nginx"}})]),s._v(" "),a("h3",{attrs:{id:"建置-http-虛擬網站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建置-http-虛擬網站"}},[s._v("#")]),s._v(" 建置 HTTP 虛擬網站")]),s._v(" "),a("p",[s._v("建置 HTTP 虛擬網站，供 Django 應用系統，處理 static 型態檔案\n。")]),s._v(" "),a("ol",[a("li",[s._v("建置 Nginx 虛擬網站設定檔。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/nginx/site-available\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" default hangi.ccc.tw.local\nsudoedit hangi.ccc.tw.local\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("/etc/nginx/sites-available/hangi.ccc.tw.local:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("upstream django_hangi "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server 127.0.0.1:8001;")]),s._v("\n    server unix:///apps/hangi.ccc.tw.local/web_app.sock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nserver "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    server_name             hangi.ccc.tw.local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    charset                 utf-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# max upload size")]),s._v("\n    client_max_body_size    75M"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Django media")]),s._v("\n    location /media "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v("        /apps/hangi.ccc.tw.local/media"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    location /static "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v("        /apps/hangi.ccc.tw.local/static_collected"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        uwsgi_pass   django_hangi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        include      /apps/hangi.ccc.tw.local/uwsgi_params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    access_log      /var/log/nginx/hangi.ccc.tw.local.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    error_log       /var/log/nginx/hangi.ccc.tw.local.error.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("檢測設定檔，確認內容無誤。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v("\nnginx: the configuration "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" /etc/nginx/nginx.conf syntax is ok\nnginx: configuration "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" /etc/nginx/nginx.conf "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" is successful\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"目錄及檔案權限設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目錄及檔案權限設定"}},[s._v("#")]),s._v(" 目錄及檔案權限設定")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" root:www-data /etc/nginx/sites-available\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" root:www-data /etc/nginx/sites-enable\n\n❯ ll /etc/nginx\n總用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":08 ./\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("145")]),s._v(" root root     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12288")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 conf.d/\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1125")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 fastcgi.conf\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1055")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 fastcgi_params\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2837")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 koi-utf\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2223")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 koi-win\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3957")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 mime.types\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 modules-available/\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":08 modules-enabled/\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1447")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 nginx.conf\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("180")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 proxy_params\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("636")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 scgi_params\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root www-data  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":28 sites-available/\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root www-data  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":14 sites-enabled/\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":08 snippets/\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("664")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 uwsgi_params\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3071")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" 01:31 win-utf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" alanjui:www-data /apps/hangi.ccc.tw.local\n\n❯ ll /apps/hangi.ccc.tw.local\n總用量 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2992")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":08 ./\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root    www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":38 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":43 api/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":19 article_pronunciation/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1036288")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":44 db.sqlite3\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1244")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .djlint_rules.yaml\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 docs/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9202")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 geckodriver.log\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":50 .git/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .github/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("407")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .gitignore\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":43 han_ji_dict/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1284")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 launch.json\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 libs/\n-rwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("663")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 manage.py*\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7734")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .markdownlint.jsonc\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 output.txt\n-rwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1143")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 package.json*\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1239565")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 package-lock.json\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("220192")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":11 poetry.lock\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .prettierrc.json\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5447")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":11 pyproject.toml\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .python-version\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18157")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 README.md\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1057")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 setup.cfg\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 static/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":44 static_collected/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("162")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .stylelintrc.json\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 templates/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("149")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":56 test.py\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 tests/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 tools/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("664")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":29 uwsgi_params\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" alanjui alanjui     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":15 .venv/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .vscode/\ndrwxrwxr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":56 web_app/\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("546")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(":08 web_app_uwsgi.ini\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3613")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 .yabs\n-rw-rw-r--  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("386745")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 yarn.lock\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br")])]),a("h3",{attrs:{id:"啟用-http-虛擬網站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#啟用-http-虛擬網站"}},[s._v("#")]),s._v(" 啟用 HTTP 虛擬網站")]),s._v(" "),a("ol",[a("li",[s._v("建立啟用 nginx 虛擬網站之 symlink 。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fns")]),s._v(" /etc/nginx/sites-available/hangi.ccc.tw.local /etc/nginx/sites-enable\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("重啟 nginx 服務。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart nginx\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("【無法正常重啟 nginx 案例】：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart nginx\nJob "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" nginx.service failed because the control process exited with error code.\nSee "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"systemctl status nginx.service"')]),s._v(" and "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"journalctl -xeu nginx.service"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" details.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"驗證-http-虛擬網站已能運作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#驗證-http-虛擬網站已能運作"}},[s._v("#")]),s._v(" 驗證 HTTP 虛擬網站已能運作")]),s._v(" "),a("p",[s._v("在 Web 用戶端，透過「瀏覽器」發送 HTTP Request，要求瀏覽某靜\n態檔案（如：.html / .css / .jpg / .png / ...），若瀏覽器能顯\n示該靜態檔案的內容，即代表 Nginx 所建置的「虛擬網站」，已能\n正常作業，對於 HTTP Request 要求，能提供相對映，應有之 HTTP\nResponse 。")]),s._v(" "),a("p",[s._v("在瀏覽器輸入以下網址，要求瀏覽 style.css 靜態檔。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("http://hangi.ccc.tw.local/static/admin/css/base.css\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("【實體檔案路徑】：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ ll /apps/hangi.ccc.tw.local/static_collected/admin/css/base.css\n-rw-r--r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" alanjui www-data "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20344")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":41 /apps/hangi.ccc.tw.local/static_collected/admin/css/base.css\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"安裝-wsgi-服務"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-wsgi-服務"}},[s._v("#")]),s._v(" 安裝 WSGI 服務")]),s._v(" "),a("h3",{attrs:{id:"建置-uwsgi-介面設定檔"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建置-uwsgi-介面設定檔"}},[s._v("#")]),s._v(" 建置 uWSGI 介面設定檔")]),s._v(" "),a("p",[s._v("WSGI 是 Python Web 應用系統介面，當 Web 伺服器遇有無法處理的\nHTTP Request ，將之轉換為 web sock 轉予 Django Application\n處理。")]),s._v(" "),a("p",[s._v("此步驟之目的，在於檢驗 Web 伺服器，可將 Web 用戶端傳來之\nHTTP Request ，打包成 Web Socket ，供 uWSGI 軟體轉交 Django\nApplication 處理。")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("web client "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" web server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" unix socket "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" uWSGI "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Python\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uwsgi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Django"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",[a("li",[s._v("透過 poetry 套件管理工具，安裝 python 套件：uwsgi 。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("poetry "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" uwsgi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("【註】：套件安裝檢驗")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--socket")]),s._v(" web_app.sock --wsgi-file test.py --chmod-socket"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("666")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("變更 nginx 虛擬網站設定檔，改用 Web Socket。")])]),s._v(" "),a("p",[s._v("【/etc/nginx/site-available/hangi.ccc.tw.local】：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("upstream django_hangi "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server 127.0.0.1:8001;")]),s._v("\n    server unix:///apps/hangi.ccc.tw.local/web_app.sock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("複製 nginx 所提供的 uwsgi 設定檔：uwsi_params")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/nginx/uwsgi_params "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" alanjui:www-data uwsgi_params\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("建置 uwsgi 用設定檔：web_app_uwsgi.ini 。")])]),s._v(" "),a("p",[a("code",[s._v("/apps/hangi.ccc.tw.local/web_app_uwsgi.ini")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("uwsgi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Django-related settings")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the base direc")]),s._v("\nchdir               "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /apps/hangi.ccc.tw.local\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Django's wsgi file")]),s._v("\nmodule              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" web_app.wsgi\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the virtualenv")]),s._v("\nhome                "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /apps/hangi.ccc.tw.local/.venv/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# process-related settings")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# master")]),s._v("\nmaster              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# maximum number of worker processes")]),s._v("\nprocesses           "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the socket")]),s._v("\nsocket              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /apps/hangi.ccc.tw.local/web_app.sock\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ... with appropriate permissions")]),s._v("\nchmod-socket        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("666")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# clear environment on exit")]),s._v("\nvacuum              "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h3",{attrs:{id:"驗證-wsgi-服務已與應用系統整合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#驗證-wsgi-服務已與應用系統整合"}},[s._v("#")]),s._v(" 驗證 WSGI 服務已與應用系統整合")]),s._v(" "),a("p",[s._v("驗證 Nginx + uWSGI + Django App 已完成整合。")]),s._v(" "),a("ol",[a("li",[s._v("執行 uwsgi 。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("poetry run uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("透過瀏覽器，驗證 HTTP Request 已能循下列路徑運作： nginx\n<--\x3e uwsgi <--\x3e Django App 。")]),s._v(" "),a("p",[s._v("在瀏覽器輸入以下網址：")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("http://hangi.ccc.tw.local/\nhttp://hangi.ccc.tw.local/static/admin/css/base.css\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"設定-wsgi-服務自動啟動"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-wsgi-服務自動啟動"}},[s._v("#")]),s._v(" 設定 WSGI 服務自動啟動")]),s._v(" "),a("p",[s._v("為使已佈署之 Django 應用系統，能於開機後自動啟動。故需建置及\n啟用 Django 應用系統專用之服務。")]),s._v(" "),a("ol",[a("li",[s._v("建置 hangi 服務設定檔。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("sudoedit /etc/systemd/system/hangi.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("【檔案內容】：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("uWSGI instance to serve hangi.ccc.tw.local\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStartPre")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-/usr/bin/bash "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mkdir -p /run/uwsgi; chown www-data:www-data /run/uwsgi'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/bin/bash "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cd /apps/hangi.ccc.tw.local; \\\n.venv/bin/uwsgi --ini web_app_uwsgi.ini'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("啟用 hangi 服務。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" hangi\nCreated symlink /etc/systemd/system/multi-user.target.wants/hangi.service → /etc/systemd/system/hangi.service.\n\n❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start hangi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("檢視 hangi 服務，確認該服務已能正常運作。")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("❯ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status hangi\n● hangi.service - uWSGI instance to serve hangi.ccc.tw.local\n     Loaded: loaded "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/etc/systemd/system/hangi.service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset: enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     Active: active "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since Thu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-07-20 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:32 CST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 1min 7s ago\n    Process: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17680")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStartPre")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/bin/bash "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /run/uwsgi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" www-data:www-data /run/uwsgi "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited,"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n   Main PID: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uwsgi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      Tasks: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("limit: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18976")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     Memory: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(".7M\n        CPU: 336ms\n     CGroup: /system.slice/hangi.service\n             ├─17682 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17751 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17752 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17753 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17754 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17755 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17756 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17757 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17758 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             ├─17759 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n             └─17760 .venv/bin/uwsgi "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ini")]),s._v(" web_app_uwsgi.ini\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17751")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17752")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17753")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17754")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17755")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17756")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17757")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17758")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17759")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":14:33 mbp-2012 bash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17682")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": spawned uWSGI worker "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17760")]),s._v(", cores: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nlines "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-31/31 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("END"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h2",{attrs:{id:"參考資料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#參考資料"}},[s._v("#")]),s._v(" 參考資料")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://uwsgi-docs.readthedocs.io/en/latest/tutorials/Django_and_nginx.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Setting up Django and your web server with uWSGI and nginx"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);