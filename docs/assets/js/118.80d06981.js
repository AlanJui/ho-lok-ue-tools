(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{405:function(s,n,o){"use strict";o.r(n);var e=o(10),a=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"ubuntu資料備份"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu資料備份"}},[s._v("#")]),s._v(" Ubuntu資料備份")]),s._v(" "),n("h1",{attrs:{id:"安裝及設定作業"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安裝及設定作業"}},[s._v("#")]),s._v(" 安裝及設定作業")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("建立可抽換式碟碟機將掛載的目錄\n$ sudo mkdir /BAK")])]),s._v(" "),n("li",[n("p",[s._v("在設定檔進行設定（ /etc/fstab ）\nUUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a                /BAK                ext4        noauto,users                0                0")])])]),s._v(" "),n("p",[s._v("/etc/fstab 範例：")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("# /etc/fstab: static file system information.\n#\n# Use 'blkid' to print the universally unique identifier for a\n# device; this may be used with UUID= as a more robust way to name devices\n# that works even if disks are added and removed. See fstab(5).\n#\n# <file system>                                     <mount point>  <type>   <options>         <dump>  <pass>\n# / was on /dev/sda2 during installation\nUUID=272b0fdf-9d56-414c-a181-9667a916eb70           /               ext4    errors=remount-ro    0       1\n# /home was on /dev/sda3 during installation\nUUID=45f291bd-a4a9-4d23-bc2f-0429619072cf           /home           ext4    defaults             0       2\n# swap was on /dev/sda1 during installation\nUUID=bf9345d8-a424-4b24-a2f1-b7bf11e0d68f           none            swap    sw                   0       0\nUUID=9279ede9-49f6-44fe-b481-261500f67675           /NAS            ext4    defaults             0       2\n#UUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a /BAK ext4 users 0 0\nUUID=03436d25-4a36-40b9-b8d2-7c40dee82f4a           /BAK            ext4    noauto,users         0       0\n")])])]),n("h1",{attrs:{id:"備份作業"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#備份作業"}},[s._v("#")]),s._v(" 備份作業")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("打開備份用外接磁碟機的電源。")])]),s._v(" "),n("li",[n("p",[s._v("在終端機輸入指令，用以確認作業系統能偵測到備份用的外接磁碟機。")]),s._v(" "),n("p",[s._v('admin@SRV-01:~$ sudo blkid\n/dev/loop0: TYPE="squashfs"\n/dev/loop1: TYPE="squashfs"\n/dev/loop2: TYPE="squashfs"\n/dev/loop3: TYPE="squashfs"\n/dev/loop4: TYPE="squashfs"\n/dev/loop5: TYPE="squashfs"\n/dev/loop6: TYPE="squashfs"\n/dev/loop7: TYPE="squashfs"\n/dev/sda1: UUID="bf9345d8-a424-4b24-a2f1-b7bf11e0d68f" TYPE="swap" PARTUUID="1df0c81f-4757-43de-8b2e-8066488a9d2c"\n/dev/sda2: UUID="272b0fdf-9d56-414c-a181-9667a916eb70" TYPE="ext4" PARTUUID="97babc23-9f72-4cb7-ad38-0100b2d3f83b"\n/dev/sda3: UUID="45f291bd-a4a9-4d23-bc2f-0429619072cf" TYPE="ext4" PARTUUID="c7f42354-6a36-4529-85f1-6659c0f2246e"\n/dev/sdb1: LABEL="NAS" UUID="9279ede9-49f6-44fe-b481-261500f67675" TYPE="ext4" PARTUUID="3c9b9d09-01"\n/dev/loop8: TYPE="squashfs"\n/dev/loop9: TYPE="squashfs"\n/dev/loop10: TYPE="squashfs"\n/dev/loop11: TYPE="squashfs"\n/dev/loop12: TYPE="squashfs"\n/dev/loop13: TYPE="squashfs"\n/dev/loop14: TYPE="squashfs"\n/dev/loop15: TYPE="squashfs"\n/dev/loop16: TYPE="squashfs"\n/dev/loop17: TYPE="squashfs"\n/dev/loop18: TYPE="squashfs"\n/dev/loop19: TYPE="squashfs"\n/dev/loop20: TYPE="squashfs"\n/dev/loop21: TYPE="squashfs"\n/dev/loop22: TYPE="squashfs"\n/dev/loop23: TYPE="squashfs"\n/dev/loop24: TYPE="squashfs"\n/dev/loop25: TYPE="squashfs"\n/dev/loop26: TYPE="squashfs"\n/dev/loop27: TYPE="squashfs"\n/dev/loop28: TYPE="squashfs"\n/dev/sdc1: UUID="03436d25-4a36-40b9-b8d2-7c40dee82f4a" TYPE="ext4" PARTUUID="ff19aa2b-01"')])]),s._v(" "),n("li",[n("p",[s._v("使用指令將備份用外接磁碟機，掛載於［/BAK］目錄。\nadmin@SRV-01:~$ sudo mount /BAK\n[sudo] password for alanjui:")])]),s._v(" "),n("li",[n("p",[s._v("使用指令確認，掛載成功。\nadmin@SRV-01:~$ df -h\n檔案系統        容量  已用  可用 已用% 掛載點\nudev            7.8G     0  7.8G    0% /dev\ntmpfs           1.6G  4.4M  1.6G    1% /run\n/dev/sda2       188G   19G  160G   11% /\ntmpfs           7.8G   68M  7.8G    1% /dev/shm\ntmpfs           5.0M  4.0K  5.0M    1% /run/lock\ntmpfs           7.8G     0  7.8G    0% /sys/fs/cgroup\n/dev/loop1      3.4M  3.4M     0  100% /snap/gnome-system-monitor/36\n/dev/loop2      3.8M  3.8M     0  100% /snap/gnome-system-monitor/39\n/dev/loop3       24M   24M     0  100% /snap/heroku/2899\n/dev/loop4      158M  158M     0  100% /snap/gitkraken/58\n/dev/loop5      140M  140M     0  100% /snap/gnome-3-26-1604/64\n/dev/loop6      5.0M  5.0M     0  100% /snap/canonical-livepatch/39\n/dev/loop0      200M  200M     0  100% /snap/gimp/40\n/dev/loop26     158M  158M     0  100% /snap/gitkraken/62\n/dev/loop9       24M   24M     0  100% /snap/heroku/2926\n/dev/loop11     2.4M  2.4M     0  100% /snap/gnome-calculator/167\n/dev/loop7      5.0M  5.0M     0  100% /snap/canonical-livepatch/41\n/dev/loop8      141M  141M     0  100% /snap/gnome-3-26-1604/59\n/dev/loop10     207M  207M     0  100% /snap/webstorm/28\n/dev/loop13      13M   13M     0  100% /snap/gnome-characters/69\n/dev/loop12      13M   13M     0  100% /snap/gnome-characters/86\n/dev/loop14      22M   22M     0  100% /snap/gnome-logs/31\n/dev/loop15     2.4M  2.4M     0  100% /snap/gnome-calculator/170\n/dev/loop18     3.8M  3.8M     0  100% /snap/gnome-system-monitor/41\n/dev/loop17      87M   87M     0  100% /snap/core/4486\n/dev/loop16      99M   99M     0  100% /snap/wonderwall/3\n/dev/loop19     1.7M  1.7M     0  100% /snap/gnome-calculator/154\n/dev/loop20      87M   87M     0  100% /snap/core/4650\n/dev/loop21      13M   13M     0  100% /snap/gnome-characters/96\n/dev/loop22      24M   24M     0  100% /snap/heroku/2936\n/dev/loop24     300M  300M     0  100% /snap/pycharm-professional/68\n/dev/loop23      87M   87M     0  100% /snap/core/4571\n/dev/loop25      21M   21M     0  100% /snap/gnome-logs/25\n/dev/loop27     296M  296M     0  100% /snap/pycharm-professional/66\n/dev/loop28      15M   15M     0  100% /snap/gnome-logs/34\n/dev/sdb1       1.8T  807G  934G   47% /NAS\n/dev/sda3       241G  115G  114G   51% /home\ntmpfs           1.6G   16K  1.6G    1% /run/user/120\ntmpfs           1.6G   56K  1.6G    1% /run/user/1000\ntmpfs           1.6G   60K  1.6G    1% /run/user/1001\n/dev/sdc1       917G  140G  731G   17% /BAK")])]),s._v(" "),n("li",[n("p",[s._v("啟動［Back In Time］App ．")])])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://d2mxuefqeaa7sj.cloudfront.net/s_2783AA4EE4F7828C577357A607719ABECF4516B737467F7C6022E82BA7C266C0_1476851535020_file.png",alt:""}})]),s._v(" "),n("ol",{attrs:{start:"6"}},[n("li",[s._v("透過ＵＩ操作介面，執行［進行快照］指令，開始進行磁碟備份工作．")])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://d2mxuefqeaa7sj.cloudfront.net/s_2783AA4EE4F7828C577357A607719ABECF4516B737467F7C6022E82BA7C266C0_1476851606233_file.png",alt:""}})]),s._v(" "),n("ol",{attrs:{start:"7"}},[n("li",[n("p",[s._v("備份工作完成後，以指令御載備份用的外接磁碟機．")]),s._v(" "),n("p",[s._v("admin@SRV-01:~$ sudo umount /BAK\n[sudo] password for alanjui:")])]),s._v(" "),n("li",[n("p",[s._v("驗證御載成功．")]),s._v(" "),n("p",[s._v("admin@SRV-01:~$ df -h\n檔案系統        容量  已用  可用 已用% 掛載點\nudev            7.8G     0  7.8G    0% /dev\ntmpfs           1.6G  4.4M  1.6G    1% /run\n/dev/sda2       188G   19G  160G   11% /\ntmpfs           7.8G   68M  7.8G    1% /dev/shm\ntmpfs           5.0M  4.0K  5.0M    1% /run/lock\ntmpfs           7.8G     0  7.8G    0% /sys/fs/cgroup\n/dev/loop1      3.4M  3.4M     0  100% /snap/gnome-system-monitor/36\n/dev/loop2      3.8M  3.8M     0  100% /snap/gnome-system-monitor/39\n/dev/loop3       24M   24M     0  100% /snap/heroku/2899\n/dev/loop4      158M  158M     0  100% /snap/gitkraken/58\n/dev/loop5      140M  140M     0  100% /snap/gnome-3-26-1604/64\n/dev/loop6      5.0M  5.0M     0  100% /snap/canonical-livepatch/39\n/dev/loop0      200M  200M     0  100% /snap/gimp/40\n/dev/loop26     158M  158M     0  100% /snap/gitkraken/62\n/dev/loop9       24M   24M     0  100% /snap/heroku/2926\n/dev/loop11     2.4M  2.4M     0  100% /snap/gnome-calculator/167\n/dev/loop7      5.0M  5.0M     0  100% /snap/canonical-livepatch/41\n/dev/loop8      141M  141M     0  100% /snap/gnome-3-26-1604/59\n/dev/loop10     207M  207M     0  100% /snap/webstorm/28\n/dev/loop13      13M   13M     0  100% /snap/gnome-characters/69\n/dev/loop12      13M   13M     0  100% /snap/gnome-characters/86\n/dev/loop14      22M   22M     0  100% /snap/gnome-logs/31\n/dev/loop15     2.4M  2.4M     0  100% /snap/gnome-calculator/170\n/dev/loop18     3.8M  3.8M     0  100% /snap/gnome-system-monitor/41\n/dev/loop17      87M   87M     0  100% /snap/core/4486\n/dev/loop16      99M   99M     0  100% /snap/wonderwall/3\n/dev/loop19     1.7M  1.7M     0  100% /snap/gnome-calculator/154\n/dev/loop20      87M   87M     0  100% /snap/core/4650\n/dev/loop21      13M   13M     0  100% /snap/gnome-characters/96\n/dev/loop22      24M   24M     0  100% /snap/heroku/2936\n/dev/loop24     300M  300M     0  100% /snap/pycharm-professional/68\n/dev/loop23      87M   87M     0  100% /snap/core/4571\n/dev/loop25      21M   21M     0  100% /snap/gnome-logs/25\n/dev/loop27     296M  296M     0  100% /snap/pycharm-professional/66\n/dev/loop28      15M   15M     0  100% /snap/gnome-logs/34\n/dev/sdb1       1.8T  807G  934G   47% /NAS\n/dev/sda3       241G  115G  114G   51% /home\ntmpfs           1.6G   16K  1.6G    1% /run/user/120\ntmpfs           1.6G   56K  1.6G    1% /run/user/1000\ntmpfs           1.6G   60K  1.6G    1% /run/user/1001")])])]),s._v(" "),n("p",[s._v("［備註］：")]),s._v(" "),n("p",[s._v("上述步驟 2 的其它替代作法．")]),s._v(" "),n("p",[s._v("2–1 外接磁碟機未開啟電源前，使用 ls 指令查詢 /dev 目錄下的磁碟機有那些；此時，看不到 sdc 磁碟機．")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("admin@SRV-01:~$ls /dev/sd*\n/dev/sda  /dev/sda1  /dev/sda2  /dev/sda3  /dev/sda4  /dev/sda5  /dev/sdb  /dev/sdb1\n")])])]),n("p",[s._v("2–2 外接磁碟機開啟電源後，使用 ls 指令查詢 /dev 目錄下的磁碟機，已可看到 sdc 磁碟機．")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("admin@SRV-01:~$ls /dev/sd*\n/dev/sda  /dev/sda1  /dev/sda2  /dev/sda3  /dev/sda4  /dev/sda5  /dev/sdb  /dev/sdb1  /dev/sdc  /dev/sdc1\n")])])])])}),[],!1,null,null,null);n.default=a.exports}}]);