(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{444:function(a,t,e){"use strict";e.r(t);var s=e(10),n=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"python-與-django-速查指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python-與-django-速查指令"}},[a._v("#")]),a._v(" Python 與 Django 速查指令")]),a._v(" "),t("h1",{attrs:{id:"一、虛擬環境-virtual-environment-管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、虛擬環境-virtual-environment-管理"}},[a._v("#")]),a._v(" 一、虛擬環境（Virtual Environment）管理")]),a._v(" "),t("h2",{attrs:{id:"a-虛擬環境管理作業-virtualenvwrapper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-虛擬環境管理作業-virtualenvwrapper"}},[a._v("#")]),a._v(" （A）虛擬環境管理作業：VirtualEnvWrapper")]),a._v(" "),t("p",[a._v("使用 VirtualEnvWrapper 。")]),a._v(" "),t("p",[a._v("虛擬環境所在目錄路徑\n~/.virtualenvs/＜虛擬環境名稱＞")]),a._v(" "),t("p",[t("strong",[a._v("建立虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ mkvirtualenv excel\n")])])]),t("p",[t("strong",[a._v("查詢可用之虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ workon\n")])])]),t("p",[t("strong",[a._v("啟用虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ workon excel\n")])])]),t("p",[a._v("停用"),t("strong",[a._v("虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ deactivate\n")])])]),t("p",[a._v("複製"),t("strong",[a._v("虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ cpvirtualenv <ExitEnvName> <TagretEnvName>\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"b-虛擬環境管理作業-conda"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-虛擬環境管理作業-conda"}},[a._v("#")]),a._v(" （B）虛擬環境管理作業：Conda")]),a._v(" "),t("p",[a._v("使用 Conda")]),a._v(" "),t("p",[a._v("虛擬環境所在目錄路徑（Mac）")]),a._v(" "),t("ul",[t("li",[a._v("Mac: ~/_mySDK/Python_Virtual_Env/myEnv")]),a._v(" "),t("li",[a._v("Windows 10: C:\\Users\\AlanJui\\AppData\\Local\\conda\\conda\\envs<VirtualEnvName>")])]),a._v(" "),t("p",[t("strong",[a._v("建立虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda create --name myDjangoEnv django\n")])])]),t("p",[a._v("虛擬環境存放目錄路徑：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("C:\\Users\\AlanJui\\AppData\\Local\\conda\\conda\\envs")])]),a._v(" "),t("li",[t("p",[a._v("C:\\ProgramData\\Anaconda3\\envs")])]),a._v(" "),t("li",[t("p",[a._v("C:\\Users\\AlanJui.conda\\envs")]),a._v(" "),t("p",[a._v("$ conda create --name myDjangoEnv django\nFetching package metadata .............\nSolving package specifications: .")]),a._v(" "),t("p",[a._v("Package plan for installation in environment C:\\Users\\AlanJui\\AppData\\Local\\conda\\conda\\envs\\myDjangoEnv:")]),a._v(" "),t("p",[a._v("The following NEW packages will be INSTALLED:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("  certifi:        2017.11.5-py35h456c6ae_0\n  django:         1.11.8-py35hd476221_0\n  pip:            9.0.1-py35h691316f_4\n  python:         3.5.4-h1357f44_23\n  pytz:           2017.3-py35hb294b1a_0\n  setuptools:     36.5.0-py35h21a22e4_0\n  vc:             14-h2379b0c_2\n  vs2015_runtime: 14.0.25123-hd4c4e62_2\n  wheel:          0.30.0-py35h38a90bc_1\n  wincertstore:   0.2-py35hfebbdb8_0\n")])])]),t("p",[a._v("Proceed ([y]/n)? y")]),a._v(" "),t("p",[a._v("python-3.5.4-h 100% |###############################| Time: 0:00:01  11.49 MB/s\ncertifi-2017.1 100% |###############################| Time: 0:00:00   8.04 MB/s\npytz-2017.3-py 100% |###############################| Time: 0:00:00   9.79 MB/s\nwincertstore-0 100% |###############################| Time: 0:00:00   1.25 MB/s\ndjango-1.11.8- 100% |###############################| Time: 0:00:01   2.55 MB/s\nsetuptools-36. 100% |###############################| Time: 0:00:00   9.89 MB/s\nwheel-0.30.0-p 100% |###############################| Time: 0:00:00   3.63 MB/s\npip-9.0.1-py35 100% |###############################| Time: 0:00:00  11.26 MB/s")]),a._v(" "),t("h1",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])]),a._v(" "),t("h1",{attrs:{id:"to-activate-this-environment-use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#to-activate-this-environment-use"}},[a._v("#")]),a._v(" To activate this environment, use:")]),a._v(" "),t("h1",{attrs:{id:"activate-mydjangoenv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#activate-mydjangoenv"}},[a._v("#")]),a._v(" > activate myDjangoEnv")]),a._v(" "),t("h1",{attrs:{id:"-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[a._v("#")])]),a._v(" "),t("h1",{attrs:{id:"to-deactivate-an-active-environment-use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#to-deactivate-an-active-environment-use"}},[a._v("#")]),a._v(" To deactivate an active environment, use:")]),a._v(" "),t("h1",{attrs:{id:"deactivate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deactivate"}},[a._v("#")]),a._v(" > deactivate")]),a._v(" "),t("h1",{attrs:{id:"-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-3"}},[a._v("#")])]),a._v(" "),t("h1",{attrs:{id:"for-power-users-using-bash-you-must-source"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-power-users-using-bash-you-must-source"}},[a._v("#")]),a._v(" * for power-users using bash, you must source")]),a._v(" "),t("h1",{attrs:{id:"-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-4"}},[a._v("#")])])])]),a._v(" "),t("p",[t("strong",[a._v("查詢可用之虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda info --envs\n")])])]),t("p",[t("strong",[a._v("啟用虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ source activate myDjangoEnv\n")])])]),t("p",[a._v("【註】：即便是 Windows 平台，若 CLI 用的不是 CMD ；而是 Git Bash ，一樣要加「source」。")]),a._v(" "),t("p",[t("strong",[a._v("停用虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ source deactivate\n")])])]),t("p",[t("strong",[a._v("刪除虛擬環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda remove --name <VirtualEnvName> --all\n")])])]),t("hr"),a._v(" "),t("h1",{attrs:{id:"二、管理-python-套件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、管理-python-套件"}},[a._v("#")]),a._v(" 二、管理 Python 套件")]),a._v(" "),t("h2",{attrs:{id:"使用-pip-管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-pip-管理"}},[a._v("#")]),a._v(" 使用 pip 管理")]),a._v(" "),t("p",[t("strong",[a._v("安裝最新版本套件")]),a._v("\n安裝最新之 django")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ pip install django\n")])])]),t("p",[t("strong",[a._v("安裝某版本之套件")]),a._v("\n安裝某特定版本之 django")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ pip install django==1.11\n")])])]),t("p",[t("strong",[a._v("查詢套件之版本")]),a._v("\n查詢目前使用之虛擬環境，其 django 版本為何")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('$ python -c "import django; print(django.get_version())"\n')])])]),t("p",[a._v("反安裝某套件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ pip uninstall django\n")])])]),t("p",[t("strong",[a._v("建立套件安裝清單")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ pip freeze > requirements.txt\n")])])]),t("p",[t("strong",[a._v("依據套件安裝清單安裝套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ pip install -r requirements.txt\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"使用-conda-管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-conda-管理"}},[a._v("#")]),a._v(" 使用 Conda 管理")]),a._v(" "),t("h2",{attrs:{id:"安裝最新版本套件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安裝最新版本套件"}},[a._v("#")]),a._v(" 安裝最新版本套件")]),a._v(" "),t("p",[a._v("**《範例》：**想在 myDjangoEnv 虛擬環境下，安裝 Python 3.5 版本的編譯器。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda create --name myDjangoEnv python=3.5\n")])])]),t("h2",{attrs:{id:"安裝最新版本套件-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安裝最新版本套件-2"}},[a._v("#")]),a._v(" 安裝最新版本套件")]),a._v(" "),t("p",[a._v("**《範例》：**安裝最新之 django")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda install django\n")])])]),t("h2",{attrs:{id:"常用套件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用套件"}},[a._v("#")]),a._v(" 常用套件")]),a._v(" "),t("ul",[t("li",[a._v("django")]),a._v(" "),t("li",[a._v("psycopg2")]),a._v(" "),t("li",[a._v("sqlalchemy")]),a._v(" "),t("li",[a._v("pandas")])]),a._v(" "),t("hr"),a._v(" "),t("h1",{attrs:{id:"三、django-專案操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、django-專案操作"}},[a._v("#")]),a._v(" 三、Django 專案操作")]),a._v(" "),t("h2",{attrs:{id:"建立-django-專案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建立-django-專案"}},[a._v("#")]),a._v(" 建立 Django 專案")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ cd ~/workspace/Python   # 進到專案的工作目錄路徑\n$ django-admin startproject django_01　　# 建立專案及其專案根目錄\n$ cd django_01  #　進入專案根目錄路徑\n")])])]),t("p",[a._v("【註】：專案名稱，可使用「底線」，但卻不能使用「横線」。")]),a._v(" "),t("h2",{attrs:{id:"啟動伺服器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#啟動伺服器"}},[a._v("#")]),a._v(" 啟動伺服器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py runserver\n")])])]),t("p",[a._v("以上之指令，可將 ‘python manage.py` 簡化成：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ ./manage.py runserver\n")])])]),t("h2",{attrs:{id:"建立-django-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建立-django-app"}},[a._v("#")]),a._v(" 建立 Django App")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ ./manage.py startapp first_app\n")])])]),t("p",[t("img",{attrs:{src:"https://d2mxuefqeaa7sj.cloudfront.net/s_CC33AD5C4678F36DFDEB0AC8B06CE225EA3992F406D9FA058E5D3E3761298111_1507351519116_2017-10-07_12-44-17.png",alt:""}})]),a._v(" "),t("hr"),a._v(" "),t("h1",{attrs:{id:"四、資料庫操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、資料庫操作"}},[a._v("#")]),a._v(" 四、資料庫操作")]),a._v(" "),t("p",[a._v("依據 Model 定義，製作／變更 DB Entity")]),a._v(" "),t("h2",{attrs:{id:"project-層級的-migrate-操作指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#project-層級的-migrate-操作指令"}},[a._v("#")]),a._v(" Project 層級的 Migrate 操作指令")]),a._v(" "),t("p",[a._v("【指令】：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ ./manage.py migrate\n")])])]),t("p",[a._v("《範例》：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auth, contenttypes, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying auth.0008_alter_user_username_max_length... OK\n  Applying sessions.0001_initial... OK\n")])])]),t("h2",{attrs:{id:"app-層級的-migrate-操作指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#app-層級的-migrate-操作指令"}},[a._v("#")]),a._v(" App 層級的 Migrate 操作指令")]),a._v(" "),t("p",[a._v("（1）指令：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ ./manage.py makemigrations <App_Name>\n")])])]),t("p",[a._v("【註】：記得在 Project 的 settings.py 檔案，於 INSTALLED_APPS = [ … ] 中，先加入 <App_Name>")]),a._v(" "),t("p",[a._v("《範例》：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py makemigrations first_app\nMigrations for 'first_app':\n  first_app\\migrations\\0001_initial.py\n    - Create model AccessRecord\n    - Create model Topic\n    - Create model Webpage\n    - Add field name to accessrecord\n")])])]),t("p",[t("img",{attrs:{src:"https://d2mxuefqeaa7sj.cloudfront.net/s_CC33AD5C4678F36DFDEB0AC8B06CE225EA3992F406D9FA058E5D3E3761298111_1507372725215_2017-10-07_18-38-05.png",alt:""}})]),a._v(" "),t("p",[a._v("（2）指令：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py migrate\n")])])]),t("p",[a._v("《範例》：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auth, contenttypes, first_app, sessions\nRunning migrations:\n  Applying first_app.0001_initial... OK\n")])])]),t("p",[t("img",{attrs:{src:"https://d2mxuefqeaa7sj.cloudfront.net/s_CC33AD5C4678F36DFDEB0AC8B06CE225EA3992F406D9FA058E5D3E3761298111_1507372901207_2017-10-07_18-40-28.png",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"使用-python-shell-進行資料操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-python-shell-進行資料操作"}},[a._v("#")]),a._v(" 使用 Python Shell 進行資料操作")]),a._v(" "),t("p",[t("strong",[a._v("（1） 啟用 Python Shell")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py shell\n")])])]),t("p",[t("strong",[a._v("（2）擇用 Model 中的某類別")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v(">>> from first_app.models import Topic\n")])])]),t("p",[t("strong",[a._v("（3）條列該類別的所有物件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v(">>> print(Topic.objects.all())\n<QuerySet []>\n")])])]),t("p",[t("strong",[a._v("（4）新增類別的一個物件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('>>> t = Topic(topic_name="Social Network")\n>>> t.save()\n')])])]),t("p",[t("strong",[a._v("（5）驗證物件已建立")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v(">>> print(Topic.objects.all())\n<QuerySet [<Topic: Social Network>]>\n")])])]),t("p",[t("strong",[a._v("（6）結束")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('>>> quit()\n(myDjangoEnv)\nAlanJui at MacBook-Pro.local in [~/workspace/Python/myProject_01]  on git:master ✗  0ccb775 "啟用 first_app 的首頁"\n18:55:16 $\n')])])]),t("h2",{attrs:{id:"db使用者管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#db使用者管理"}},[a._v("#")]),a._v(" ＤＢ使用者管理")]),a._v(" "),t("p",[a._v("建立「管理員」使用者")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py createsuperuser\n")])])]),t("hr"),a._v(" "),t("h1",{attrs:{id:"狀況排除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#狀況排除"}},[a._v("#")]),a._v(" 狀況排除")]),a._v(" "),t("h2",{attrs:{id:"_1-無法啟動-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-無法啟動-server"}},[a._v("#")]),a._v(" 1. 無法啟動 Server")]),a._v(" "),t("p",[t("strong",[a._v("問題現象：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("(myDjangoEnv)\nAlanJui@WIN-01 MINGW64 /d/Workspace/Python/django_01\n$ python manage.py runserver\nSegmentation fault\n")])])]),t("p",[t("strong",[a._v("解決方法：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py migrate\n")])])]),t("h2",{attrs:{id:"_2-無法依-app-中-models-py-的描述進行-migration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-無法依-app-中-models-py-的描述進行-migration"}},[a._v("#")]),a._v(" 2. 無法依 App 中 models.py 的描述進行 migration")]),a._v(" "),t("p",[t("strong",[a._v("問題現象：")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ python manage.py makemigrations first_app\nApp 'first_app' could not be found. Is it in INSTALLED_APPS?\n")])])]),t("p",[t("strong",[a._v("解決方法：")]),a._v("\n在 Project 的 settings.py 檔案，於 INSTALLED_APPS = [ … ] 中，先加入 <App_Name>")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("# Application definition\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'first_app',\n  ]\n")])])]),t("h2",{attrs:{id:"_3-安裝路徑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-安裝路徑"}},[a._v("#")]),a._v(" 3. 安裝路徑")]),a._v(" "),t("p",[t("strong",[a._v("Pip、Django、")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("C:\\Tools\\Miniconda3\\Lib\\site-packages\n")])])]),t("hr"),a._v(" "),t("h1",{attrs:{id:"anaconda3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#anaconda3"}},[a._v("#")]),a._v(" Anaconda3")]),a._v(" "),t("p",[a._v("參考文件：　https://conda.io/docs/user-guide/tasks/manage-environments.html")]),a._v(" "),t("h2",{attrs:{id:"安裝與設定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安裝與設定"}},[a._v("#")]),a._v(" 安裝與設定")]),a._v(" "),t("p",[t("strong",[a._v("Home Directory")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("C:\\Users\\AlanJui\\\n")])])]),t("p",[t("strong",[a._v("安裝目錄路徑")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("C:\\ProgramData\\Anaconda3\\\n")])])]),t("p",[t("strong",[a._v("虛擬環境目錄路徑")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("C:\\ProgramData\\Anaconda3\\envs\n")])])]),t("p",[t("strong",[a._v("系統環境設定")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("PATH = C:\\ProgramData\\Anaconda3\\Scripts;%PATH%\n")])])]),t("p",[a._v("驗證：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda -V\n")])])]),t("h2",{attrs:{id:"建立-environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建立-environment"}},[a._v("#")]),a._v(" 建立 Environment")]),a._v(" "),t("p",[a._v("新建")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda create --name myenv\n\n\nAlanJui@WIN-01 MINGW64 /d/Workspace/PythonExcel/PyXls-001 (master)\n$ conda create --name myDjango2\nFetching package metadata .............\nSolving package specifications:\nPackage plan for installation in environment C:\\Users\\AlanJui\\AppData\\Local\\conda\\conda\\envs\\myDjango2:\n\nProceed ([y]/n)? n\n\nExiting\n")])])]),t("p",[t("strong",[a._v("以舊環境複製出新環境")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('$ conda create --name my_root --clone="C:\\ProgramData\\Anaconda3"\n')])])]),t("p",[t("strong",[a._v("建立環境時，順便指定 Python 版本")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda create -n myenv python=3.4\n")])])]),t("p",[t("strong",[a._v("建立環境時，順便安裝Python套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda create -n myenv scipy=0.15.0\n")])])]),t("p",[a._v("以上單行指令等同以下兩條指令：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda create -n myenv python\n$ conda install -n myenv scipy=0.15.0\n")])])]),t("h2",{attrs:{id:"查詢可用環境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查詢可用環境"}},[a._v("#")]),a._v(" 查詢可用環境")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda info --envs\n\n\n$ conda env list\n\n\nAlanJui@WIN-01 MINGW64 /d/Workspace/PythonExcel/PyXls-001 (master)\n$ conda info --envs\n# conda environments:\n#\nmy_root                  C:\\Users\\AlanJui\\AppData\\Local\\conda\\conda\\envs\\my_root\nexcel                    C:\\ProgramData\\Anaconda3\\envs\\excel\nroot                  *  C:\\ProgramData\\Anaconda3\n")])])]),t("h2",{attrs:{id:"啟用環境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#啟用環境"}},[a._v("#")]),a._v(" 啟用環境")]),a._v(" "),t("p",[t("strong",[a._v("使用Git Bash")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ source activate excel\n")])])]),t("p",[t("strong",[a._v("使用Anaconda Prompt")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ activate excel\n")])])]),t("h2",{attrs:{id:"停用環境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#停用環境"}},[a._v("#")]),a._v(" 停用環境")]),a._v(" "),t("p",[t("strong",[a._v("使用Git Bash")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ source deactivate\n")])])]),t("p",[t("strong",[a._v("使用Anaconda Prompt")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ deactivate\n")])])]),t("h2",{attrs:{id:"安裝套件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安裝套件"}},[a._v("#")]),a._v(" 安裝套件")]),a._v(" "),t("p",[t("strong",[a._v("安裝套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda install <PKG>[==V.r]\n")])])]),t("p",[t("strong",[a._v("更新套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda update <PKG>\n")])])]),t("p",[t("strong",[a._v("更新所有套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda update --all\n")])])]),t("p",[a._v("升級Aconda/Conda")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda update conda\n$ conda update anaconda\n")])])]),t("p",[t("strong",[a._v("查詢已安裝之套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda list\n")])])]),t("p",[t("strong",[a._v("查詢某環境已安裝之套件")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ conda list -n root\n")])])]),t("h2",{attrs:{id:"與-pycharm-整合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#與-pycharm-整合"}},[a._v("#")]),a._v(" 與 PyCharm 整合")]),a._v(" "),t("p",[a._v("在 PyCharm 專案中，務必指定解釋器 python 所在位置，如：/c/ProgramData/Anaconda3/envs/excel/python.exe")]),a._v(" "),t("p",[a._v("如若遇到 PyCharm 抱怨：Anaconda installation is not found\n這是因為 PyCharm 在「判斷作業系統是否已安裝 Anaconda 的規則，是尋找［%HOMEPATH%/anaconda/］目錄是否已存在？」。")]),a._v(" "),t("p",[a._v("所以，遇著以上狀況時，則製作 SymboalLink 以解決問題：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("C:\\> mklink /D %HOMEPATH%\\anaconda C:\\ProgramData\\Anaconda3\n")])])]),t("p",[a._v("記得要重新啟動 PyCharm ，這樣才能令PyCharm通過「Anaconda是否已安裝的規則」。")]),a._v(" "),t("hr"),a._v(" "),t("h1",{attrs:{id:"佈署到-heroku"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#佈署到-heroku"}},[a._v("#")]),a._v(" 佈署到 Heroku")]),a._v(" "),t("h2",{attrs:{id:"_1-建立-heroku-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-建立-heroku-app"}},[a._v("#")]),a._v(" (1) 建立 Heroku App")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("$ git init\n$ ...\n$ heroku login\n$ heroku create --buildpack heroku/python\n")])])]),t("h2",{attrs:{id:"_2-setting-up-your-project"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-setting-up-your-project"}},[a._v("#")]),a._v(" (2) Setting up your project")]),a._v(" "),t("p",[a._v("In your project add the following to your "),t("code",[a._v("requirements.txt")]),a._v(":")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("django-toolbelt\n")])])]),t("p",[a._v("Create a file named "),t("code",[a._v("Procfile")]),a._v(" in your project with the following content:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("web: gunicorn --log-file - mysite.wsgi\n")])])]),t("p",[a._v("In your "),t("code",[a._v("settings.py")]),a._v(" change:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('DATABASES = {\n    "default": {\n        "ENGINE": "django.db.backends.sqlite3",\n        "NAME": "dev.db",\n    }\n}\n')])])]),t("p",[a._v("to:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('import dj_database_url\nDATABASES = {\n    "default": dj_database_url.config()\n}\n')])])]),t("p",[a._v("In your "),t("code",[a._v("mysite/wsgi.py")]),a._v(" change:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("application = get_wsgi_application()\n")])])]),t("p",[a._v("to:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("from dj_static import Cling, MediaCling\napplication = Cling(MediaCling(get_wsgi_application()))\n")])])]),t("h2",{attrs:{id:"_3-commit-to-git"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-commit-to-git"}},[a._v("#")]),a._v(" (3) Commit to git")]),a._v(" "),t("p",[a._v("Add everything to git and commit:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v('git add .\ngit commit -m "added Heroku support"\n')])])]),t("h2",{attrs:{id:"_4-deploy-to-heroku"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-deploy-to-heroku"}},[a._v("#")]),a._v(" (4) Deploy to Heroku")]),a._v(" "),t("p",[a._v("To deploy to Heroku you use "),t("code",[a._v("git")]),a._v(":")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("git push heroku master\n")])])]),t("p",[a._v("Run migrations:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("heroku run python manage.py migrate\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);