(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{245:function(e,t,n){e.exports=n.p+"assets/img/client-nginx-uwsgi-django.f0854045.png"},597:function(e,t,n){"use strict";n.r(t);var r=n(10),a=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"系統維運作業指引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系統維運作業指引"}},[e._v("#")]),e._v(" 系統維運作業指引")]),e._v(" "),t("h2",{attrs:{id:"文件摘要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件摘要"}},[e._v("#")]),e._v(" 文件摘要")]),e._v(" "),t("p",[e._v("本操作手冊旨在指導電腦機房操作員，如何在實體電腦（伺服器）上\n安裝及維護一個基於 Django 平台的應用系統。")]),e._v(" "),t("p",[e._v("文件主要架構：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("文件摘要：說明應用系統的用途與主要功能；")])]),e._v(" "),t("li",[t("p",[e._v("執行環境：說明應用系統使用的「技術」，如 ：軟體以何種電腦\n語言開發、軟體須於何種「平台（Framework）」執行；")])]),e._v(" "),t("li",[t("p",[e._v("建置作業：指引機房管理員，拿到第一版的應用系統時，如何執行\n首次的「建置作業」，完成應用系統應用有的安裝及設定工作；")])]),e._v(" "),t("li",[t("p",[e._v("更新作業：指引機房管理員，當應用系統遇有更新時（可能時機：\n新增功能、修正軟體錯誤），如何執行新版軟體的更新作業。")])])]),e._v(" "),t("h2",{attrs:{id:"執行環境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#執行環境"}},[e._v("#")]),e._v(" 執行環境")]),e._v(" "),t("h3",{attrs:{id:"伺服器服務架構"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#伺服器服務架構"}},[e._v("#")]),e._v(" 伺服器服務架構")]),e._v(" "),t("p",[e._v("本應用系統屬於「網路服務（Web Application）」類型，軟體使用\nPython 電腦語言開發，須於 Django 平台（Framework）之上執行。")]),e._v(" "),t("p",[e._v("基於：執行效能及安全性之考量，應用系統之執行環境，尚需搭配\nNginx HTTP Server 和 uWSGI Server 以提供穩定的網路服務。")]),e._v(" "),t("p",[t("img",{attrs:{src:n(245),alt:""}})]),e._v(" "),t("h3",{attrs:{id:"應用系統通訊作業流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#應用系統通訊作業流程"}},[e._v("#")]),e._v(" 應用系統通訊作業流程")]),e._v(" "),t("p",[e._v("基於上述之伺服器服務架構，以下透過使用者（亦稱：Web Client）\n的操作，其與應用系統間之互動程序，說明伺服器的各個服務，如何\n協同運作：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Web Client 發送 HTTP Request；")])]),e._v(" "),t("li",[t("p",[e._v("HTTP 服務收到 HTTP Request 後，屬「靜態檔案」 (Static\nFiles) 之請求，負責提供相關檔案予 Web Client 下載；或是將\nHTTP Request 打包成：「檔案類型」 之 Unix Socket ，然後轉\n交 APP 服務 (uWSGI) 處理；")])]),e._v(" "),t("li",[t("p",[e._v("APP 服務自檔案讀取 Unix Socket 內容，並轉發予 Django 應用\n系統處理此發自 Web Client 端之 HTTP Request。")])])]),e._v(" "),t("mermaid"),e._v(" "),t("div",{staticClass:"mermaid"},[e._v("sequenceDiagram\n    participant User\n    participant Browser\n    participant System\n\n    User->>Browser: 輸入URI 網址："),t("br"),e._v("/article_pronunciation/input/\n    Browser->>System: 發送系統功能指令 (HTTP GET Request)\n    System->>Browser: 回傳表單網頁 (HTTP Response)\n    Browser->>User: 依據 HTTP Response 顯示網頁\n    User->>Browser: 在網頁中的表單輸入漢字並按提交鈕\n    Browser->>System: 發送 HTTP POST Request（表單中輸入的漢字）\n    System->>System: 處理輸入的漢字，將之標註讀音\n    Note over System: 為文章中的每個漢字標註福建話音標。\n    System->>Browser: 重導 URI 網址："),t("br"),e._v("/article_pronunciation/pronunciation/\n    Browser->>User: 顯示標註讀音的漢字\n    Note over User,Browser: 文章中的每個漢字都標註有它的讀音。")]),t("h3",{attrs:{id:"運行作業環境規格"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#運行作業環境規格"}},[e._v("#")]),e._v(" 運行作業環境規格")]),e._v(" "),t("p",[e._v("以下是應用系統運行所需的技術和環境要求：")]),e._v(" "),t("ul",[t("li",[e._v("開發語言：Python")]),e._v(" "),t("li",[e._v("平台（Framework）：Django")]),e._v(" "),t("li",[e._v("HTTP Server：Nginx")]),e._v(" "),t("li",[e._v("WSGI Server：Gunicorn")])]),e._v(" "),t("p",[e._v("對於 Python 在應用及管理的要求如下：")]),e._v(" "),t("ul",[t("li",[e._v("直譯器版本：3.10.6")]),e._v(" "),t("li",[e._v("直譯器版本管理工具：pyenv")]),e._v(" "),t("li",[e._v("套件（Package）管理工具：Poetry")]),e._v(" "),t("li",[e._v("虛擬環境（VirtualEnv）管理工具：Python 內建的 venv 套件")]),e._v(" "),t("li",[e._v("虛擬環境使用之目錄：位於 Django 專案根目錄下，目錄名為\n.venv。")])]),e._v(" "),t("p",[e._v("應用系統之安裝、更新，務必檢查，確認工作之執行，遵循以上要求\n完成。在伺服器執行建置、更新作業時，務必遵循本指引相關作業章\n節，依照作業程序逐步執行，以確保應用系統能正確運行。")]),e._v(" "),t("h2",{attrs:{id:"作業程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作業程序"}},[e._v("#")]),e._v(" 作業程序")]),e._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/d500_OP/d510_Build_Server.html"}},[e._v("建置作業程序")])],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/d500_OP/d520_Update.html"}},[e._v("更新作業程序")])],1)]),e._v(" "),t("h2",{attrs:{id:"參考文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#參考文件"}},[e._v("#")]),e._v(" 參考文件")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://docs.djangoproject.com/en/4.2/howto/deployment/wsgi/uwsgi/",target:"_blank",rel:"noopener noreferrer"}},[e._v("How to use Django with uWSGI"),t("OutboundLink")],1),e._v("\n: Django 官網提供之文件，說明 Django 應用系統如何與 uWSGI\n整合；")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://uwsgi-docs.readthedocs.io/en/latest/",target:"_blank",rel:"noopener noreferrer"}},[e._v("uWSGI 官網文件"),t("OutboundLink")],1)]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://uwsgi-docs.readthedocs.io/en/latest/Install.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installing uWSGI"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://uwsgi.readthedocs.io/en/latest/tutorials/Django_and_nginx.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Setting up Django and your web server with uWSGI and nginx"),t("OutboundLink")],1)])])])]),e._v(" "),t("h2",{attrs:{id:"名詞解釋"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#名詞解釋"}},[e._v("#")]),e._v(" 名詞解釋")]),e._v(" "),t("ul",[t("li",[e._v("WSGI: Web Server Gateway Interface. WSGI is a Python\nstandard.")])]),e._v(" "),t("p",[e._v("A web server faces the outside world. It can serve files\n(HTML, images, CSS, etc) directly from the file system.\nHowever, it can’t talk directly to Django applications; it\nneeds something that will run the application, feed it\nrequests from web clients (such as browsers) and return\nresponses.")]),e._v(" "),t("p",[e._v("A Web Server Gateway Interface - WSGI - does this job. WSGI\nis a Python standard.")]),e._v(" "),t("p",[e._v("uWSGI is a WSGI implementation. In this tutorial we will set\nup uWSGI so that it creates a Unix socket, and serves\nresponses to the web server via the uwsgi protocol. At the\nend, our complete stack of components will look like this:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("the web client <-> the web server <-> the socket <-> uwsgi <-> Django\n")])])]),t("p",[e._v("Web 伺服器（或稱 HTTP 服務）負責與外界連繫。當外界欲提取檔案\n時（如：HTML 網頁、圖像、CSS 等），可由 Web 伺服器負責完成。\n然而，它不能直接與 Django 應用系統對話。")]),e._v(" "),t("p",[e._v("當 Web 用戶端（如：瀏覽器）發出的請求（request），需要\nDjango 應用系統進行處理，然後回應（Response）時，則需要一個\n中介軟體；由此中介軟體即所謂之：WSGI。")]),e._v(" "),t("p",[e._v("WSGI 的用途在於：自 Web 伺服器接收來自 Web 用戶端的請求；然\n後轉交予 Django 應用系統處理；最後將 Django 應用系統處理的結\n果回應予 Web 用戶端。")]),e._v(" "),t("p",[e._v("WSGI 是 Ptyhon Web 的標準，故 Django 應用系統需藉此標準與\nWeb 伺服器串接整合。而 uWSGI 則是一個依據 WSGI 標準實作之軟\n體。")])],1)}),[],!1,null,null,null);t.default=a.exports}}]);