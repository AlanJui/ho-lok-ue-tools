(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{382:function(a,s,t){"use strict";t.r(s);var e=t(10),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"ubuntu-å»ºç½®-django-æ•´åˆæ¸¬è©¦ä¼ºæœå™¨å®‰è£æŒ‡å¼•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-å»ºç½®-django-æ•´åˆæ¸¬è©¦ä¼ºæœå™¨å®‰è£æŒ‡å¼•"}},[a._v("#")]),a._v(" Ubuntu å»ºç½® Django æ•´åˆæ¸¬è©¦ä¼ºæœå™¨å®‰è£æŒ‡å¼•")]),a._v(" "),s("h2",{attrs:{id:"æ‘˜è¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‘˜è¦"}},[a._v("#")]),a._v(" æ‘˜è¦")]),a._v(" "),s("p",[a._v("æœ¬æ–‡ä»¶ç”¨æ–¼èªªæ˜ï¼šåœ¨ Django App çš„é–‹ç™¼æµç¨‹ä¸­ï¼Œå¦‚ä½•ä½¿ç”¨ VM å»ºç½®ã€Œæ•´åˆåŠæ¸¬è©¦ä¼ºæœå™¨ã€ã€‚")]),a._v(" "),s("ul",[s("li",[a._v("VM å»ºç½®å·¥å…·ï¼š VitualBoxï¼›")]),a._v(" "),s("li",[a._v("VM ä½œæ¥­ç³»çµ±ï¼šUbuntu Desktop 20.04 ã€‚")])]),a._v(" "),s("p",[a._v("ã€ä¸»è¦ç« ç¯€ã€‘ï¼š")]),a._v(" "),s("ul",[s("li",[a._v("å»ºç½® Ubuntu è™›æ“¬é›»è…¦")]),a._v(" "),s("li",[a._v("å»ºç½® Django App ä½œæ¥­å¹³å°")]),a._v(" "),s("li",[a._v("å®‰è£ Django App åŸå§‹ç¢¼")]),a._v(" "),s("li",[a._v("å»ºç½® Django App ç”¨ HTTP æœå‹™")]),a._v(" "),s("li",[a._v("å»ºç½® Django App ç”¨ DB æœå‹™")]),a._v(" "),s("li",[a._v("å»ºç½® Django App ç”¨ uWSGI æœå‹™")]),a._v(" "),s("li",[a._v("å»ºç½® Django App Server")])]),a._v(" "),s("h2",{attrs:{id:"å»ºç½®-ubuntu-è™›æ“¬é›»è…¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç½®-ubuntu-è™›æ“¬é›»è…¦"}},[a._v("#")]),a._v(" å»ºç½® Ubuntu è™›æ“¬é›»è…¦")]),a._v(" "),s("p",[a._v("ã€å®‰è£éœ€æ±‚ã€‘ï¼š")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("ä¸»æ©Ÿ(Host)ï¼šMacBookPro 2012")]),a._v(" "),s("ul",[s("li",[a._v("CPU: 2.9 GHz 2 æ ¸å¿ƒ Intel Core i7")]),a._v(" "),s("li",[a._v("RAM: 16 GB 1600 MHz DDR3")]),a._v(" "),s("li",[a._v("é¡¯å¡ï¼šIntel HD Graphics 4000 1536 MB")]),a._v(" "),s("li",[a._v("ç¡¬ç¢Ÿï¼š1TB SSD")]),a._v(" "),s("li",[a._v("OS: macOS Catalina")])])]),a._v(" "),s("li",[s("p",[a._v("VirtualBox: V6.1.18 (Qt5.6.3)")])])]),a._v(" "),s("p",[a._v("ã€å»ºç½® VM ä½œæ¥­ã€‘ï¼š")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/_my_dev_env/Debian/Ubuntu-Install_SIT_Server-Initial.html"}},[a._v("ã€ŠUbuntu 20.04 VM å»ºç½®ä½œæ¥­ã€‹")])],1),a._v(" "),s("h2",{attrs:{id:"å»ºç½®-django-app-ä½œæ¥­å¹³å°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç½®-django-app-ä½œæ¥­å¹³å°"}},[a._v("#")]),a._v(" å»ºç½® Django App ä½œæ¥­å¹³å°")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/_my_dev_env/Debian/Ubuntu-Install_SIT_Server-Build_DjangoApp_Platform.html"}},[a._v("ã€Šåœ¨ Ubuntu å»ºç½® Django App ä½œæ¥­å¹³å°æŒ‡å¼•ã€‹")])],1),a._v(" "),s("h2",{attrs:{id:"å»ºç½®-django-app-ç®¡ç†å“¡å¸³è™Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç½®-django-app-ç®¡ç†å“¡å¸³è™Ÿ"}},[a._v("#")]),a._v(" å»ºç½® Django App ç®¡ç†å“¡å¸³è™Ÿ")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("å»ºç½® Django App å¸³è™Ÿï¼šweb-adminã€‚")])]),a._v(" "),s("li",[s("p",[a._v("Logout å¾Œï¼Œå†ä»¥ Django App ç®¡ç†å“¡å¸³è™Ÿç™»å…¥ã€‚")])]),a._v(" "),s("li",[s("p",[a._v("è¨­å®šã€Œç™»å…¥å¸³è™Ÿã€å±¬ www-data ç¾¤çµ„ã€‚")])])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo usermod -aG www-data $USER\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("ç¢ºèª www-data ç¾¤çµ„å·²å»ºç«‹ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cat /etc/group | grep www-data\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("ğŸ“º")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alanjui@VB02-Ubuntu-2004:/var/www/mysite.ccc.tw.local$ cat /etc/group | grep www-data\nwww-data:x:33:alanjui\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("æª¢æŸ¥ã€Œä½¿ç”¨è€…å¸³è™Ÿã€åŠå…¶æ‰€æ­¸å±¬ã€Œç¾¤çµ„ã€ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("id\ngroups\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("ğŸ“º")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("alanjui@VB02-Ubuntu-2004:/var/www/mysite.ccc.tw.local$ id\nä½¿ç”¨è€…id=1000(alanjui) idç¾¤çµ„=1000(alanjui) çµ„=1000(alanjui),4(adm),24(cdrom),27(sudo),30(dip),33(www-data),46(plugdev),120(lpadmin),131(lxd),132(sambashare)\n\nalanjui@VB02-Ubuntu-2004:/var/www/mysite.ccc.tw.local$ groups\nalanjui adm cdrom sudo dip www-data plugdev lpadmin lxd sambashare\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h2",{attrs:{id:"å®‰è£-django-app-åŸå§‹ç¢¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£-django-app-åŸå§‹ç¢¼"}},[a._v("#")]),a._v(" å®‰è£ Django App åŸå§‹ç¢¼")]),a._v(" "),s("ol",[s("li",[a._v("å»ºç½® Django App ç›®éŒ„ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo su\ncd /var/www\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("å°‡ Django App åŸå§‹ç¢¼æ”¾å…¥ Django App ç›®éŒ„ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('git clone [User]@[URL]:"~/Path/to/ProjectRepo" [domain-name]\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("ğŸ“º")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('$ git clone alanjui@192.168.66.21:"~/workspace/django/test-100" app.ccc.tw.local\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("è¨­å®šã€Œç›®éŒ„ã€çš„æ“æœ‰ä½¿ç”¨è€…åŠä½¿ç”¨æ¬Šé™ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("chown -R www-data:www-data /var/www/[domain-name]\nchmod -R 775 /var/www/[domain-name]\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("ğŸ“º")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ chown -R www-data:www-data /var/www/app.ccc.tw.local\n$ chmod -R 775 /var/www/app.ccc.tw.local\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"å»ºç½®-http-æœå‹™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç½®-http-æœå‹™"}},[a._v("#")]),a._v(" å»ºç½® HTTP æœå‹™")]),a._v(" "),s("p",[a._v("ä½¿ç”¨ nginx æœå‹™ï¼Œé‡å°ï¼šç¶²é ã€åœ–ç‰‡ã€CSSã€JavaScriptâ‹¯â‹¯ ç­‰æª”æ¡ˆï¼ˆStatic Filesï¼‰ï¼Œå¯åˆ©ç”¨\nHTTP é€šä¿¡å”å®šï¼Œæä¾›æª”æ¡ˆä¸‹è¼‰åŠŸèƒ½ã€‚")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/_my_dev_env/Debian/Ubuntu-Install_Nginx_as_HTTP_Server.html"}},[a._v("ã€Šä»¥ Nginx å»ºç½® HTTP Server æŒ‡å¼•ã€‹")])],1),a._v(" "),s("ol",[s("li",[a._v("ä¿®æ”¹ settings.py æª”æ¡ˆå…§çš„è¨­å®šï¼š")])]),a._v(" "),s("ul",[s("li",[a._v("ALLOWED_HOSTS")]),a._v(" "),s("li",[a._v("STATIC_ROOT")]),a._v(" "),s("li",[a._v("MEDIA_ROOT")])]),a._v(" "),s("p",[a._v("ğŸ”–")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("....\nALLOWED_HOSTS = [\n    'mysite.ccc.tw.local',\n    'localhost',\n    '127.0.0.1',\n]\n....\nSTATIC_ROOT = BASE_DIR / 'static_collected'\n....\nMEDIA_ROOT = BASE_DIR / 'media'\nMEDIA_URL = '/media/'\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("è¨­å®š urls.py æª”ã€‚")])]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.djangoproject.com/en/3.1/howto/static-files/#serving-files-uploaded-by-a-user-during-development",target:"_blank",rel:"noopener noreferrer"}},[a._v("Serving files uploaded by a user during development"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://docs.djangoproject.com/en/3.1/howto/static-files/#serving-files-uploaded-by-a-user-during-development",target:"_blank",rel:"noopener noreferrer"}},[a._v("Managing static files (e.g. images, JavaScript, CSS)"),s("OutboundLink")],1)])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("from django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    # ... the rest of your URLconf goes here ...\n] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("ğŸ”– Django > v1.7 and < v3.0")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("urlpatterns = patterns('',\n    # ... the rest of your URLconf goes here ...\n) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("ul",[s("li",[a._v("ä¸åœ¨ DEBUG Mode ä¸å•Ÿç”¨çš„å¯«æ³•ï¼š")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("if settings.DEBUG:\n    urlpatterns += patterns('django.views.static',\n        (r'media/(?P<path>.*)', 'serve', {'document_root': settings.MEDIA_ROOT}),\n    )\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h2",{attrs:{id:"å»ºç½®-db-æœå‹™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç½®-db-æœå‹™"}},[a._v("#")]),a._v(" å»ºç½® DB æœå‹™")]),a._v(" "),s("p",[a._v("å»ºç½®ã€Œè³‡æ–™åº«ç³»çµ±ã€ï¼Œç”¨ä»¥æ”¯æ´ Django App åœ¨è³‡æ–™å­˜å–æ‰€éœ€ä¹‹åŠŸèƒ½ã€‚")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/_my_dev_env/Debian/Ubuntu-Install_Postgres_DB_Server.html"}},[a._v("ã€ŠPostgres DB Server å®‰è£æŒ‡å¼•ã€‹")])],1),a._v(" "),s("h3",{attrs:{id:"å®‰è£-postgres-æ”¯æ´å¥—ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£-postgres-æ”¯æ´å¥—ä»¶"}},[a._v("#")]),a._v(" å®‰è£ Postgres æ”¯æ´å¥—ä»¶")]),a._v(" "),s("ol",[s("li",[a._v("å•Ÿç”¨ã€Œè™›æ“¬ç’°å¢ƒã€ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo su\ncd /var/www/mysite.ccc.tw.local\nsource .venv/bin/activate\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("å®‰è£æ”¯æ´ psycopg2 å®‰è£ç”¨å¥—ä»¶")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("apt install libpq-dev\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("å®‰è£ psycopg2 å¥—ä»¶")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pip install psycopg2\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"è®Šæ›´-settings-py-è¨­å®šæª”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è®Šæ›´-settings-py-è¨­å®šæª”"}},[a._v("#")]),a._v(" è®Šæ›´ settings.py è¨­å®šæª”")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vim web_config/settings.py\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("ğŸ”– settings.py")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(". . .\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql_psycopg2',\n        'NAME': â€˜<db_name>â€™,\n        'USER': '<db_username>',\n        'PASSWORD': '<password>',\n        'HOST': '<db_hostname_or_ip>',\n        'PORT': '<db_port>',\n    }\n}\n. . .\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])]),s("h3",{attrs:{id:"å»ºç«‹è³‡æ–™åº«ç”¨-db-åŠ-tables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç«‹è³‡æ–™åº«ç”¨-db-åŠ-tables"}},[a._v("#")]),a._v(" å»ºç«‹è³‡æ–™åº«ç”¨ DB åŠ Tables")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.enterprisedb.com/postgres-tutorials/how-use-postgresql-django",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to use PostgreSQL with Django"),s("OutboundLink")],1)]),a._v(" "),s("ol",[s("li",[a._v("åŸ·è¡Œ django makemigrations æŒ‡ä»¤ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python manage.py makemigrations\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("åŸ·è¡Œ django migrate æŒ‡ä»¤ï¼Œå»ºç½®è³‡æ–™åº«ç³»çµ±ç”¨ DB Schemaã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python manage.py migrate\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("å»ºç«‹ã€Œå¾Œå°ä½¿ç”¨è€…å¸³è™ŸåŠå¯†ç¢¼ã€ã€‚")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python manage.py createsuperuser\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"å»ºç½®-uwsgi-æœå‹™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç½®-uwsgi-æœå‹™"}},[a._v("#")]),a._v(" å»ºç½® uWSGI æœå‹™")]),a._v(" "),s("h3",{attrs:{id:"å°‡å·²é‹ä½œä¸­ä¹‹-uwsgi-æœå‹™æš«åœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°‡å·²é‹ä½œä¸­ä¹‹-uwsgi-æœå‹™æš«åœ"}},[a._v("#")]),a._v(" å°‡å·²é‹ä½œä¸­ä¹‹ uwsgi æœå‹™æš«åœ")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo su\nsystemctl status uwsgi\nsystemctl stop uwsgi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h3",{attrs:{id:"è¨­å®š-uwsgi-åŸ·è¡Œç’°å¢ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¨­å®š-uwsgi-åŸ·è¡Œç’°å¢ƒ"}},[a._v("#")]),a._v(" è¨­å®š uwsgi åŸ·è¡Œç’°å¢ƒ")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /var/www/\nln -nfs /var/www/app.ccc.tw.local/config/app.ccc.tw.local.ini /etc/uwsgi/apps-enabled\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"é©—è­‰-uwsgi-æœå‹™è¨­å®šæª”èƒ½æ­£å¸¸é‹è¡Œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é©—è­‰-uwsgi-æœå‹™è¨­å®šæª”èƒ½æ­£å¸¸é‹è¡Œ"}},[a._v("#")]),a._v(" é©—è­‰ uwsgi æœå‹™è¨­å®šæª”èƒ½æ­£å¸¸é‹è¡Œ")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/usr/local/bin/uwsgi --ini /etc/uwsgi/apps-enabled/app.ccc.tw.local.ini\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"å•Ÿå‹•-uwsgi-æœå‹™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å•Ÿå‹•-uwsgi-æœå‹™"}},[a._v("#")]),a._v(" å•Ÿå‹• uwsgi æœå‹™")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("systemctl start uwsgi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"å•Ÿå‹•-django-app-server-ä½œæ¥­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å•Ÿå‹•-django-app-server-ä½œæ¥­"}},[a._v("#")]),a._v(" å•Ÿå‹• Django App Server ä½œæ¥­")]),a._v(" "),s("ol",[s("li",[a._v("é€²å…¥ç›®éŒ„")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo su\ncd /var/www/app.ccc.tw.local\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("å•Ÿå‹•ã€Œè™›æ“¬ç’°å¢ƒã€")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("source .venv/bin/activate\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("å®‰è£ Python å¥—ä»¶")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pip install -r requirements.txt\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("è¨­å®šã€Œä½œæ¥­æƒ…å¢ƒã€çš„ã€Œç’°å¢ƒè®Šæ•¸ã€ï¼š")])]),a._v(" "),s("p",[a._v("è¨­å®š Django App åŸ·è¡Œæ™‚ï¼ˆRun Timeï¼‰æ‡‰å¼•ç”¨ä¹‹ã€Œä½œæ¥­æƒ…å¢ƒã€ç’°å¢ƒè®Šæ•¸ã€‚")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('$ export django_app_mode_for_app="prod"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("æœé›†æ‰€æœ‰ Static æª”æ¡ˆ")])]),a._v(" "),s("p",[a._v("å®‰è£ HTTP Server éœ€ä½¿ç”¨ä¹‹ static æª”æ¡ˆ")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python manage.py collectstatic\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("å»ºç½® DB Schemas")])]),a._v(" "),s("ul",[s("li",[a._v('æ–¹æ³•ä¸€ï¼šå·²äº‹å…ˆè¨­å®š djang_app_mode_for _app="prod" ç’°å¢ƒè®Šæ•¸ç”¨æ³•')])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python manage.py makemigrations\npython manage.py migrate\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ul",[s("li",[a._v("æ–¹æ³•äºŒï¼šæœªäº‹å…ˆè¨­å®šç’°å¢ƒè®Šæ•¸ç”¨åœ”")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ DJANGO_SETTINGS_MODULE=web_site.settings.prod python manage.py makemigrations\n$ DJANGO_SETTINGS_MODULE=web_site.settings.prod python manage.py migrate\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("ã€è¨»ã€‘ï¼š å»ºç½®é–‹ç™¼ç’°å¢ƒä½¿ç”¨çš„ SQLite è³‡æ–™åº«")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ DJANGO_SETTINGS_MODULE=web_site.settings.dev python manage.py migrate\n$ DJANGO_SETTINGS_MODULE=web_site.settings.dev python manage.py createsuperuser\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("ol",{attrs:{start:"7"}},[s("li",[a._v("å»ºç«‹å¾Œå°ç®¡ç†å“¡å¸³è™Ÿèˆ‡å¯†ç¢¼")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ DJANGO_SETTINGS_MODULE=web_site.settings.prod python manage.py createsuperuser\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’è§£"}},[a._v("#")]),a._v(" å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’è§£")]),a._v(" "),s("p",[a._v("N/A")]),a._v(" "),s("h2",{attrs:{id:"åƒè€ƒæ–‡ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åƒè€ƒæ–‡ä»¶"}},[a._v("#")]),a._v(" åƒè€ƒæ–‡ä»¶")]),a._v(" "),s("h3",{attrs:{id:"django-settings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#django-settings"}},[a._v("#")]),a._v(" Django Settings")]),a._v(" "),s("p",[a._v("https://docs.djangoproject.com/en/2.1/topics/settings/")]),a._v(" "),s("p",[a._v("https://medium.com/@panzelva/deploying-django-website-to-vps-with-uwsgi-and-nginx-on-ubuntu-18-04-db9b387ad19d")]),a._v(" "),s("p",[a._v("How To Install Python 3 and Set Up a Programming Environment on Ubuntu 18.04 [Quickstart]\nhttps://www.digitalocean.com/community/tutorials/how-to-install-python-3-and-set-up-a-programming-environment-on-ubuntu-18-04-quickstart")]),a._v(" "),s("h3",{attrs:{id:"å¤šé‡ç’°å¢ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤šé‡ç’°å¢ƒ"}},[a._v("#")]),a._v(" å¤šé‡ç’°å¢ƒ")]),a._v(" "),s("p",[a._v("https://stackoverflow.com/questions/10664244/django-how-to-manage-development-and-production-settings")])])}),[],!1,null,null,null);s.default=n.exports}}]);