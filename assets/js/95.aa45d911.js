(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{382:function(s,a,t){"use strict";t.r(a);var e=t(10),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ubuntu-20-04-vm-建置作業指引"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-20-04-vm-建置作業指引"}},[s._v("#")]),s._v(" Ubuntu 20.04 VM 建置作業指引")]),s._v(" "),a("h2",{attrs:{id:"摘要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#摘要"}},[s._v("#")]),s._v(" 摘要")]),s._v(" "),a("p",[s._v("如何在 macOS 平台，使用 VirtualBox 建置 VM ，使之成為 Django App 在「開發段段」\n所需使用之「整合測試伺服器」。VM 使用之作業系統為：Ubuntu Desktop 20.04 。")]),s._v(" "),a("p",[s._v("【Host 需求摘要】：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("主機(Host)：MacBookPro 2012")]),s._v(" "),a("ul",[a("li",[s._v("CPU: 2.9 GHz 2 核心 Intel Core i7")]),s._v(" "),a("li",[s._v("RAM: 16 GB 1600 MHz DDR3")]),s._v(" "),a("li",[s._v("顯卡：Intel HD Graphics 4000 1536 MB")]),s._v(" "),a("li",[s._v("硬碟：1TB SSD")]),s._v(" "),a("li",[s._v("OS: macOS Catalina")])])]),s._v(" "),a("li",[a("p",[s._v("VirtualBox: V6.1.18 (Qt5.6.3)")])])]),s._v(" "),a("h2",{attrs:{id:"vm-建置作業"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm-建置作業"}},[s._v("#")]),s._v(" VM 建置作業")]),s._v(" "),a("h3",{attrs:{id:"在-virtualbox-建置-vm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-virtualbox-建置-vm"}},[s._v("#")]),s._v(" 在 VirtualBox 建置 VM")]),s._v(" "),a("p",[s._v("於 Host 機（如：MBP-2012），執行作業。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("使用：「VirtualBox 管理員」，建置 VM：VB-Ubuntu-2004。")])]),s._v(" "),a("li",[a("p",[s._v("啟用 Remote Display 功能。")])])]),s._v(" "),a("h3",{attrs:{id:"在-vm-安裝作業系統"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-vm-安裝作業系統"}},[s._v("#")]),s._v(" 在 VM 安裝作業系統")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("啟動 VM ，執行 Ubuntu 20.04 安裝作業。")])]),s._v(" "),a("li",[a("p",[s._v("重啟 VM ，更新已安裝套件。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo apt upgrade -y\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("安裝 VirtualBox Guest Additions")])]),s._v(" "),a("ul",[a("li",[s._v("安裝套件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo apt install build-essential\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("自光磁的執行檔，安裝 VirtualBox Guest Additions\n插入 VirtualBox Guest Additions CD （在 Host 掛載 ISO 檔案），並執行 RUN 。")])]),s._v(" "),a("li",[a("p",[s._v("重新開機，以便啟動 VirtualBox Guest Additions 功能，令 VM（即 VirtualBox Guest）\n能與 Host 的整合功能啟用（如：畫面、滑鼠、鍵盤等），便利 VM 之操作。")])])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[s._v("關閉「電源」設定中：「螢幕轉黑」之節省電源。")])]),s._v(" "),a("p",[s._v("設定》電源》節省電源》螢幕轉黒》永不")]),s._v(" "),a("h2",{attrs:{id:"設定遠端作業環境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定遠端作業環境"}},[s._v("#")]),s._v(" 設定遠端作業環境")]),s._v(" "),a("h3",{attrs:{id:"啟用-remote-display-功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#啟用-remote-display-功能"}},[s._v("#")]),s._v(" 啟用 Remote Display 功能")]),s._v(" "),a("p",[s._v("啟用 VirtualBox Guest 的 Remote Display 功能，以便可自 Host 或自 LAN 網路其它電腦，\n使用 RDP （Port: 3839）通信協定連上 VM 。")]),s._v(" "),a("h3",{attrs:{id:"啟用-ssh-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#啟用-ssh-service"}},[s._v("#")]),s._v(" 啟用 SSH Service")]),s._v(" "),a("ol",[a("li",[s._v("安裝套件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo apt install openssh-server ssh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("檢查 SSH Service 已執行；且能於開機後自動啟動。")])]),s._v(" "),a("ul",[a("li",[s._v("查看 Service Status")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl status ssh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("檢查 Active：顯示「active (running)」")]),s._v(" "),a("li",[s._v("檢查 Loaded：顯示「enabled」")])]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("取得 VM 的 IP 位址。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ip a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("使用 LAN 中的某電腦，驗證能透過 ssh 登入 VM 。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ssh [UserName]@[IP]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("📺")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("alanjui@MBP-2018:~$ ssh alanjui@192.168.66.220\nThe authenticity of host '192.168.66.220 (192.168.66.220)' can't be established.\nECDSA key fingerprint is SHA256:heZ/pyX8MSwujeXDr6H3OMEljccdOAHd/tDPWvI9Df0.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '192.168.66.220' (ECDSA) to the list of known hosts.\nalanjui@192.168.66.220's password:\nWelcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.8.0-48-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n現在可以安裝 0 項更新。\n其中有 0 項更新為安全性更新。\n\nYour Hardware Enablement Stack (HWE) is supported until April 2025.\n\nThe programs included with the Ubuntu system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nUbuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by\napplicable law.\n\nalanjui@VB02-Ubuntu-2004:~$\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h3",{attrs:{id:"啟用免密碼-ssh-登入功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#啟用免密碼-ssh-登入功能"}},[s._v("#")]),s._v(" 啟用免密碼 SSH 登入功能")]),s._v(" "),a("p",[s._v("使用 SSH 指令登入 Remote Server ，在過程中，原本需要輸入「密碼」：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ssh [UserName]@[Remote_Server_IP]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("待完成此處之設定作業後，往後的「登入作業」過程，則可略去「輸入密碼」之操作。")]),s._v(" "),a("ol",[a("li",[s._v("執行 ssh key 建置指令。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ssh-keygen\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("📺")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("將 SSH Public Key 存放一副本至 Remote SSH Server 。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ssh-copy-id [UserName]@[Remote_IP]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);