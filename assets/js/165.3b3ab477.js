(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{455:function(e,a,r){"use strict";r.r(a);var t=r(10),o=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"deploy-docker-containers-to-azzure-app-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-docker-containers-to-azzure-app-service"}},[e._v("#")]),e._v(" Deploy Docker containers to Azzure App Service")]),e._v(" "),a("h1",{attrs:{id:"作業流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作業流程"}},[e._v("#")]),e._v(" 作業流程")]),e._v(" "),a("h2",{attrs:{id:"建立-acr"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立-acr"}},[e._v("#")]),e._v(" 建立 ACR")]),e._v(" "),a("ul",[a("li",[e._v("Resource Group: AzureDocker-rg")]),e._v(" "),a("li",[e._v("Registry Name: ccc99")]),e._v(" "),a("li",[e._v("SKU: Standard")])]),e._v(" "),a("h2",{attrs:{id:"建立-django-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立-django-project"}},[e._v("#")]),e._v(" 建立 Django Project")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("cd ~/workspace/django\nmkdir my-project && cd $_\npython -m venv .venv\nsource .venv/bin/activate\npip install django\nmkdir django && cd $_\ndjango-admin startproject web_app .\ncode .\n")])])]),a("h2",{attrs:{id:"建立-django-用-dockerfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#建立-django-用-dockerfile"}},[e._v("#")]),e._v(" 建立 Django 用 Dockerfile")]),e._v(" "),a("h2",{attrs:{id:"在-acr-建立-docker-image-檔案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-acr-建立-docker-image-檔案"}},[e._v("#")]),e._v(" 在 ACR 建立 Docker Image 檔案")]),e._v(" "),a("p",[e._v("（1）登入 ACR 。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("az acr login --name ccc99\n")])])]),a("p",[e._v("（2）組建 Django App Docker Image ，並於完成後置入 ACR 。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("az acr build --image ccc99.azurecr.io/my-log:v1 \\\n  --registry ccc99 \\\n  --file Dockerfile .\n")])])]),a("p",[e._v("（3）自 VS Code —》Docker —》Registeries 啟動「佈署」指令：")]),e._v(" "),a("ul",[a("li",[e._v("Globally unique name: my-log-ccc99")]),e._v(" "),a("li",[e._v("Resource Group: AzureDocker-rg")]),e._v(" "),a("li",[e._v("Linux App Service Plan: production")])]),e._v(" "),a("p",[e._v("（4）自 VS Code —》Azure —》Open Web Site：  https://my-log-ccc99.azurewebsites.net")]),e._v(" "),a("h1",{attrs:{id:"參考文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#參考文件"}},[e._v("#")]),e._v(" 參考文件")]),e._v(" "),a("h2",{attrs:{id:"【文件】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【文件】"}},[e._v("#")]),e._v(" 【文件】：")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/developer/python/tutorial-deploy-containers-01",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tutorial: Deploy Docker containers to Azure App Service with Visual Studio Code"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://code.visualstudio.com/docs/containers/quickstart-python",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python in a container"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/microsoft/python-sample-vscode-django-tutorial/tree/tutorial",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python/Django Tutorial Sample for VS Code"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"【docker-指令】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【docker-指令】"}},[e._v("#")]),e._v(" 【Docker 指令】：")]),e._v(" "),a("p",[e._v("（1）組建 Docker Image 檔案")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("docker build\n")])])]),a("p",[e._v("（2）為 Docker Image 檔案添加「標籤」。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("docker tag <ImageName> ccc99.azurecr.io/<ImageName>:<Version>\n")])])]),a("p",[e._v("（3）驗證 Docker Image 的標籤已建立。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("docker images\n")])])]),a("p",[e._v("（4）將 Docker Image 檔案置入 Docker Hub 之類的網站（ACR）。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("docker push ccc99.azurecr.io/<ImageName>:<Version>\n")])])])])}),[],!1,null,null,null);a.default=o.exports}}]);