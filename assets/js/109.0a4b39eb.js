(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{396:function(t,e,n){"use strict";n.r(e);var s=n(10),a=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"ubuntu-18-04-安裝-mail-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-18-04-安裝-mail-server"}},[t._v("#")]),t._v(" Ubuntu 18.04 安裝 Mail Server")]),t._v(" "),e("h1",{attrs:{id:"事前準備"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事前準備"}},[t._v("#")]),t._v(" 事前準備")]),t._v(" "),e("h2",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),e("h2",{attrs:{id:"dns-records-設定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns-records-設定"}},[t._v("#")]),t._v(" DNS Records 設定")]),t._v(" "),e("p",[t._v("在 DNS Server 應有的 DNS Records 。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://paper-attachments.dropbox.com/s_29964F2DD0AAE3B4769BBC77CD42FD4AF112406072B19CA9F422FF7DFE219E92_1557541679034_image.png",alt:""}})]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("; Domain: ccc99.tw\n; Exported (y-m-d hh:mm:ss): 2019-03-27 21:47:30\n;\n; This file is intended for use for informational and archival\n; purposes ONLY and MUST be edited before use on a production\n; DNS server.\n;\n; In particular, you must update the SOA record with the correct\n; authoritative name server and contact e-mail address information,\n; and add the correct NS records for the name servers which will\n; be authoritative for this domain.\n;\n; For further information, please consult the BIND documentation\n; located on the following website:\n;\n; http://www.isc.org/\n;\n; And RFC 1035:\n;\n; http://www.ietf.org/rfc/rfc1035.txt\n;\n; Please note that we do NOT offer technical support for any use\n; of this zone data, the BIND name server, or any other third-\n; party DNS software.\n;\n; Use at your own risk.\n\n\n; SOA Record\nccc99.tw.        3600         IN         SOA        ns69.domaincontrol.com.        dns.jomax.net. (\n                                        2019032704\n                                        28800\n                                        7200\n                                        604800\n                                        3600\n                                        ) \n\n; A Records\n@        600         IN         A        180.218.139.80\n\n; CNAME Records\nmail       3600         IN         CNAME        @\nwww        3600         IN         CNAME        @\n_domainconnect        3600         IN         CNAME        _domainconnect.gd.domaincontrol.com.\n\n; MX Records\n@        3600         IN         MX        10        @\n\n; TXT Records\n\n; SRV Records\n\n; AAAA Records\n\n; CAA Records\n\n; NS Records\n@        3600         IN         NS        ns69.domaincontrol.com.\n@        3600         IN         NS        ns70.domaincontrol.com.\n")])])]),e("h2",{attrs:{id:"host-名稱"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#host-名稱"}},[t._v("#")]),t._v(" Host 名稱")]),t._v(" "),e("p",[t._v("檔案：/etc/hosts ，無需設定。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("127.0.0.1       localhost\n192.168.66.10   SRV-01\n\n192.168.66.100  myapp.ccc99.tw\n\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n")])])]),e("h1",{attrs:{id:"安裝-postfix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安裝-postfix"}},[t._v("#")]),t._v(" 安裝 Postfix")]),t._v(" "),e("p",[t._v("於 IP： 192.168.66.10 伺服器安裝 Postfix")]),t._v(" "),e("h2",{attrs:{id:"伺服器安裝作業"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#伺服器安裝作業"}},[t._v("#")]),t._v(" 伺服器安裝作業")]),t._v(" "),e("p",[e("strong",[t._v("安裝前置工作")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo apt update\nsudo apt upgrade\n")])])]),e("p",[e("strong",[t._v("安裝 Postfix 軟體套件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo DEBIAN_PRIORITY=low apt install postfix\n")])])]),e("p",[e("img",{attrs:{src:"https://d2mxuefqeaa7sj.cloudfront.net/s_29964F2DD0AAE3B4769BBC77CD42FD4AF112406072B19CA9F422FF7DFE219E92_1553244457566_image.png",alt:""}})]),t._v(" "),e("p",[t._v("Postfix 安裝過程的「套件設定」:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("General type of mail configuration?")]),t._v(": "),e("strong",[t._v("Internet Site")])]),t._v(" "),e("li",[e("strong",[t._v("System mail name")]),t._v(": example.com (not mail.example.com): "),e("strong",[t._v("ccc99.tw")])]),t._v(" "),e("li",[e("strong",[t._v("Root and postmaster mail recipient")]),t._v(": "),e("strong",[t._v("alanjui")])]),t._v(" "),e("li",[e("strong",[t._v("Other destinations to accept mail for")]),t._v(": "),e("strong",[t._v("$myhostname, ccc99.tw, mail.ccc99.tw, SRV-01, localhost.localdomain, localhost")])]),t._v(" "),e("li",[e("strong",[t._v("Force synchronous updates on mail queue?")]),t._v(": "),e("strong",[t._v("No")])]),t._v(" "),e("li",[e("strong",[t._v("Local networks")]),t._v(": "),e("strong",[t._v("127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.66.0/24")])]),t._v(" "),e("li",[e("strong",[t._v("Mailbox size limit")]),t._v(": "),e("strong",[t._v("0")])]),t._v(" "),e("li",[e("strong",[t._v("Local address extension character")]),t._v(": "),e("strong",[t._v("+")])]),t._v(" "),e("li",[e("strong",[t._v("Internet protocols to use")]),t._v(": "),e("strong",[t._v("all")])])]),t._v(" "),e("p",[e("strong",[t._v("/etc/postfix/main.cf ：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('# See /usr/share/postfix/main.cf.dist for a commented, more complete version\n\n# Debian specific:  Specifying a file name will cause the first\n# line of that file to be used as the name.  The Debian default\n# is /etc/mailname.\nmyorigin = /etc/mailname\n\nsmtpd_banner = $myhostname ESMTP $mail_name (Ubuntu)\nbiff = no\n\n# appending .domain is the MUA\'s job.\nappend_dot_mydomain = no\n\n# Uncomment the next line to generate "delayed mail" warnings\n#delay_warning_time = 4h\n\nreadme_directory = no\n\n# See http://www.postfix.org/COMPATIBILITY_README.html -- default to 2 on\n# fresh installs.\ncompatibility_level = 2\n\n# TLS parameters\n#smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n#smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\nsmtpd_use_tls = yes\nsmtpd_tls_cert_file = /etc/letsencrypt/live/mail.ccc99.tw/fullchain.pem\nsmtpd_tls_key_file = /etc/letsencrypt/live/mail.ccc99.tw/privkey.pem\nsmtpd_tls_security_level = may\nsmtpd_tls_protocols = !SSLv2, !SSLv3 !TLSv1\n#smtpd_tls_protocols = SSLv2, SSLv3 TLSv1\nsmtpd_tls_loglevel = 1\n# to debug SASL Login authentication failed: UGFzc3dvcmQ6\nsmtpd_tls_auth_only = yes\nsmtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache\n\nsmtp_use_tls = yes\nsmtp_tls_security_level = may\nsmtp_tls_loglevel = 1\nsmtp_tls_session_cache_database = btree:${data_directory}/smtp_scache\n\n# See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for\n# information on enabling SSL in the smtp client.\n\nsmtpd_relay_restrictions = permit_mynetworks permit_sasl_authenticated defer_unauth_destination\n\n# ------------------------------------------------------------------------------------\n\nsmtpd_sasl_auth_enable = yes\nsmtpd_sasl_type = dovecot\nsmtpd_sasl_path = private/auth\n\n# ====================================================================================\n\nmyhostname = mail.ccc99.tw\nmydestination = $myhostname, ccc99.tw, mail.ccc99.tw, SRV-01, localhost.localdomain, localhost\nrelayhost =\nmynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.66.0/24\nmailbox_size_limit = 0\nrecipient_delimiter = +\ninet_interfaces = all\ninet_protocols = all\n\nhome_mailbox = Maildir/\nmailbox_command =\nqueue_directory = /var/spool/postfix\n\nalias_maps = hash:/etc/aliases\nalias_database = hash:/etc/aliases\n\nvirtual_alias_maps = hash:/etc/postfix/virtual\n\n# Dovecot LMTP: https://blog.pighead.cc/whsyu/2011/05/23/dovecot-lmtp/\nmailbox_transport = lmtp:unix:private/dovecot-lmtp\n#mailbox_transport = lmtp:unix:/var/spool/postfix/private/dovecot-lmtp\n')])])]),e("p",[e("strong",[t._v("產生 Virtual Map 檔案")])]),t._v(" "),e("p",[t._v("Map mail address to Linux accounts.")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("設定 "),e("strong",[t._v("/etc/postfix/virtual :")])]),t._v(" "),e("p",[t._v("root@ccc99.tw           admin\ncontact@ccc99.tw        admin\nadmin@ccc99.tw          admin\nservice@ccc99.tw        admin")])]),t._v(" "),e("li",[e("p",[t._v("產生 Map 檔")]),t._v(" "),e("p",[t._v("sudo postmap /etc/postfix/virtual")])])]),t._v(" "),e("p",[e("strong",[t._v("產生 Aliases Map 檔案")])]),t._v(" "),e("ol",[e("li",[e("p",[t._v("設定 "),e("strong",[t._v("/etc/aliases ：")])]),t._v(" "),e("p",[t._v("postmaster : root\nroot : admin")])]),t._v(" "),e("li",[e("p",[t._v("產生 Map 檔案")]),t._v(" "),e("p",[t._v("sudo postalias /etc/aliases")])])]),t._v(" "),e("p",[e("strong",[t._v("重新啟動 Postfix")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo service postfix restart\n")])])]),e("h2",{attrs:{id:"用戶端佈署設定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用戶端佈署設定"}},[t._v("#")]),t._v(" 用戶端佈署設定")]),t._v(" "),e("p",[t._v("進行 Shell 環境（如：bash） 設定，指明 Mail Server 所使用的 Mail Box 類別。")]),t._v(" "),e("ol",[e("li")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ echo 'export MAIL=~/Maildir' | sudo tee -a /etc/bash.bashrc | sudo tee -a /etc/profile.d/mail.sh\n")])])]),e("ol",{attrs:{start:"2"}},[e("li")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ source /etc/profile.d/mail.sh\n")])])]),e("h2",{attrs:{id:"驗證-smtp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#驗證-smtp"}},[t._v("#")]),t._v(" 驗證 SMTP")]),t._v(" "),e("p",[t._v("使用 mail 工具程式測試寄郵件功能是否已能正常運作")]),t._v(" "),e("h2",{attrs:{id:"使用-mutt-工具測試"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-mutt-工具測試"}},[t._v("#")]),t._v(" 使用 mutt 工具測試")]),t._v(" "),e("p",[e("strong",[t._v("（1）安裝測試用工具軟體")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo apt install mutt\n")])])]),e("p",[e("strong",[t._v("（2）設定組態")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ cd\n$ nano ~/.muttrc\n")])])]),e("p",[t._v("~/.muttrc")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v(' 1 # About Me\n 2 set from = "alanjui@ccc99.tw"\n 3 set realname = "Alan Jui"\n 4\n 5 # My credentials\n 6 set copy = yes\n 7 set smtp_url = "smtp://alanjui@mail.ccc99.tw:587/"\n 8 set smtp_pass = "Alan5550@"\n 9 set imap_user = "alanjui@mail.ccc99.tw"\n10 set imap_pass = "Alan5550@"\n11\n12 # My mailboxes\n13 set folder = "imaps://mail.ccc99.tw:993"\n14 set spoolfile = "+INBOX"\n15 set record = +sent\n16 set postponed = +drafts\n17 #set spoolfile = "imaps://mail.ccc99.tw/INBOX"\n18 #set record = "imaps://mail.ccc99.tw/Sent"\n19 #set postponed="imaps://mail.ccc99.tw/Drafts"\n20\n21 # Where to put the stuff\n22 set header_cache = "~/.mutt/cache/headers"\n23 set message_cachedir = "~/.mutt/cache/bodies"\n24 set certificate_file = "~/.mutt/certificates"\n25\n26 # Etc\n27 set mail_check = 30\n28 set move = no\n')])])]),e("p",[e("strong",[t._v("執行測試指令")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ mutt\n")])])]),e("h2",{attrs:{id:"使用-mail-工具測試"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-mail-工具測試"}},[t._v("#")]),t._v(" 使用 mail 工具測試")]),t._v(" "),e("p",[e("strong",[t._v("安裝 mail 測試用工具")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo apt install mailutils\n")])])]),e("p",[e("strong",[t._v("執行測試指令")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('alanjui@SRV-01:~$ echo "This email confirms that Postfix is working" | mail -s "Testing Postfix" alanjui.1960@gmail.com\n\n\necho "This email confirms that Postfix is working" | mail -s "Testing Postfix" juzhengzhong@gmail.com\n')])])]),e("hr"),t._v(" "),e("h1",{attrs:{id:"dovecot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dovecot"}},[t._v("#")]),t._v(" Dovecot")]),t._v(" "),e("p",[t._v("https://www.linuxbabe.com/mail-server/secure-email-server-ubuntu-16-04-postfix-dovecot")]),t._v(" "),e("h2",{attrs:{id:"保障通信安全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#保障通信安全"}},[t._v("#")]),t._v(" 保障通信安全")]),t._v(" "),e("p",[e("strong",[t._v("安裝套件軟體")])]),t._v(" "),e("p",[t._v("【參考文件】： https://certbot.eff.org/lets-encrypt/ubuntubionic-nginx")]),t._v(" "),e("p",[t._v("使用 TLS 通信協定，用以確保「郵件用戶端」與「郵件伺服器」，兩著間的通信資料，以加密方式傳送。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ sudo apt update\n$ sudo apt install software-properties-common\n$ sudo add-apt-repository universe\n$ sudo add-apt-repository ppa:certbot/certbot\n$ sudo apt update\n$ sudo apt install certbot  \n\n\n\nsudo apt install python-certbot-nginx\n")])])]),e("p",[e("strong",[t._v("建置 Virtual Host 用以取得 TLS 憑證")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('sudo nano /etc/nginx/conf.d/mail.ccc99.tw.conf\n\n\n# mail.ccc99.tw.conf\nserver {\n    server_name mail.ccc99.tw;\n\n    root /var/www/mail.ccc99.tw/;\n\n    location ~ /.well-known/acme-challenge {\n        allow all;\n    }\n\n    listen 443 ssl; # managed by Certbot\n    ssl_certificate /etc/letsencrypt/live/mail.ccc99.tw/fullchain.pem; # managed by Certbot\n    ssl_certificate_key /etc/letsencrypt/live/mail.ccc99.tw/privkey.pem; # managed by Certbot\n    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\n\n\n    add_header Strict-Transport-Security "max-age=31536000" always; # managed by Certbot\n}\nserver {\n    if ($host = mail.ccc99.tw) {\n        return 301 https://$host$request_uri;\n    } # managed by Certbot\n\n\n    listen 80;\n    server_name mail.ccc99.tw;\n\n    root /var/www/mail.ccc99.tw/;\n\n    location ~ /.well-known/acme-challenge {\n        allow all;\n    }\n}\n\n\n\n\nsudo mkdir /var/www/mail.ccc99.tw\nsudo chown -R www-data:www-data /var/www/mail.ccc99.tw\n\nsudo service nginx reload\n')])])]),e("p",[e("strong",[t._v("啟用 certbot 的 nginx plugin")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ sudo certbot --nginx\n\n\n\n$ sudo certbot --nginx --agree-tos --redirect --hsts --email alanjui.1960@gmail.com -d mail.ccc99.tw\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\nPlugins selected: Authenticator nginx, Installer nginx\nAttempting to parse the version 0.33.1 renewal configuration file found at /etc/letsencrypt/renewal/mail.ccc99.tw.conf with version 0.31.0 of Certbot. This might not work.\nCert not yet due for renewal\n\nYou have an existing certificate that has exactly the same domains or certificate name you requested and isn't close to expiry.\n(ref: /etc/letsencrypt/renewal/mail.ccc99.tw.conf)\n\nWhat would you like to do?\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n1: Attempt to reinstall this existing certificate\n2: Renew & replace the cert (limit ~5 per 7 days)\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nSelect the appropriate number [1-2] then [enter] (press 'c' to cancel): 2\nRenewing an existing certificate\nPerforming the following challenges:\nhttp-01 challenge for mail.ccc99.tw\nWaiting for verification...\nCleaning up challenges\nDeploying Certificate to VirtualHost /etc/nginx/conf.d/mail.ccc99.tw.conf\nEnhancement Strict-Transport-Security was already set.\nTraffic on port 80 already redirecting to ssl in /etc/nginx/conf.d/mail.ccc99.tw.conf\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nYour existing certificate has been successfully renewed, and the new certificate\nhas been installed.\n\nThe new certificate covers the following domains: https://mail.ccc99.tw\n\nYou should test your configuration at:\nhttps://www.ssllabs.com/ssltest/analyze.html?d=mail.ccc99.tw\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\nIMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at:\n   /etc/letsencrypt/live/mail.ccc99.tw/fullchain.pem\n   Your key file has been saved at:\n   /etc/letsencrypt/live/mail.ccc99.tw/privkey.pem\n   Your cert will expire on 2019-08-12. To obtain a new or tweaked\n   version of this certificate in the future, simply run certbot again\n   with the \"certonly\" option. To non-interactively renew *all* of\n   your certificates, run \"certbot renew\"\n - If you like Certbot, please consider supporting our work by:\n\n   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\n   Donating to EFF:                    https://eff.org/donate-le\n")])])]),e("p",[e("strong",[t._v("驗證憑證可用")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("https://www.ssllabs.com/ssltest/analyze.html?d=mail.ccc99.tw\n")])])]),e("p",[e("strong",[t._v("更新憑證")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ sudo certbot renew --dry-run\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nProcessing /etc/letsencrypt/renewal/ccc99.tw.conf\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nCert not yet due for renewal\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nProcessing /etc/letsencrypt/renewal/mail.ccc99.tw.conf\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nCert not yet due for renewal\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\nThe following certs are not due for renewal yet:\n  /etc/letsencrypt/live/ccc99.tw/fullchain.pem expires on 2019-07-01 (skipped)\n  /etc/letsencrypt/live/mail.ccc99.tw/fullchain.pem expires on 2019-08-12 (skipped)\nNo renewals were attempted.\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n")])])]),e("h2",{attrs:{id:"設定-postfix-在-submission-daemon-使用-tls"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#設定-postfix-在-submission-daemon-使用-tls"}},[t._v("#")]),t._v(" 設定 postfix 在 submission daemon 使用 TLS")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/postfix/master.cf\n\n\n\nsubmission     inet     n    -    y    -    -    smtpd\n  -o syslog_name=postfix/submission\n  -o smtpd_tls_security_level=encrypt\n  -o smtpd_tls_wrappermode=no\n  -o smtpd_sasl_auth_enable=yes\n  -o smtpd_relay_restrictions=permit_sasl_authenticated,reject\n  -o smtpd_recipient_restrictions=permit_mynetworks,permit_sasl_authenticated,reject\n  -o smtpd_sasl_type=dovecot\n  -o smtpd_sasl_path=private/auth\n")])])]),e("p",[t._v("The above configuration enables the submission daemon of Postfix and requires TLS encryption. So later on our desktop email client can connect to the submission daemon in TLS. The submission daemon listens on TCP port 587. STARTTLS is used to encrypt communications between email client and the submission daemon.")]),t._v(" "),e("h2",{attrs:{id:"設定-postfix-tls-憑證與私鑰存放處"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#設定-postfix-tls-憑證與私鑰存放處"}},[t._v("#")]),t._v(" 設定 postfix TLS 憑證與私鑰存放處")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/postfix/main.cf\n")])])]),e("h2",{attrs:{id:"安裝-dovecot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安裝-dovecot"}},[t._v("#")]),t._v(" 安裝 Dovecot")]),t._v(" "),e("p",[e("strong",[t._v("安裝軟體套件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo apt install dovecot-core dovecot-imapd\n")])])]),e("p",[e("strong",[t._v("驗證 Dovecot 已能正常運作")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ sudo dovecot --version\n2.2.33.2 (d6601f4ec)\n")])])]),e("h2",{attrs:{id:"設定-dovecot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#設定-dovecot"}},[t._v("#")]),t._v(" 設定 Dovecot")]),t._v(" "),e("p",[e("strong",[t._v("啟用 IMAP")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/dovecot/dovecot.conf\n\n\n# Enable installed protocols\n!include_try /usr/share/dovecot/protocols.d/*.protocol\n#protocols = pop3 imap\n")])])]),e("p",[e("strong",[t._v("設定 Mailbox Location")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ sudo nano /etc/dovecot/conf.d/10-mail.conf\n\n\nmail_location = maildir:~/Maildir\n...\nmail_privileged_group = mail\n")])])]),e("p",[e("strong",[t._v("令 dovecot 可讀每個 INBOX")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo gpasswd -a dovecot mail\n")])])]),e("p",[e("strong",[t._v("設定 Authentication 機制")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/dovecot/conf.d/10-auth.conf\n\n\ndisable_plaintext_auth = yes\nauth_username_format = %Ln\nauth_mechanisms = plain login\n")])])]),e("p",[e("strong",[t._v("設定 SSL/TLS 加密機制")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/dovecot/conf.d/10-ssl.conf\n\n\nssl = required\n\n# PEM encoded X.509 SSL/TLS certificate and private key. They're opened before\n# dropping root privileges, so keep the key file unreadable by anyone but\n# root. Included doc/mkcert.sh can be used to easily generate self-signed\n# certificate, just make sure to update the domains in dovecot-openssl.cnf\n#ssl_cert = </etc/dovecot/private/dovecot.pem\n#ssl_key = </etc/dovecot/private/dovecot.key\nssl_cert = </etc/letsencrypt/live/mail.ccc99.tw/fullchain.pem\nssl_key = </etc/letsencrypt/live/mail.ccc99.tw/privkey.pem\n")])])]),e("p",[e("strong",[t._v("設定 SASL 身份驗證")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/dovecot/conf.d/10-master.conf\n\n\nservice auth {\n  # auth_socket_path points to this userdb socket by default. It's typically\n  # used by dovecot-lda, doveadm, possibly imap process, etc. Users that have\n  # full permissions to this socket are able to get a list of all usernames and\n  # get the results of everyone's userdb lookups.\n  #\n  # The default 0666 mode allows anyone to connect to the socket, but the\n  # userdb lookups will succeed only if the userdb returns an \"uid\" field that\n  # matches the caller process's UID. Also if caller's uid or gid matches the\n  # socket's uid or gid the lookup succeeds. Anything else causes a failure.\n  #\n  # To give the caller full permissions to lookup all users, set the mode to\n  # something else than 0666 and Dovecot lets the kernel enforce the\n  # permissions (e.g. 0777 allows everyone full permissions).\n  unix_listener auth-userdb {\n    #mode = 0666\n    #user =\n    #group =\n  }\n\n  # Postfix smtp-auth\n  unix_listener /var/spool/postfix/private/auth {\n    mode = 0666\n    user = postfix\n    group = postfix\n  }\n\n  # Auth process is run as this user.\n  #user = $default_internal_user\n}\n")])])]),e("p",[e("strong",[t._v("設定能自動建立 Send/Trash 資料夾")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('sudo nano /etc/dovecot/conf.d/15-mailboxes.conf\n\n\nnamespace inbox {\n  # These mailboxes are widely used and could perhaps be created automatically:\n  mailbox Drafts {\n    auto = create\n    special_use = \\Drafts\n  }\n  mailbox Junk {\n    auto = create\n    special_use = \\Junk\n  }\n  mailbox Trash {\n    auto = create\n    special_use = \\Trash\n  }\n\n  # For \\Sent mailboxes there are two widely used names. We\'ll mark both of\n  # them as \\Sent. User typically deletes one of them if duplicates are created.\n  mailbox Sent {\n    auto = create\n    special_use = \\Sent\n  }\n  mailbox "Sent Messages" {\n    special_use = \\Sent\n  }\n\n  # If you have a virtual "All messages" mailbox:\n  #mailbox virtual/All {\n  #  special_use = \\All\n  #  comment = All my messages\n  #}\n\n  # If you have a virtual "Flagged" mailbox:\n  #mailbox virtual/Flagged {\n  #  special_use = \\Flagged\n  #  comment = All my flagged messages\n  #}\n}\n')])])]),e("p",[e("strong",[t._v("重新啟動郵件伺服器")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo systemctl restart dovecot\n")])])]),e("p",[t._v("Dovecot will be listening on port 143 (IMAP) and 993 (IMAPS). If there’s a configuration error, dovecot will fail to restart. We also need to restart Postfix to allow the LOGIN authentication mechanism.")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo systemctl restart postfix\n")])])]),e("p",[t._v("在 Thunderbird 的設定")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://www.linuxbabe.com/wp-content/uploads/2016/10/postfix-dovecot-letsencrypt.png",alt:"postfix dovecot letsencrypt"}})]),t._v(" "),e("h2",{attrs:{id:"安裝與設定-lmtp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安裝與設定-lmtp"}},[t._v("#")]),t._v(" 安裝與設定 lmtp")]),t._v(" "),e("p",[e("strong",[t._v("確定 lmtp Service 已安裝")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ ll /usr/share/dovecot/protocols.d/\n總計 20\ndrwxr-xr-x 2 root root 4096  5月  8 16:57 ./\ndrwxr-xr-x 5 root root 4096  5月  8 12:38 ../\n-rw-r--r-- 1 root root   28  5月  8 12:39 imapd.protocol\n-rw-r--r-- 1 root root   28  5月  8 16:57 lmtpd.protocol\n-rw-r--r-- 1 root root   28  5月  8 13:01 pop3d.protocol\n")])])]),e("p",[e("strong",[t._v("設定 lmtp service")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/dovecot/conf.d/10-master.conf\n\n\nservice lmtp {\n  unix_listener /var/spool/postfix/private/dovecot-lmtp {\n    mode = 0666\n    group = postfix\n    user = postfix\n  }\n\n  # Create inet listener only if you can't use the above UNIX socket\n  #inet_listener lmtp {\n    # Avoid making LMTP visible for the entire internet\n    #address =\n    #port =\n  #}\n}\n")])])]),e("p",[e("strong",[t._v("設定 postfix 應配合組態")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo nano /etc/postfix/main.cf\n\n\nmailbox_transport = lmtp:unix:private/dovecot-lmtp\nsmtputf8_enable = no\n")])])]),e("hr"),t._v(" "),e("h1",{attrs:{id:"異常排解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#異常排解"}},[t._v("#")]),t._v(" 異常排解")]),t._v(" "),e("h2",{attrs:{id:"重新啟動-postfix-設定工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重新啟動-postfix-設定工具"}},[t._v("#")]),t._v(" 重新啟動 Postfix 設定工具")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo dpkg-reconfigure -plow postfix \n\n\nalanjui@SRV-01:~$ sudo dpkg-reconfigure -plow postfix\n[sudo] password for alanjui: \npostconf: warning: /etc/postfix/main.cf, line 53: overriding earlier entry: myorigin=$mydomain\npostconf: warning: /etc/postfix/main.cf, line 53: overriding earlier entry: myorigin=$mydomain\npostconf: warning: /etc/postfix/main.cf, line 53: overriding earlier entry: myorigin=$mydomain\nsetting synchronous mail queue updates: false\nsetting myorigin\npostconf: warning: /etc/postfix/main.cf: multiple entries for \"myorigin\"\nsetting destinations: mail.ccc99.tw ccc99.tw localhost.ccc99.tw localhost\nsetting relayhost: \nsetting mynetworks: 192.168.66.0/24 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128\nsetting mailbox_size_limit: 0\nsetting recipient_delimiter: +\nsetting inet_interfaces: all\nsetting inet_protocols: all\n\nPostfix (main.cf) is now set up with the changes above.  If you need to make \nchanges, edit /etc/postfix/main.cf (and others) as needed.  To view Postfix \nconfiguration values, see postconf(1).\n\nAfter modifying main.cf, be sure to run 'service postfix reload'.\n\nRunning newaliases\nProcessing triggers for libc-bin (2.27-3ubuntu1) ...\nalanjui@SRV-01:~$ \n")])])]),e("h2",{attrs:{id:"觀察-service-log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#觀察-service-log"}},[t._v("#")]),t._v(" 觀察 Service Log")]),t._v(" "),e("p",[t._v("觀察由 Service 所產生的  Log 檔，其中所回報的異常、錯誤紀錄。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo less /var/log/mail.log\n\n\njournalctl\n")])])]),e("h2",{attrs:{id:"檢查郵件服務"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#檢查郵件服務"}},[t._v("#")]),t._v(" 檢查郵件服務")]),t._v(" "),e("p",[e("strong",[t._v("了解 Postfix Service 執行狀態")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo service postfix status\n\n\nalanjui@SRV-01:~$ sudo systemctl status postfix\n● postfix.service - Postfix Mail Transport Agent\n   Loaded: loaded (/lib/systemd/system/postfix.service; enabled; vendor preset: enabled)\n   Active: active (exited) since Fri 2019-03-22 16:50:48 CST; 26s ago\n Main PID: 12270 (code=exited, status=0/SUCCESS)\n    Tasks: 0 (limit: 4915)\n   CGroup: /system.slice/postfix.service\n\n 3月 22 16:50:48 SRV-01 systemd[1]: Starting Postfix Mail Transport Agent...\n 3月 22 16:50:48 SRV-01 systemd[1]: Started Postfix Mail Transport Agent.\n")])])]),e("p",[e("strong",[t._v("同 service 指令之另種用法 systemctl：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo systemctl status postfix\n")])])]),e("p",[e("strong",[t._v("重新啟動郵件服務")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("$ sudo service postfix restart\n")])])]),e("p",[e("strong",[t._v("在 Remote 端使用 telnet 測試郵件服務是否已能正常運作")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('$ telnet 192.168.66.10 25\nTrying 192.168.66.10...\nConnected to 192.168.66.10.\nEscape character is \'^]\'.\n220 mail.ccc99.tw ESMTP Postfix (Ubuntu)\nehlo service@ccc99.tw\n250-mail.ccc99.tw\n250-PIPELINING\n250-SIZE 10240000\n250-VRFY\n250-ETRN\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250-DSN\n250 SMTPUTF8\nmail from: <service@ccc99.tw>\n250 2.1.0 Ok\nrcpt to: <alanjui.1960@gmail.com>\n250 2.1.5 Ok\ndata\n354 End data with <CR><LF>.<CR><LF>\nFrom: "Service" <service@ccc99.tw>\nTo: "Alan Jui" <alanjui.1960@gmail.com>\nSubject: Test message sent from manual telnet session\n\nHi Alan,\n\nI send this mail from a localhost mail server.\n\nBest grads,\nJu Zheng-Zhong\n.\n250 2.0.0 Ok: queued as 7B1FC400860\nquit\n221 2.0.0 Bye\nConnection closed by foreign host.\n')])])]),e("h2",{attrs:{id:"觀察-service-logs-用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#觀察-service-logs-用法"}},[t._v("#")]),t._v(" 觀察 Service Logs 用法")]),t._v(" "),e("p",[e("strong",[t._v("Log 檔案位置：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("/var/log/mail.log\n")])])]),e("p",[e("strong",[t._v("瀏覽最新的 Log")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo tail -f /var/log/mail.log | grep postfix\n")])])]),e("p",[t._v("psostmap  :  "),e("strong",[t._v("warning: database /etc/aliases.db is older than source file /etc/aliases")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo postmap /etc/aliases\n\n\nsudo postalias /etc/aliases\n")])])]),e("p",[e("strong",[t._v("查看信箱是否有收到信")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("sudo tail -f /var/mail/juzhengzhong\n")])])]),e("p",[e("strong",[t._v("是否郵件仍在  Mail Queue 中")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("mailq\n")])])]),e("h2",{attrs:{id:"certbot-renew-總是失敗"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#certbot-renew-總是失敗"}},[t._v("#")]),t._v(" Certbot renew 總是失敗")]),t._v(" "),e("p",[e("strong",[t._v("況狀：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("Date: Fri, 17 May 2019 12:00:32 +0800 (CST)\nFrom: Cron Daemon <root@ccc99.tw>\nTo: root@ccc99.tw\nSubject: Cron <root@SRV-01> /opt/certbot-auto renew --quiet --no-self-upgrade --force-renewal\n\nAttempting to renew cert (mail.ccc99.tw) from /etc/letsencrypt/renewal/mail.ccc99.tw.conf produced an unexpected error: The nginx plugin is not\n+working; there may be problems with your existing configuration.\nThe error was: NoInstallationError(\"Could not find a usable 'nginx' binary. Ensure nginx exists, the binary is executable, and your PATH is set\n+correctly.\",). Skipping.\nAll renewal attempts failed. The following certs could not be renewed:\n  /etc/letsencrypt/live/mail.ccc99.tw/fullchain.pem (failure)\n1 renew failure(s), 0 parse failure(s)\n")])])]),e("p",[e("strong",[t._v("分析")])]),t._v(" "),e("p",[t._v("如「錯誤訊息：NoInstallationError」之解釋，問題出在 certbot 無法得知 nginx 執行檔之所在路徑。")]),t._v(" "),e("p",[e("strong",[t._v("解法")])]),t._v(" "),e("ol",[e("li",[e("p",[t._v("使用 root 帳號")]),t._v(" "),e("p",[t._v("$ sudo su -")])]),t._v(" "),e("li",[e("p",[t._v("查看 cron 設定")]),t._v(" "),e("p",[t._v("$ sudo -i\n$ sudo crontab -e")]),t._v(" "),e("p",[t._v("$ sudo nano /etc/cron.d/certbot")]),t._v(" "),e("h1",{attrs:{id:"etc-cron-d-certbot-crontab-entries-for-the-certbot-package"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-cron-d-certbot-crontab-entries-for-the-certbot-package"}},[t._v("#")]),t._v(" /etc/cron.d/certbot: crontab entries for the certbot package")]),t._v(" "),e("h1",{attrs:{id:"-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[t._v("#")])]),t._v(" "),e("h1",{attrs:{id:"upstream-recommends-attempting-renewal-twice-a-day"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upstream-recommends-attempting-renewal-twice-a-day"}},[t._v("#")]),t._v(" Upstream recommends attempting renewal twice a day")]),t._v(" "),e("h1",{attrs:{id:"-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-3"}},[t._v("#")])]),t._v(" "),e("h1",{attrs:{id:"eventually-this-will-be-an-opportunity-to-validate-certificates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eventually-this-will-be-an-opportunity-to-validate-certificates"}},[t._v("#")]),t._v(" Eventually, this will be an opportunity to validate certificates")]),t._v(" "),e("h1",{attrs:{id:"haven-t-been-revoked-etc-renewal-will-only-occur-if-expiration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#haven-t-been-revoked-etc-renewal-will-only-occur-if-expiration"}},[t._v("#")]),t._v(" haven't been revoked, etc.  Renewal will only occur if expiration")]),t._v(" "),e("h1",{attrs:{id:"is-within-30-days"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#is-within-30-days"}},[t._v("#")]),t._v(" is within 30 days.")]),t._v(" "),e("h1",{attrs:{id:"-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-4"}},[t._v("#")])]),t._v(" "),e("h1",{attrs:{id:"important-note-this-cronjob-will-not-be-executed-if-you-are"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#important-note-this-cronjob-will-not-be-executed-if-you-are"}},[t._v("#")]),t._v(" Important Note!  This cronjob will NOT be executed if you are")]),t._v(" "),e("h1",{attrs:{id:"running-systemd-as-your-init-system-if-you-are-running-systemd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-systemd-as-your-init-system-if-you-are-running-systemd"}},[t._v("#")]),t._v(" running systemd as your init system.  If you are running systemd,")]),t._v(" "),e("h1",{attrs:{id:"the-cronjob-timer-function-takes-precedence-over-this-cronjob-for"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-cronjob-timer-function-takes-precedence-over-this-cronjob-for"}},[t._v("#")]),t._v(" the cronjob.timer function takes precedence over this cronjob.  For")]),t._v(" "),e("h1",{attrs:{id:"more-details-see-the-systemd-timer-manpage-or-use-systemctl-show"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more-details-see-the-systemd-timer-manpage-or-use-systemctl-show"}},[t._v("#")]),t._v(" more details, see the systemd.timer manpage, or use systemctl show")]),t._v(" "),e("h1",{attrs:{id:"certbot-timer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#certbot-timer"}},[t._v("#")]),t._v(" certbot.timer.")]),t._v(" "),e("p",[t._v("#SHELL=/bin/sh\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin")]),t._v(" "),e("p",[t._v("0 */12 * * * root test -x /usr/bin/certbot -a ! -d /run/systemd/system && perl -e 'sleep int(rand(43200))' && certbot -q renew --nginx-ctl /usr/sbin/nginx --nginx-server-root /etc/nginx")]),t._v(" "),e("p",[t._v("sudo systemctl list-timers")])])]),t._v(" "),e("p",[t._v("【參考】： https://community.letsencrypt.org/t/certbot-cron-job-nginx-plugin-noinstallationerror/67572/2")]),t._v(" "),e("hr"),t._v(" "),e("h1",{attrs:{id:"參考文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#參考文件"}},[t._v("#")]),t._v(" 參考文件")]),t._v(" "),e("p",[t._v("https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-postfix-on-ubuntu-18-04#step-1-%E2%80%94-install-postfix")]),t._v(" "),e("p",[t._v("https://www.linuxbabe.com/mail-server/secure-email-server-ubuntu-16-04-postfix-dovecot")]),t._v(" "),e("p",[t._v("https://linoxide.com/mail/install-configure-postfix-ubuntu/")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://hostadvice.com/how-to/how-to-setup-postfix-as-send-only-mail-server-on-an-ubuntu-18-04-dedicated-server-or-vps/",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[t._v("How to Setup pOSTFIX S SEND-ONLY MAIL SERVER ON AN UBUNTU 18.04 DEDICATED SERVER OR VPS")]),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("How to use command line tool: mail to send email:")]),t._v("\nhttps://www.binarytides.com/linux-mail-command-examples/")]),t._v(" "),e("p",[e("strong",[t._v("Postfix Standard Configuration Examples")]),t._v("\nhttp://www.postfix.org/STANDARD_CONFIGURATION_README.html#null_client")]),t._v(" "),e("p",[e("strong",[t._v("“You have mail” - How to read mail in Ubuntu")]),t._v("\nhttps://devanswers.co/you-have-mail-how-to-read-mail-in-ubuntu/")]),t._v(" "),e("p",[e("strong",[t._v("Web Mail")])]),t._v(" "),e("p",[t._v("https://modoboa.org/en/")])])}),[],!1,null,null,null);e.default=a.exports}}]);