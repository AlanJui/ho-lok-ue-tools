<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ubuntu å»ºç½® Django é–‹ç™¼ä½œæ¥­ç’°å¢ƒæŒ‡å¼• | ã€Šå°ˆæ¡ˆæ–‡ä»¶èˆ˜ã€‹</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="å½™é›†å°ˆæ¡ˆç›¸é—œæ–‡ä»¶">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/han_gi_chu_im/assets/css/0.styles.a12c963a.css" as="style"><link rel="preload" href="/han_gi_chu_im/assets/js/app.f2e2805b.js" as="script"><link rel="preload" href="/han_gi_chu_im/assets/js/2.e9bdfe5b.js" as="script"><link rel="preload" href="/han_gi_chu_im/assets/js/88.ec319bec.js" as="script"><link rel="prefetch" href="/han_gi_chu_im/assets/js/10.f716d3ff.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/100.c1f4de65.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/101.e14056d5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/102.ef2e7694.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/103.5e524cf6.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/104.449b67e1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/105.47db5476.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/106.173be714.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/107.64e61226.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/108.d41720e9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/109.5e3a678c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/11.84cf98b7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/110.28b6eddf.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/111.2fe379ef.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/112.65fb8e56.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/113.e8199676.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/114.b76eb6f5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/115.6ccf8b33.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/116.f901450e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/117.4898b362.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/118.80d06981.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/119.d7c7dead.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/12.60a558ac.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/120.e66adabd.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/121.d156a67b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/122.1d79306c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/123.e1941f1d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/124.0214e22f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/125.d294aced.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/126.0558f46b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/127.49d6672e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/128.cf355591.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/129.d495542f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/13.24f6efd0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/130.a6abc4e3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/131.469bba33.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/132.55c861f0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/133.8e571f38.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/134.04712779.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/135.8db4c9ff.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/136.28cffb72.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/137.938eab65.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/138.a57df1d2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/139.d9fc6309.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/14.a0a8a6dc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/140.5fccfcd6.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/141.f0b1c886.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/142.8de335ef.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/143.21c1dfd2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/144.05fa892e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/145.5ddbf44b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/146.8a7a3e16.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/147.296bb783.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/148.f1cb374f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/149.2a3806ea.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/15.03fefe25.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/150.5304d46a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/151.7e699c3e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/152.503ab6d1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/153.88ebbaf6.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/154.d3f457e8.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/155.33d01452.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/156.e3e555c3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/157.af848370.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/158.0f2b45b2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/159.4dbdd890.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/16.21186ac1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/160.48d958e1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/161.e92c1d0b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/162.4a2836dd.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/163.34672edb.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/164.b3408f8d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/165.3b3ab477.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/166.33dc5f78.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/167.e392800e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/168.82153370.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/169.dcd62bfb.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/17.6e726f1c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/170.a3d0a187.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/171.23ff00be.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/172.419179bc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/173.408750c0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/174.9d3448c2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/175.172eddbe.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/176.da75b470.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/177.2bcc49f9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/178.ce76cf02.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/179.7b0cea4b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/18.ef4acaed.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/180.6d511683.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/181.f18f383b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/182.4194ed40.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/183.de593066.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/184.d809d674.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/185.4741aacc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/186.e127fd4e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/187.01093181.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/188.be3dfceb.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/189.c44554e5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/19.ee358577.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/190.7a89c427.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/191.ab08e553.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/192.e1b26e5b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/193.72c5ff86.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/194.3b0608d5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/195.66817182.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/196.35c2fdb9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/197.d4da390c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/198.f0525295.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/199.7aa6c935.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/20.bc7c4e1d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/200.d59e8a6a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/201.a3cad834.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/202.3d62278b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/203.cd0331b8.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/204.3787443f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/205.27e200a2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/206.45652af0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/207.6fcd649c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/208.6de25ed2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/209.18b681f5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/21.267f8c06.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/210.c22f1f45.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/211.a61a2195.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/212.3858824f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/213.0ac5db81.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/214.de0bbc7c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/215.d0b0e2bc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/216.7a7acb6b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/217.41bdaf52.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/218.f33b82e3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/219.597995c9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/22.ef8c5802.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/220.1530c4a2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/221.e36810e6.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/222.596abb6d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/223.d3f55f99.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/224.c17ef7f5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/225.972b8a95.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/226.17458472.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/227.598b61ec.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/228.9c2b03f9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/229.57204bbd.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/23.71068419.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/230.7c6e9ab3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/231.384f9a9c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/232.9dd7c872.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/233.38d9ffc3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/234.e9d9bfab.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/235.15fc49c0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/236.bd16c64b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/237.077ec90b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/238.84598708.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/239.9bb68a5d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/24.a7cb7238.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/240.9d9a1a74.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/241.8c70ef29.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/242.55ef7530.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/243.376498fe.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/244.5a8023d1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/245.8a9f17c6.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/246.076c0e56.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/247.96081bd7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/248.baee733f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/249.489259f3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/25.50731498.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/250.cc52a908.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/251.3b3d4281.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/252.6bcd563a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/253.6333d78c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/254.690b38af.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/255.1601d594.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/256.6f73bb5c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/257.a5a3366f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/258.89f98784.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/259.e24c0629.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/26.4aa29dff.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/260.7a8d4e8e.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/261.11a82914.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/262.bfb942fc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/263.67fff2d7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/264.c52a3206.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/265.61ea2fd0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/266.6bd5cefa.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/267.de2b661b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/268.acc85dac.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/269.3c1387e4.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/27.02c70fe4.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/270.6cdfc60d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/271.96b0a59b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/272.dbf51e85.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/273.cf716f37.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/274.0efe455c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/275.cf2743f9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/276.7762b2b9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/277.9cd97657.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/278.8a24a518.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/279.d117afb1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/28.8ee5b790.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/280.838b1c8c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/281.a18eae66.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/282.02a76248.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/283.09af7e2c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/284.77ab3f60.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/285.129e76df.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/286.d362fe87.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/287.bfacbf8b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/288.6c629410.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/289.bbe1f1b0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/29.4049a130.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/290.5b670cbc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/291.2a295df9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/292.491ba209.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/293.6222a09d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/294.da1b1bc8.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/295.8e645779.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/296.322a7d66.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/297.81d85197.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/298.6c193148.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/299.97e6aaa2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/3.e19d0c82.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/30.a9e5068b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/300.3f422dec.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/301.79b41302.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/302.501df600.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/303.2b1ed8bf.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/304.1f0917b5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/305.c53a474c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/306.cd160b20.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/307.f5d095c9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/308.d516c990.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/309.28060d09.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/31.57c6d1ed.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/310.06a43026.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/311.94f98dd7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/312.ac99c3c2.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/313.dfeb0bb9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/314.f7aff5f3.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/315.6070a0d9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/316.17d84f4d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/317.fdbf74f7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/318.6137201c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/319.7fb86a94.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/32.576d7346.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/33.2644dcc9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/34.392263e5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/35.516229c9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/36.32967ae8.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/37.fbcfe203.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/38.4556399d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/39.5d0dd51c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/4.3390318d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/40.ded4cc23.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/41.a27c7068.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/42.3122db26.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/43.bc00f6f1.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/44.5a5e8d67.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/45.24ef54fa.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/46.2783633c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/47.26ec5e48.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/48.57ab0a20.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/49.d41a42ff.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/5.1d4824ad.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/50.32f5fef6.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/51.7e722fbd.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/52.a1d9c3ca.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/53.1307bc0b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/54.b5a24f6d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/55.cdb5d728.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/56.f2597707.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/57.51fbeade.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/58.1d44d18d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/59.1e7f06e4.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/6.66e67cb9.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/60.6e5f31d7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/61.3deb5ffc.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/62.dbcf4f5f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/63.a7334c7c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/64.cd3cc6fd.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/65.dfba7b5a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/66.9e5f2534.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/67.9253face.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/68.b8b1404c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/69.80992696.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/7.51ae61fb.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/70.d3126764.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/71.3ea817b7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/72.36ff02f5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/73.53cc8e64.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/74.bd2e921c.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/75.1290517b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/76.41b88fff.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/77.c6d47945.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/78.f3084837.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/79.bb751695.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/8.cca18fcf.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/80.56b6f2db.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/81.6ce2f6b5.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/82.fccf7493.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/83.2978c41b.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/84.81ab4e00.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/85.ae86ef9d.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/86.fa76f964.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/87.2693fb7f.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/89.78dec0b0.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/9.fac26b8a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/90.e83cc6ad.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/91.5c70caba.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/92.097a6e9a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/93.aeac5506.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/94.270811f7.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/95.30da1a9a.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/96.2fdaa548.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/97.4866a931.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/98.28d380d4.js"><link rel="prefetch" href="/han_gi_chu_im/assets/js/99.a045c282.js">
    <link rel="stylesheet" href="/han_gi_chu_im/assets/css/0.styles.a12c963a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/han_gi_chu_im/" class="home-link router-link-active"><!----> <span class="site-name">ã€Šå°ˆæ¡ˆæ–‡ä»¶èˆ˜ã€‹</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/han_gi_chu_im/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/han_gi_chu_im/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/han_gi_chu_im/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/han_gi_chu_im/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ubuntu å»ºç½® Django é–‹ç™¼ä½œæ¥­ç’°å¢ƒæŒ‡å¼•</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#æ‘˜è¦" class="sidebar-link">æ‘˜è¦</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£é–‹ç™¼ä½œæ¥­åŸºç¤å·¥å…·" class="sidebar-link">å®‰è£é–‹ç™¼ä½œæ¥­åŸºç¤å·¥å…·</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£-node-js-ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å®‰è£ Node.js ä½œæ¥­ç’°å¢ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£-node-èˆ‡-npm-å¥—ä»¶" class="sidebar-link">å®‰è£ node èˆ‡ npm å¥—ä»¶</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£å¥—ä»¶ç®¡ç†å™¨-yarn" class="sidebar-link">å®‰è£å¥—ä»¶ç®¡ç†å™¨ï¼šyarn</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£-python-ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å®‰è£ Python ä½œæ¥­ç’°å¢ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#ubuntu-python-ç‰¹æ€§" class="sidebar-link">Ubuntu Python ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£ç‰ˆæœ¬ç®¡ç†å™¨-pyenv" class="sidebar-link">å®‰è£ç‰ˆæœ¬ç®¡ç†å™¨ pyenv</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£æŒ‡å®šç‰ˆæœ¬-python" class="sidebar-link">å®‰è£æŒ‡å®šç‰ˆæœ¬ Python</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#è¨­å®šä½œæ¥­ç³»çµ±é è¨­-python" class="sidebar-link">è¨­å®šä½œæ¥­ç³»çµ±é è¨­ Python</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£-vim-ç·¨è¼¯å™¨" class="sidebar-link">å®‰è£ Vim ç·¨è¼¯å™¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£è»Ÿé«”" class="sidebar-link">å®‰è£è»Ÿé«”</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#è¨­å®šä½œæ¥­ç’°å¢ƒ" class="sidebar-link">è¨­å®šä½œæ¥­ç’°å¢ƒ</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®-django-app-é–‹ç™¼ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½® Django App é–‹ç™¼ä½œæ¥­ç’°å¢ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®-django-app-å°ˆæ¡ˆ" class="sidebar-link">å»ºç½® Django App å°ˆæ¡ˆ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£-uwsgi-wsgi-ä»‹é¢" class="sidebar-link">å®‰è£ uWSGI ï¼ˆWSGI ä»‹é¢ï¼‰</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#é©—è­‰-uwsgi-å¯ä¸²æ¥-django" class="sidebar-link">é©—è­‰ uwsgi å¯ä¸²æ¥ Django</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£-nginx-http-server" class="sidebar-link">å®‰è£ Nginx (HTTP Server)</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#è¨­å®š-nginx-uwsgi-ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">è¨­å®š Nginx + uWSGI ä½œæ¥­ç’°å¢ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®-nginx-è™›æ“¬ç¶²ç«™" class="sidebar-link">å»ºç½® Nginx è™›æ“¬ç¶²ç«™</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#é©—è­‰-django-app-å·²èƒ½æ•´åˆé‹ä½œ" class="sidebar-link">é©—è­‰ Django App å·²èƒ½æ•´åˆé‹ä½œ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•Ÿç”¨-nginx-éœæ…‹æª”çš„æœå‹™" class="sidebar-link">å•Ÿç”¨ Nginx éœæ…‹æª”çš„æœå‹™</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#ä½¿ç”¨-uwsgi-ä»‹é¢è¨­å®šæª”" class="sidebar-link">ä½¿ç”¨ uwsgi ä»‹é¢è¨­å®šæª”</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®-uwsgi-æœå‹™" class="sidebar-link">å»ºç½® uWSGI æœå‹™</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#åœç”¨é–‹ç™¼ä½œæ¥­è™›æ“¬ç’°å¢ƒ" class="sidebar-link">åœç”¨é–‹ç™¼ä½œæ¥­è™›æ“¬ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å®‰è£ä½œæ¥­ç³»çµ±ç”¨-uwsgi" class="sidebar-link">å®‰è£ä½œæ¥­ç³»çµ±ç”¨ uwsgi</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®åŠå•Ÿç”¨-uwsgi-æœå‹™" class="sidebar-link">å»ºç½®åŠå•Ÿç”¨ uWSGI æœå‹™</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•Ÿç”¨-django-app-æœå‹™" class="sidebar-link">å•Ÿç”¨ Django App æœå‹™</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®å¤šç¨®ä½œæ¥­ç’°å¢ƒæ©Ÿåˆ¶" class="sidebar-link">å»ºç½®å¤šç¨®ä½œæ¥­ç’°å¢ƒæ©Ÿåˆ¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#è¨­å®šå¤šç¨®ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">è¨­å®šå¤šç¨®ä½œæ¥­ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®åŸºç¤ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½®åŸºç¤ä½œæ¥­ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®é–‹ç™¼ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½®é–‹ç™¼ä½œæ¥­ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®æ¸¬è©¦ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½®æ¸¬è©¦ä½œæ¥­ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®è©¦è¡Œä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½®è©¦è¡Œä½œæ¥­ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®ä¸Šç·šä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½®ä¸Šç·šä½œæ¥­ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç½®-heroku-å¹³å°ä½œæ¥­ç’°å¢ƒ" class="sidebar-link">å»ºç½® Heroku å¹³å°ä½œæ¥­ç’°å¢ƒ</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤" class="sidebar-link">å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#è§£é™¤ä½œæ¥­ç³»çµ±é è¨­ä¹‹-vim" class="sidebar-link">è§£é™¤ä½œæ¥­ç³»çµ±é è¨­ä¹‹ vim</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å¸¸è¦‹æ“ä½œ" class="sidebar-link">å¸¸è¦‹æ“ä½œ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•Ÿç”¨ã€Œè™›æ“¬ç’°å¢ƒã€" class="sidebar-link">å•Ÿç”¨ã€Œè™›æ“¬ç’°å¢ƒã€</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•Ÿç”¨èˆ‡åœæ­¢è™›æ“¬ç’°å¢ƒ" class="sidebar-link">å•Ÿç”¨èˆ‡åœæ­¢è™›æ“¬ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å»ºç«‹è™›æ“¬ç’°å¢ƒ" class="sidebar-link">å»ºç«‹è™›æ“¬ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å¥—ç”¨ç›®å‰çš„-python-å»ºç«‹è™›æ“¬ç’°å¢ƒ" class="sidebar-link">å¥—ç”¨ç›®å‰çš„ Python å»ºç«‹è™›æ“¬ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#æŸ¥è©¢æœ‰é‚£äº›è™›æ“¬ç’°å¢ƒ" class="sidebar-link">æŸ¥è©¢æœ‰é‚£äº›è™›æ“¬ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#åˆªé™¤å·²å»ºç«‹ä¹‹è™›æ“¬ç’°å¢ƒ" class="sidebar-link">åˆªé™¤å·²å»ºç«‹ä¹‹è™›æ“¬ç’°å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#æ›´æ–°-pip-è‡³æœ€æ–°ç‰ˆ" class="sidebar-link">æ›´æ–° pip è‡³æœ€æ–°ç‰ˆ</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤-2" class="sidebar-link">å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#åŸ·è¡Œ-uwsgi-ç™¼ç”Ÿ-run-time-error" class="sidebar-link">åŸ·è¡Œ uwsgi ç™¼ç”Ÿ run time error</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#å•Ÿå‹•-uwsgi-ç™¼ç”Ÿ-uninx-socket-éŒ¯èª¤" class="sidebar-link">å•Ÿå‹• uwsgi ï¼Œç™¼ç”Ÿ uninx socket éŒ¯èª¤</a></li><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#çµ‚æ­¢ä½¿ç”¨ä¸­çš„-port" class="sidebar-link">çµ‚æ­¢ä½¿ç”¨ä¸­çš„ Port</a></li></ul></li><li><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#è³‡æ–™åƒè€ƒ" class="sidebar-link">è³‡æ–™åƒè€ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/han_gi_chu_im/_my_dev_env/Debian/Ubuntu-Build_Dev_Platform.html#pyenv-virtualenv-å®˜ç¶²è³‡æ–™" class="sidebar-link">pyenv-virtualenv å®˜ç¶²è³‡æ–™</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ubuntu-å»ºç½®-django-é–‹ç™¼ä½œæ¥­ç’°å¢ƒæŒ‡å¼•"><a href="#ubuntu-å»ºç½®-django-é–‹ç™¼ä½œæ¥­ç’°å¢ƒæŒ‡å¼•" class="header-anchor">#</a> Ubuntu å»ºç½® Django é–‹ç™¼ä½œæ¥­ç’°å¢ƒæŒ‡å¼•</h1> <h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="header-anchor">#</a> æ‘˜è¦</h2> <p>åœ¨ VirtualBox VM åŸ·è¡Œå®‰è£ä½œæ¥­ï¼Œä½¿ VM æˆç‚º Django App ä¹‹ã€Œä½œæ¥­å¹³å°ã€ã€‚</p> <ul><li>å®‰è£é–‹ç™¼ä½œæ¥­åŸºç¤å·¥å…·</li> <li>å®‰è£ Node.js ä½œæ¥­ç’°å¢ƒ</li> <li>å®‰è£ Python ä½œæ¥­ç’°å¢ƒ</li> <li>å®‰è£ç·¨è¼¯å™¨</li> <li>å®‰è£ nginx æœå‹™</li> <li>å®‰è£ Django App åŸå§‹ç¢¼</li> <li>å®‰è£ uWSGI æœå‹™</li></ul> <h2 id="å®‰è£é–‹ç™¼ä½œæ¥­åŸºç¤å·¥å…·"><a href="#å®‰è£é–‹ç™¼ä½œæ¥­åŸºç¤å·¥å…·" class="header-anchor">#</a> å®‰è£é–‹ç™¼ä½œæ¥­åŸºç¤å·¥å…·</h2> <ol><li>å®‰è£ git ç‰ˆæœ¬ç®¡ç†å¥—ä»¶ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>å®‰è£æª”æ¡ˆä¸‹è¼‰å·¥å…·ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install curl
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å®‰è£-node-js-ä½œæ¥­ç’°å¢ƒ"><a href="#å®‰è£-node-js-ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å®‰è£ Node.js ä½œæ¥­ç’°å¢ƒ</h2> <h3 id="å®‰è£-node-èˆ‡-npm-å¥—ä»¶"><a href="#å®‰è£-node-èˆ‡-npm-å¥—ä»¶" class="header-anchor">#</a> å®‰è£ node èˆ‡ npm å¥—ä»¶</h3> <ol><li>å®‰è£ n å¥—ä»¶ç®¡ç†å™¨</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd
curl -L https://git.io/n-install | bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æˆ–</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>brew install n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>åœ¨ Bash Shell è¨­å®šæª”ï¼Œè¨­å®š PATH ç’°å¢ƒè®Šæ•¸ã€‚</li></ol> <p>ğŸ”– ~/.bashrc</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#export N_PREFIX=&quot;$HOME/n&quot;; [[ :$PATH: == *&quot;:$N_PREFIX/bin:&quot;* ]] || PATH+=&quot;:$N_PREFIX/bin&quot;  # Added by n-install (see http://git.io/n-install-repo).
export N_PREFIX=&quot;$HOME/n&quot;;
export PATH=&quot;$N_PREFIX/bin:$PATH&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>é‡å•Ÿ Bash Shell ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>source ~/.bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>é€é n å¥—ä»¶ç®¡ç†å™¨ï¼Œå®‰è£ node èˆ‡ npm å¥—ä»¶ã€‚</li></ol> <ul><li>æœ€æ–°ç‰ˆ</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>n latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>æœ€è¿‘ LTS ç‰ˆ</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>n lts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="å®‰è£å¥—ä»¶ç®¡ç†å™¨-yarn"><a href="#å®‰è£å¥—ä»¶ç®¡ç†å™¨-yarn" class="header-anchor">#</a> å®‰è£å¥—ä»¶ç®¡ç†å™¨ï¼šyarn</h3> <p>npm æœ¬èº«å³æ˜¯ Node ä¹‹ã€Œå¥—ä»¶ç®¡ç†å™¨ã€ã€‚ä½•ä»¥è¦å†å®‰è£ yarn ï¼Œä¸»è¦åŸå› æ˜¯æœ‰äº›å¥—ä»¶çš„å®‰è£
åå¥½ä½¿ç”¨ yarn æ‰€è‡´ã€‚</p> <ol><li>å®‰è£</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo npm i -g yarn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>é©—è­‰</li></ol> <p>yarn å®‰è£ä½ç½®ï¼š /usr/local/bin/yarn</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>which yarn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å®‰è£-python-ä½œæ¥­ç’°å¢ƒ"><a href="#å®‰è£-python-ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å®‰è£ Python ä½œæ¥­ç’°å¢ƒ</h2> <h3 id="ubuntu-python-ç‰¹æ€§"><a href="#ubuntu-python-ç‰¹æ€§" class="header-anchor">#</a> Ubuntu Python ç‰¹æ€§</h3> <ol><li>Ubuntu 20.04 ä½œæ¥­ç³»çµ±ï¼Œé è¨­å®‰è£ <strong>Python 3.8.5</strong> ï¼›ä½†ç„¡ Python 2.X ã€‚</li></ol> <p>ä½œæ¥­ç³»çµ±é è¨­çš„å®‰è£ç›®éŒ„è·¯å¾‘ï¼š<strong><code>/usr/bin/</code></strong> ã€‚</p> <p>ğŸ“º ä½¿ç”¨æŒ‡ä»¤ python, pyton3 è§€å¯Ÿä½œæ¥­ç³»çµ±çš„é è¨­ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@MBP2018:~$ ssh 192.168.66.220
Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.8.0-48-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

ç¾åœ¨å¯ä»¥å®‰è£ 0 é …æ›´æ–°ã€‚
å…¶ä¸­æœ‰ 0 é …æ›´æ–°ç‚ºå®‰å…¨æ€§æ›´æ–°ã€‚

Your Hardware Enablement Stack (HWE) is supported until April 2025.
Last login: Sat Apr  3 11:28:46 2021 from 192.168.66.21
alanjui@VB02-Ubuntu-2004:~$ which python
alanjui@VB02-Ubuntu-2004:~$ which python3
/usr/bin/python3
alanjui@VB02-Ubuntu-2004:~$ python3
Python 3.8.5 (default, Jan 27 2021, 15:41:15)
[GCC 9.3.0] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt;
alanjui@VB02-Ubuntu-2004:~$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>ğŸ“º è§€å¯Ÿä½œæ¥­ç³»çµ±é è¨­çš„ã€Œå®‰è£ç›®éŒ„è·¯å¾‘ã€ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ ll /usr/bin/python*
lrwxrwxrwx 1 root root       9  3æœˆ 13  2020 /usr/bin/python2 -&gt; python2.7*
-rwxr-xr-x 1 root root 3674216  3æœˆ  8 21:02 /usr/bin/python2.7*
lrwxrwxrwx 1 root root       9  3æœˆ 24 21:24 /usr/bin/python3 -&gt; python3.8*
-rwxr-xr-x 1 root root 5486384  1æœˆ 27 23:41 /usr/bin/python3.8*
lrwxrwxrwx 1 root root      33  1æœˆ 27 23:41 /usr/bin/python3.8-config -&gt; x86_64-linux-gnu-python3.8-config*
lrwxrwxrwx 1 root root      16  3æœˆ 13  2020 /usr/bin/python3-config -&gt; python3.8-config*
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li>éœ€è¦ä½¿ç”¨å¥—ä»¶ç®¡ç†å™¨æ™‚ï¼Œå¾—æ‰‹å‹•å®‰è£ pip3 ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install python3-pip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä¸Šè¿°æŒ‡ä»¤åŸ·è¡Œå¾Œï¼Œä½¿ç”¨è€…å³å¯åœ¨ä½œæ¥­ç³»çµ±ä»¥ pip3 æŒ‡ä»¤ï¼Œå®‰è£ Python å¥—ä»¶ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip3 install [Package_Name]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º è‹¥æœ‰éœ€è¦å¯æŸ¥è©¢ pip3 ä¹‹ç‰ˆæœ¬ç·¨è™Ÿï¼Œèˆ‡å…¶å®‰è£ç›®éŒ„è·¯å¾‘ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ pip3 --version
pip 21.0.1 from /usr/local/lib/python3.8/dist-packages/pip (python 3.8)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>æ›´æ–° pip3 è‡³æœ€æ–°ç‰ˆæœ¬ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip3 install --upgrade pip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ã€æ³¨æ„ã€‘ï¼š æŒ‡ä»¤æœ€å¾Œæ˜¯ pip ï¼›è€Œé pip3 ã€‚è‡ªæ›´æ–°åˆ°æœ€æ–°ç‰ˆå¾Œï¼Œå¾€å¾Œä½¿ç”¨ pip é€™å€‹
Python å¥—ä»¶ç®¡ç†å™¨ï¼Œå¯ä»¥æ”¹æˆ pip ï¼›ä¸ä¸€å®šè¦ç‰¹åˆ¥æ¨™ç¤ºç‚º Python 3.x ç‰ˆæœ¬ä¹‹ pip3 ã€‚</p> <p>ğŸ“º pip3 å®Œæˆæ›´æ–°å¾Œï¼Œå°‡è¡ç”Ÿå‡º pip ï¼›ä¸” pip3 èˆ‡ pip ç‚ºåŒä¸€ç‰ˆæœ¬ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ ll /usr/local/lib/python3.8/dist-packages/
ç¸½ç”¨é‡ 52
drwxrwsr-x 10 root staff  4096  4æœˆ  3 01:37 ./
drwxrwsr-x  3 root staff  4096  4æœˆ 23  2020 ../
drwxr-sr-x  3 root staff  4096  3æœˆ 28 12:01 asgiref/
drwxr-sr-x  2 root staff  4096  3æœˆ 28 12:01 asgiref-3.3.1.dist-info/
drwxr-sr-x  5 root staff  4096  3æœˆ 30 20:55 pip/
drwxr-sr-x  2 root staff  4096  3æœˆ 30 20:55 pip-21.0.1.dist-info/
drwxr-sr-x  2 root staff  4096  4æœˆ  3 01:37 __pycache__/
drwxr-sr-x  5 root staff  4096  3æœˆ 28 12:01 sqlparse/
drwxr-sr-x  2 root staff  4096  3æœˆ 28 12:01 sqlparse-0.4.1.dist-info/
drwxr-sr-x  2 root staff  4096  4æœˆ  3 01:37 uWSGI-2.0.19.1.dist-info/
-rw-r--r--  1 root staff 10392  4æœˆ  3 01:37 uwsgidecorators.py

alanjui@VB02-Ubuntu-2004:~$ which pip3
/usr/local/bin/pip3

alanjui@VB02-Ubuntu-2004:~$ pip --version
pip 21.0.1 from /usr/local/lib/python3.8/dist-packages/pip (python 3.8)

alanjui@VB02-Ubuntu-2004:~$ pip3 --version
pip 21.0.1 from /usr/local/lib/python3.8/dist-packages/pip (python 3.8)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ol start="4"><li>sudo pip install èˆ‡ pip install çš„ä¸åŒã€‚</li></ol> <p>sudo pip install [Package_Name] æœƒå°‡ Python å¥—ä»¶å®‰è£åœ¨å¦‚ä¸‹ç›®éŒ„è·¯å¾‘ï¼š</p> <ul><li>å¥—ä»¶æª”ï¼š /usr/local/lib/python3.8/dies-package/[Package_Name]</li> <li>åŸ·è¡Œæª”ï¼š /usr/local/bin/[Package_Name]</li></ul> <p>pip install [Package_Name] æœƒå°‡å¥—ä»¶å®‰è£åœ¨å¦‚ä¸‹ç›®éŒ„è·¯å¾‘ï¼š</p> <ul><li>å¥—ä»¶æª”ï¼š ~/.local/lib/python3.8/dies-package/[Package_Name]</li> <li>åŸ·è¡Œæª”ï¼š ~/.local/bin/[Package_Name]</li></ul> <h3 id="å®‰è£ç‰ˆæœ¬ç®¡ç†å™¨-pyenv"><a href="#å®‰è£ç‰ˆæœ¬ç®¡ç†å™¨-pyenv" class="header-anchor">#</a> å®‰è£ç‰ˆæœ¬ç®¡ç†å™¨ pyenv</h3> <p>å®‰è£ Python ç‰ˆæœ¬ç®¡ç†å™¨ï¼špyenvã€‚</p> <ol><li>åŸ·è¡Œå®‰è£ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/pyenv/pyenv.git ~/.pyenv
git clone https://github.com/pyenv/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>è¨­å®š Shell ç’°å¢ƒï¼ŒåŸ·è¡Œ pyenv æ‰€éœ€ã€Œç’°å¢ƒè®Šæ•¸ã€ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim ~/.bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ”– ~/.bashrc:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export PYENV_ROOT=&quot;$HOME/.pyenv&quot;
export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;
if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then
  eval &quot;$(pyenv init -)&quot;
  eval &quot;$(pyenv virtualenv-init -)&quot;
fi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="3"><li>é‡å•Ÿ Shell ï¼Œå•Ÿç”¨ pyenv ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>source ~/.bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>æŸ¥é©— pyenv å®‰è£è·¯å¾‘ï¼š</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>which pyenv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="5"><li>é©—è­‰ pyenv å·²èƒ½é‹ä½œã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv versions
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ which pyenv
/home/alanjui/.pyenv/bin/pyenv

alanjui@VB02-Ubuntu-2004:~$ pyenv versions
* system (set by /home/alanjui/.pyenv/version)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="å®‰è£æŒ‡å®šç‰ˆæœ¬-python"><a href="#å®‰è£æŒ‡å®šç‰ˆæœ¬-python" class="header-anchor">#</a> å®‰è£æŒ‡å®šç‰ˆæœ¬ Python</h3> <p>é€é pyenv æŒ‡ä»¤ï¼Œå®‰è£æŒ‡å®šç‰ˆæœ¬ä¹‹ Python ç›´è­¯å™¨ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv install [Version_No]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º å®‰è£ Python v3.9.1</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv install 3.9.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="è¨­å®šä½œæ¥­ç³»çµ±é è¨­-python"><a href="#è¨­å®šä½œæ¥­ç³»çµ±é è¨­-python" class="header-anchor">#</a> è¨­å®šä½œæ¥­ç³»çµ±é è¨­ Python</h3> <p>å°‡æŸç‰ˆæœ¬ Python ç›´è­¯å™¨ï¼Œè¨­å®šæˆä½œæ¥­ç³»çµ±çš„ã€Œé è¨­ Python ç›´è­¯å™¨ã€ã€‚</p> <ol><li>ä½¿ç”¨ pyenv global æŒ‡ä»¤ï¼ŒæŒ‡æ´¾ä½œæ¥­ç³»çµ±å±¤ç´šä¹‹ã€Œé è¨­ Pythonã€ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv global [Version_No]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>ä½¿ç”¨ pyenv versions æŒ‡ä»¤ï¼ŒæŸ¥è©¢ã€Œé è¨­ Pythonã€ä¹‹ç‰ˆæœ¬ç·¨è™Ÿã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv versions
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>åŸ·è¡Œä¸‹åˆ—äºŒæŒ‡ä»¤ï¼Œç”¨ä»¥é©—è­‰ã€ŒPython ç›´è­¯å™¨æ‰€æœˆåµ¬ä¹‹ç‰ˆæœ¬ç·¨è™Ÿã€èˆ‡ã€Œé è¨­ Pythonã€
æ‰€è¦‹ã€Œç‰ˆæœ¬ç·¨è™Ÿã€ä¸€è‡´ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv versions
python
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li>åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼Œç”¨ä»¥é©—è­‰ Python [Version_No] ä¹‹ä¸€è‡´æ€§</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv --version
~/.pyenv/shims/python --version
~/.pyenv/versions/[Version_No]/bin/python --version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º æŒ‡å®šã€Œä½œæ¥­ç³»çµ±ã€çš„ã€Œé è¨­ã€ç‚º pyenv çš„é è¨­ï¼š pyenv</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ pyenv global system
alanjui@VB02-Ubuntu-2004:~$ pyenv versions
* system (set by /home/alanjui/.pyenv/version)
  3.8.5
  3.8.5/envs/mysite.ccc.tw.local
  3.9.1
  3.9.1/envs/venv-3.9.1
  mysite.ccc.tw.local
  venv-3.9.1
alanjui@VB02-Ubuntu-2004:~$ pyenv which python
pyenv: python: command not found

The `python' command exists in these Python versions:
  3.8.5
  3.8.5/envs/mysite.ccc.tw.local
  3.9.1
  3.9.1/envs/venv-3.9.1
  mysite.ccc.tw.local
  venv-3.9.1

Note: See 'pyenv help global' for tips on allowing both
      python2 and python3 to be found.

alanjui@VB02-Ubuntu-2004:~$ python3 -V
Python 3.8.5

alanjui@VB02-Ubuntu-2004:~$ echo $PATH
/home/alanjui/.pyenv/plugins/pyenv-virtualenv/shims:/home/alanjui/.pyenv/shims:/home/alanjui/.pyenv/bin:/home/alanjui/n/bin:/home/alanjui/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/alanjui/n/bin

alanjui@VB02-Ubuntu-2004:~$ which python3
/home/alanjui/.pyenv/shims/python3

alanjui@VB02-Ubuntu-2004:~$ ~/.pyenv/shims/python3 -V
Python 3.8.5

alanjui@VB02-Ubuntu-2004:~$ pyenv which python3
/usr/bin/python3

alanjui@VB02-Ubuntu-2004:~$ /usr/bin/python3 -V
Python 3.8.5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>ğŸ“º ä½¿ç”¨ pyenv which [Python_Package] ï¼Œå¯ç¢ºèªå°‡åŸ·è¡Œçš„ Python å¥—ä»¶ï¼Œä¾†è‡ªé‚£å€‹
ã€Œç›®éŒ„è·¯å¾‘ã€ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ pyenv which pip3
/usr/local/bin/pip3

alanjui@VB02-Ubuntu-2004:~$ pyenv which pip
/usr/local/bin/pip

alanjui@VB02-Ubuntu-2004:~$ pyenv which uwsgi
/usr/local/bin/uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://files.realpython.com/media/pyenv-pyramid.d2f35a19ded9.png" alt=""></p> <h2 id="å®‰è£-vim-ç·¨è¼¯å™¨"><a href="#å®‰è£-vim-ç·¨è¼¯å™¨" class="header-anchor">#</a> å®‰è£ Vim ç·¨è¼¯å™¨</h2> <p>å®‰è£ Vim ç·¨è¼¯å™¨ã€‚</p> <h3 id="å®‰è£è»Ÿé«”"><a href="#å®‰è£è»Ÿé«”" class="header-anchor">#</a> å®‰è£è»Ÿé«”</h3> <ol><li>ä¸‹è¼‰åŸå§‹ç¢¼ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/vim/vim.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>ç·¨è¼¯åŸå§‹ç¢¼èˆ‡å®‰è£åŸ·è¡Œæª”ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd vim
./configure
sudo apt install ncurses-dev
make
sudo make install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="è¨­å®šä½œæ¥­ç’°å¢ƒ"><a href="#è¨­å®šä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> è¨­å®šä½œæ¥­ç’°å¢ƒ</h3> <ol><li>å®‰è£ vim ä½œæ¥­è¨­å®šæª”</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/AlanJui/vim8.git ~/.vim
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>å®‰è£ Vim Pluginsã€‚</li></ol> <p>å•Ÿå‹• vim ï¼Œä»¥ä¾¿ vim è‡ªå‹•å®‰è£ vim plugins ã€‚</p> <ol start="3"><li>å®‰è£ vim plugins ç›¸ä¾å¥—ä»¶ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install vifm
sudo apt install fzf
sudo apt install ripgrep
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>npm i -g bash-language-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ npm i -g bash-language-server
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated left-pad@1.3.0: use String.prototype.padStart()
/home/alanjui/n/bin/bash-language-server -&gt; /home/alanjui/n/lib/node_modules/bash-language-server/bin/main.js
+ bash-language-server@1.17.0
added 115 packages from 220 contributors in 9.368s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="å»ºç½®-django-app-é–‹ç™¼ä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®-django-app-é–‹ç™¼ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½® Django App é–‹ç™¼ä½œæ¥­ç’°å¢ƒ</h2> <p>èªªæ˜å¦‚ä½•å»ºç½®å¯ä¾›é–‹ç™¼ Django App ä¹‹ä½œæ¥­ç’°å¢ƒã€‚</p> <h3 id="å»ºç½®-django-app-å°ˆæ¡ˆ"><a href="#å»ºç½®-django-app-å°ˆæ¡ˆ" class="header-anchor">#</a> å»ºç½® Django App å°ˆæ¡ˆ</h3> <ol><li>å»ºç½® Django App å°ˆæ¡ˆç›®éŒ„</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd ~/workspace/django
mkdir mysite &amp;&amp; cd $_
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>å»ºç½®åŠå•Ÿç”¨è™›æ“¬ç’°å¢ƒã€‚</li></ol> <ul><li>ç¢ºèªä½œæ¥­ç³»çµ±ä¸­ï¼Œå·²å®‰è£ä¹‹ Python æœ‰é‚£äº›ç‰ˆæœ¬ï¼Ÿ</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv versions
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>å¥—ç”¨ Python 3.9.1 ï¼Œå»ºç½®åç¨±ç‚º venv-3.9.1 ä¹‹ã€Œè™›æ“¬ç’°å¢ƒã€ã€‚</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv virtualenv 3.9.1 venv-3.9.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>å•Ÿå‹• pyenv-virtualenvã€Œä¾è¨­å®šè‡ªå‹•å•Ÿç”¨è™›æ“¬ç’°å¢ƒã€åŠŸèƒ½</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>pyenv local venv-3.9.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>å®‰è£ Django å¥—ä»¶ã€‚</li></ol> <ul><li>æ›´æ–° pip åˆ°æœ€æ–°ç‰ˆ</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install --upgrade pip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æˆ– â‹¯â‹¯</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>~/.pyenv/versions/3.9.1/envs/venv-3.9.1/bin/python3.9 -m pip install --upgrade pip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>å®‰è£ Django å¥—ä»¶</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install Django
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>ç¢ºèª Django å¥—ä»¶ç‰ˆæœ¬ç·¨è™Ÿ</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>python -m django --version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ python -m pip install Django
Collecting Django
  Using cached Django-3.1.7-py3-none-any.whl (7.8 MB)
Collecting pytz
  Using cached pytz-2021.1-py2.py3-none-any.whl (510 kB)
Collecting asgiref&lt;4,&gt;=3.2.10
  Using cached asgiref-3.3.1-py3-none-any.whl (19 kB)
Collecting sqlparse&gt;=0.2.2
  Using cached sqlparse-0.4.1-py3-none-any.whl (42 kB)
Installing collected packages: sqlparse, pytz, asgiref, Django
Successfully installed Django-3.1.7 asgiref-3.3.1 pytz-2021.1 sqlparse-0.4.1

(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ python -m django --version
3.1.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="4"><li>å»ºç½® Django App å°ˆæ¡ˆã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>django-admin startproject app_config .
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ django-admin startproject app_config .

(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ ll
ç¸½ç”¨é‡ 20
drwxrwxr-x 3 alanjui alanjui 4096  4æœˆ  1 14:08 ./
drwxrwxr-x 3 alanjui alanjui 4096  4æœˆ  1 13:16 ../
drwxrwxr-x 2 alanjui alanjui 4096  4æœˆ  1 14:08 app_config/
-rwxrwxr-x 1 alanjui alanjui  666  4æœˆ  1 14:08 manage.py*
-rw-rw-r-- 1 alanjui alanjui   11  4æœˆ  1 13:59 .python-version

(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ tree .
.
â”œâ”€â”€ app_config
â”‚Â Â  â”œâ”€â”€ asgi.py
â”‚Â Â  â”œâ”€â”€ __init__.py
â”‚Â Â  â”œâ”€â”€ settings.py
â”‚Â Â  â”œâ”€â”€ urls.py
â”‚Â Â  â””â”€â”€ wsgi.py
â””â”€â”€ manage.py

1 directory, 6 files
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ol start="5"><li>è¨­å®š Django App èƒ½ä½¿ç”¨ä¹‹ Domain Name æˆ– IP ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim app_config/settings.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ”–</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ALLOWED_HOSTS = [
    'mysite.ccc.tw.local',
    '192.168.66.220',
    'localhost',
    '127.0.0.1',
]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="6"><li>é©—è­‰ Django App å·²èƒ½é‹ä½œã€‚</li></ol> <ul><li>å•Ÿç”¨ Django App</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>python manage.py runserver 0.0.0.0:8000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ä½¿ç”¨ã€Œç€è¦½å™¨ã€è§€å¯Ÿä»¥ä¸‹ç¶²å€ï¼Œè‹¥èƒ½çœ‹åˆ°å¦‚ä¸‹ç•«é¢ï¼Œå³è¡¨é€šéé©—è­‰ã€‚</p> <ul><li>http://192.168.66.220:8000/</li> <li>http://mysite.ccc.tw.local:8000/</li></ul> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <h3 id="å®‰è£-uwsgi-wsgi-ä»‹é¢"><a href="#å®‰è£-uwsgi-wsgi-ä»‹é¢" class="header-anchor">#</a> å®‰è£ uWSGI ï¼ˆWSGI ä»‹é¢ï¼‰</h3> <p>WSGI: Web Server Gateway Interface ï¼Œç‚º HTTP Server èˆ‡ Application Server ä¸²æ¥
ä¹‹ä»‹é¢ã€‚åœ¨æ­¤æŒ‡å¼•ï¼ŒApplication Server å³ä»£è¡¨ Django App æ‡‰ç”¨ç³»çµ±ã€‚</p> <p>ä»¥ä¸‹èªªæ˜ï¼Œå¦‚ä½•å®‰è£ uwsgi å¥—ä»¶ã€‚åœ¨å®‰è£çµæŸå¾Œï¼Œé€²è¡Œä¸€å€‹ç°¡å–®çš„æ¸¬è©¦ï¼Œç”¨ä»¥é©—è­‰ uwsgi
èƒ½èˆ‡ Python ç¨‹å¼ä¸²æ¥ã€‚æ­¤ Python æ¸¬è©¦ç¨‹å¼ï¼Œæ‰®æ¼”ã€Œå½ Application Serverã€ï¼ˆæˆ–ç¨±ï¼š
å‡ Django Appï¼‰ã€‚é€™å€‹æ¸¬è©¦å¯ç”¨ä»¥é©—è­‰ uwsgi çš„å®‰è£æ­£ç¢ºï¼›å¦å¤–äº¦èƒ½ç”¨æ–¼è­‰æ˜ uwsgi å¯
ç”¨æ–¼ä¸²æ¥ Python ç¨‹å¼ç¢¼ã€‚</p> <ol><li>å®‰è£ python å¥—ä»¶ï¼šuwsgi</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ pip install uwsgi
    Collecting uwsgi
Using cached uWSGI-2.0.19.1.tar.gz (803 kB)
    Using legacy 'setup.py install' for uwsgi, since package 'wheel' is not installed.
    Installing collected packages: uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>å»ºç«‹æ¸¬è©¦åŸå§‹ç¢¼ï¼š wsgi_test.py ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code># wsgi_test.py

def application(env, start_response):
start_response('200 OK', [('Content-Type','text/html')])
return [b&quot;Hello World&quot;] # python3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>å•Ÿå‹• WSGI ä»‹é¢ç¨‹å¼ï¼Œè¦æ±‚ uwsgi ç›£è½ Port: 9000 ï¼Œå°‡æ”¶åˆ°ä¹‹ HTTP Requestï¼Œä¾æ“š
--wsgi-file åƒæ•¸ä¹‹è¨­å®šï¼Œè½‰äº¤ã€Œå½ Application Server ï¼ˆå‡ Django Appï¼‰ã€ è™•ç†ã€‚</li></ol> <p>é€šä¿¡è·¯å¾‘ï¼š
Web Client â¬…â¡ uWSGI (Port: 9000) â¬…â¡ Django Appï¼ˆFakeï¼‰</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>uwsgi --http :9000 --wsgi-file wsgi_test.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>å•Ÿå‹•ã€Œç€è¦½å™¨ã€è§€å¯Ÿç¶²å€ï¼š http://mysite.ccc.tw.local:9000/ ã€‚è‹¥åœ¨ã€Œç¶²é ã€çœ‹åˆ°
Hello World å³ä»£è¡¨æ¸¬è©¦é€šéã€‚</li></ol> <p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ uwsgi --http :9000 --wsgi-file wsgi_test.py
*** Starting uWSGI 2.0.19.1 (64bit) on [Thu Apr  1 15:19:16 2021] ***
compiled with version: 9.3.0 on 01 April 2021 07:04:38
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.9.1/envs/venv-3.9.1/bin/uwsgi
!!! no internal routing support, rebuild with pcre support !!!
*** WARNING: you are running uWSGI without its master process manager ***
your processes number limit is 15511
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on :9000 fd 4
spawned uWSGI http 1 (pid: 22278)
uwsgi socket 0 bound to TCP address 127.0.0.1:37807 (port auto-assigned) fd 3
Python version: 3.9.1 (default, Mar 26 2021, 13:50:53)  [GCC 9.3.0]
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x55f5d0d131e0
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 72920 bytes (71 KB) for 1 cores
*** Operational MODE: single process ***
WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter 0x55f5d0d131e0 pid: 22236 (default app)
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI worker 1 (and the only) (pid: 22236, cores: 1)
[pid: 22236|app: 0|req: 1/1] 192.168.66.21 () {38 vars in 725 bytes} [Thu Apr  1 15:19:45 2021] GET / =&gt; generated 11 bytes in 0 msecs (HTTP/1.1 200) 1 headers in 44 bytes (1 switches on core 0)
[pid: 22236|app: 0|req: 2/2] 192.168.66.21 () {38 vars in 689 bytes} [Thu Apr  1 15:19:45 2021] GET /favicon.ico =&gt; generated 11 bytes in 0 msecs (HTTP/1.1 200) 1 headers in 44 bytes (1 switches on core 0)
^C(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="é©—è­‰-uwsgi-å¯ä¸²æ¥-django"><a href="#é©—è­‰-uwsgi-å¯ä¸²æ¥-django" class="header-anchor">#</a> é©—è­‰ uwsgi å¯ä¸²æ¥ Django</h3> <p>è¦æ±‚ uwsgi ç›£è½ Port: 8001 ï¼Œå°‡æ”¶åˆ°ä¹‹ HTTP Request ï¼Œä¾æ“š --module åƒæ•¸ä¹‹è¨­å®š
ï¼Œå°‡ Port: 8001 æ‰€æ”¶åˆ°ä¹‹ HTTP Request è½‰äº¤ Django App è™•ç†ã€‚</p> <p>é€šä¿¡è·¯å¾‘ï¼š
Web Client â¬…â¡ uWSGI (Port: 8001) â¬…â¡ Django App</p> <ol><li>å•Ÿå‹• uwsgi ä»‹é¢ç¨‹å¼ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>uwsgi --http :8001 --module app_config.wsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ uwsgi --http :8001 --module app_config.wsgi
*** Starting uWSGI 2.0.19.1 (64bit) on [Mon Apr  5 10:31:55 2021] ***
compiled with version: 9.3.0 on 02 April 2021 17:30:08
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/uwsgi
*** WARNING: you are running uWSGI without its master process manager ***
your processes number limit is 15511
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on :8001 fd 4
spawned uWSGI http 1 (pid: 7888)
uwsgi socket 0 bound to TCP address 127.0.0.1:33437 (port auto-assigned) fd 3
Python version: 3.8.5 (default, Apr  3 2021, 00:06:18)  [GCC 9.3.0]
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x558a67952e20
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 72920 bytes (71 KB) for 1 cores
*** Operational MODE: single process ***
WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter 0x558a67952e20 pid: 7846 (default app)
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI worker 1 (and the only) (pid: 7846, cores: 1)
[pid: 7846|app: 0|req: 1/1] 192.168.66.21 () {38 vars in 726 bytes} [Mon Apr  5 02:32:12 2021] GET / =&gt; generated 16351 bytes in 18 msecs (HTTP/1.1 200) 5 headers in 153 bytes (1 switches on core 0)
Not Found: /static/admin/css/fonts.css
[pid: 7846|app: 0|req: 2/2] 192.168.66.21 () {38 vars in 674 bytes} [Mon Apr  5 02:32:13 2021] GET /static/admin/css/fonts.css =&gt; generated 2031 bytes in 13 msecs (HTTP/1.1 404) 5 headers in 159 bytes (1 switches on core 0)
Not Found: /favicon.ico
[pid: 7846|app: 0|req: 3/3] 192.168.66.21 () {38 vars in 690 bytes} [Mon Apr  5 02:32:13 2021] GET /favicon.ico =&gt; generated 1986 bytes in 4 msecs (HTTP/1.1 404) 5 headers in 159 bytes (1 switches on core 0)
^C(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ol start="2"><li>å•Ÿå‹•ã€Œç€è¦½å™¨ã€è§€å¯Ÿç¶²å€ï¼š http://mysite.ccc.tw.local:8001/ ã€‚è‹¥èƒ½åœ¨ã€Œç¶²é ã€çœ‹åˆ°
å¦‚ä¸‹ç•«é¢ï¼Œå³è¡¨æ¸¬è©¦é€šéã€‚</li></ol> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <h3 id="å®‰è£-nginx-http-server"><a href="#å®‰è£-nginx-http-server" class="header-anchor">#</a> å®‰è£ Nginx (HTTP Server)</h3> <p>å®‰è£ nginx ä½œç‚º HTTP Serverã€‚</p> <ol><li>å®‰è£ nginx å¥—ä»¶ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install nginx -y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>é©—è­‰ nginx æœå‹™å·²å•Ÿå‹•ã€‚</li></ol> <ul><li>é©—è­‰æœå‹™å·²å•Ÿç”¨ï¼Œä¸”èƒ½éš¨ä½œæ¥­ç³»çµ±é–‹æ©Ÿè‡ªå‹•å•Ÿå‹•</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>systemctl status nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ systemctl status nginx
â— nginx.service - A high performance web server and a reverse proxy server
Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
Active: active (running) since Fri 2021-03-26 14:30:00 CST; 1min 10s ago
Docs: man:nginx(8)
Main PID: 67493 (nginx)
Tasks: 3 (limit: 4653)
Memory: 4.8M
CGroup: /system.slice/nginx.service
â”œâ”€67493 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
â”œâ”€67494 nginx: worker process
â””â”€67495 nginx: worker process

3 æœˆ 26 14:30:00 VB02-Ubuntu-2004 systemd[1]: Starting A high performance web server and a reverse proxy ser&gt;
3 æœˆ 26 14:30:00 VB02-Ubuntu-2004 systemd[1]: Started A high performance web server and a reverse proxy serv&gt;
lines 1-14/14 (END)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="3"><li>é©—è­‰ nginx çš„ HTTP Server å·²èƒ½æ­£å¸¸é‹ä½œ</li></ol> <p>ä½¿ç”¨ Web ç€è¦½å™¨ï¼Œç€è¦½å¦‚ä¸‹ç¶²å€ï¼Œè‹¥èƒ½æ­£å¸¸é–±è®€ã€Œç¶²é ã€å…§å®¹ï¼Œå‰‡è¡¨ HTTP Server å·²èƒ½
æ­£å¸¸é‹ä½œã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://[IP_Address]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/nginx/nginx_browse_test.png" alt="ArchLinux: Django Project"></p> <h2 id="è¨­å®š-nginx-uwsgi-ä½œæ¥­ç’°å¢ƒ"><a href="#è¨­å®š-nginx-uwsgi-ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> è¨­å®š Nginx + uWSGI ä½œæ¥­ç’°å¢ƒ</h2> <h3 id="å»ºç½®-nginx-è™›æ“¬ç¶²ç«™"><a href="#å»ºç½®-nginx-è™›æ“¬ç¶²ç«™" class="header-anchor">#</a> å»ºç½® Nginx è™›æ“¬ç¶²ç«™</h3> <ol><li>å¥—ç”¨ defaut è™›æ“¬ç¶²ç«™è¨­å®šæª”ï¼Œå»ºç½® Django App è™›æ“¬ç¶²ç«™ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd ~/workspace/django/mysite
cp /etc/nginx/sites-available/default config/mysite.ccc.tw.local.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>è¨­å®š Django App çš„ã€ŒNginx è™›æ“¬ç¶²ç«™ã€ä½œæ¥­ç’°å¢ƒã€‚</li></ol> <ul><li>ç›£è½ Portï¼š8001</li></ul> <p>Nginx ä¾æ“šã€Œè™›æ“¬ç¶²ç«™è¨­å®šã€ï¼Œè™•ç†æ¥æ”¶åˆ°ä¹‹ HTTP Request ï¼Œå°æ–¼ç„¡æ³•è™•ç†ä¹‹ Request ï¼Œ
å‰‡ä¾æ“šã€Œè¨­å®šæª”ä¸­æœ€å¾Œä¸€æ¢è™•ç†è¦å‰‡ï¼šuwsgi_passã€ï¼Œè½‰äº¤ upstream django { ... } å…¶ä¸­
çš„è¨­å®šè™•ç†ã€‚</p> <p>ä¹Ÿå°±æ˜¯ Nginx è™›æ“¬ç¶²ç«™ï¼Œå°æ–¼ç„¡æ³•è™•ç†çš„ HTTP Request ï¼Œå°‡é€é Port: 8001 è½‰äº¤ WSGI
ä»‹é¢çš„ç¨‹å¼ uwsgi ã€‚uwsgi é€™å€‹ä»‹é¢ç¨‹å¼ï¼Œå°‡æŠŠæ”¶åˆ°çš„ HTTP Request ï¼Œå†æ¬¡è½‰å‚³çµ¦æœ€çµ‚çš„
Django App é€²è¡Œè™•ç†ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim config/mysite.ccc.tw.local.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ”– mysite.ccc.tw.local.conf</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>upstream django {
    # for a web port socket
    server 127.0.0.1:8001;
}

server {
    # the port mysite will be served on
    listen 80;

    server_name mysite.ccc.tw.local;

    root /home/alanjui/worksapce/django/mysite;

    # Finally, send all non-static, non-media requests to the Django App server.
    location / {
        uwsgi_pass  django;
        include     /etc/nginx/uwsgi_params;
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ol start="3"><li>åœç”¨ Default è™›æ“¬ç¶²ç«™</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo unlink /etc/nginx/sites-enabled/default
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>å•Ÿç”¨ Django App è™›æ“¬ç¶²ç«™</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo ln -nfs ~/workspace/django/mysite/config/mysite.ccc.tw.local.conf /etc/nginx/sites-enabled
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="5"><li>æª¢é©—è™›æ“¬ç¶²ç«™çš„è¨­å®šï¼Œæ­£ç¢ºç„¡èª¤ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo nginx -t
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º é©—è­‰å¤±æ•—</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite/config\$ sudo nginx -t
nginx: [emerg] unexpected &quot;}&quot; in /etc/nginx/sites-enabled/mysite.ccc.tw.local.conf:81
nginx: configuration file /etc/nginx/nginx.conf test failed
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º é©—è­‰é€šé</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite/config\$ sudo nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="6"><li>é‡å•Ÿ nginx æœå‹™ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo sytemctl restart nginx
systemctl status nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="7"><li>å•Ÿå‹• WSGI ä»‹é¢ç¨‹å¼ï¼Œè¦æ±‚ uwsgi ç›£è½ Port: 8001 ï¼Œç„¶å¾Œé€é --module åƒæ•¸çš„è¨­å®š
ï¼Œå°‡ Port: 8001 æ”¶åˆ°çš„ HTTP Request è½‰äº¤ Django App è™•ç†ã€‚</li></ol> <p>é€šä¿¡è·¯å¾‘ï¼š
Web Client â¬…â¡ Web Server (Nginx) â¬…â¡ uWSGI (Port: 8001) â¬…â¡ Django App</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>uwsgi --socket :8001 --module app_config.wsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ uwsgi --http :8001 --module app_config.wsgi
*** Starting uWSGI 2.0.19.1 (64bit) on [Fri Apr  2 10:42:19 2021] ***
compiled with version: 9.3.0 on 01 April 2021 07:04:38
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.9.1/envs/venv-3.9.1/bin/uwsgi
!!! no internal routing support, rebuild with pcre support !!!
*** WARNING: you are running uWSGI without its master process manager ***
your processes number limit is 15511
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uWSGI http bound on :8001 fd 4
spawned uWSGI http 1 (pid: 28180)
uwsgi socket 0 bound to TCP address 127.0.0.1:43009 (port auto-assigned) fd 3
Python version: 3.9.1 (default, Mar 26 2021, 13:50:53)  [GCC 9.3.0]
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x55e0c9c181d0
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 72920 bytes (71 KB) for 1 cores
*** Operational MODE: single process ***
WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter 0x55e0c9c181d0 pid: 28138 (default app)
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI worker 1 (and the only) (pid: 28138, cores: 1)
[pid: 28138|app: 0|req: 1/1] 192.168.66.21 () {40 vars in 750 bytes} [Fri Apr  2 02:42:40 2021] GET / =&gt; generated 16351 bytes in 11 msecs (HTTP/1.1 200) 5 headers in 153 bytes (1 switches on core 0)
Not Found: /static/admin/css/fonts.css
[pid: 28138|app: 0|req: 2/2] 192.168.66.21 () {40 vars in 728 bytes} [Fri Apr  2 02:42:40 2021] GET /static/admin/css/fonts.css =&gt; generated 2031 bytes in 5 msecs (HTTP/1.1 404) 5 headers in 159 bytes (1 switches on core 0)
Not Found: /favicon.ico
[pid: 28138|app: 0|req: 3/3] 192.168.66.21 () {38 vars in 690 bytes} [Fri Apr  2 02:42:44 2021] GET /favicon.ico =&gt; generated 1986 bytes in 6 msecs (HTTP/1.1 404) 5 headers in 159 bytes (1 switches on core 0)
^C(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ol start="8"><li>é©—è­‰ Django App è™›æ“¬ç¶²ç«™çš„ HTTP æœå‹™å·²èƒ½æ­£å¸¸é‹ä½œã€‚</li></ol> <p>ä½¿ç”¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/ ã€‚è‹¥ä¸€åˆ‡æ­£å¸¸ï¼Œæ‡‰èƒ½æ–¼ç€è¦½å™¨
çœ‹åˆ°å¦‚ä¸‹ã€Œå…§å®¹ã€ä¹‹ç¶²é ã€‚</p> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <h3 id="é©—è­‰-django-app-å·²èƒ½æ•´åˆé‹ä½œ"><a href="#é©—è­‰-django-app-å·²èƒ½æ•´åˆé‹ä½œ" class="header-anchor">#</a> é©—è­‰ Django App å·²èƒ½æ•´åˆé‹ä½œ</h3> <ol><li>è®Šæ›´ socket ä¸²é€£æ–¹å¼ç‚º uninx socket ã€‚</li></ol> <p>ä»¤ Nginx è™›æ“¬ç¶²ç«™èˆ‡ uwsgi ä»‹é¢ç¨‹å¼çš„ä¸²æ¥ï¼Œè‡ªåŸä¾†çš„ uwsgi ç›£è½ Port: 8001 ï¼Œæ”¹ç‚ºï¼š
ç›£è½ uninx socket æª”æ¡ˆã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim config/mysite.ccc.tw.local.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ”– mysite.ccc.tw.local.conf</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>upstream django {
    # for a web port socket
    # server 127.0.0.1:8001;

    # for a file socket
    # server unix:///path/to/your/mysite/mysite.sock;
    # server unix:///home/alanjui/worksapce/django/mysite/run/mysite.ccc.tw.local.sock;
    server unix:///run/uwsgi/mysite.ccc.tw.local.sock;
}

server {
    # the port mysite will be served on
    listen 80;

    server_name mysite.ccc.tw.local;

    root /home/alanjui/worksapce/django/mysite;

    # Finally, send all non-static, non-media requests to the Django App server.
    location / {
        uwsgi_pass  django;
        include     /etc/nginx/uwsgi_params;
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ol start="2"><li>å‚™å¦¥ unix socket æª”æ¡ˆï¼Œæ¬²å­˜æ”¾ä¹‹ã€Œç›®éŒ„ã€ï¼š /run/uwsgi/ ã€‚</li></ol> <ul><li>å»ºç«‹ç›®éŒ„</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /run/uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>è¨­å®šç›®éŒ„åŠæª”æ¡ˆçš„ã€Œæ“æœ‰è‘—ã€èˆ‡ã€Œä½¿ç”¨æ¬Šé™ã€</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo chown -R www-data:www-data /run/uwsgi
sudo chmod -R 775 /run/uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>é‡å•Ÿ nginx æœå‹™ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo systemctl restart nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>å•Ÿå‹• WSGI ä»‹é¢ã€‚</li></ol> <p>é€šä¿¡è·¯å¾‘ï¼š
Web Client â¬…â¡ Web Server â¬…â¡ Web Socket (Socket File) â¬…â¡ uWSGI â¬…â¡ Django App</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>uwsgi --socket /run/uwsgi/mysite.ccc.tw.local.sock --module app_config.wsgi --chmod-socket=666
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ uwsgi --socket /run/uwsgi/mysite.ccc.tw.local.sock --module app_config.wsgi --chmod-socket=666
*** Starting uWSGI 2.0.19.1 (64bit) on [Mon Apr  5 11:59:53 2021] ***
compiled with version: 9.3.0 on 02 April 2021 17:30:08
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/uwsgi
*** WARNING: you are running uWSGI without its master process manager ***
your processes number limit is 15511
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uwsgi socket 0 bound to UNIX address /run/uwsgi/mysite.ccc.tw.local.sock fd 3
Python version: 3.8.5 (default, Apr  3 2021, 00:06:18)  [GCC 9.3.0]
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x563b16c43890
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 72920 bytes (71 KB) for 1 cores
*** Operational MODE: single process ***
WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter 0x563b16c43890 pid: 11003 (default app)
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI worker 1 (and the only) (pid: 11003, cores: 1)
[pid: 11003|app: 0|req: 1/1] 192.168.66.21 () {42 vars in 797 bytes} [Mon Apr  5 04:00:25 2021] GET / =&gt; generated 16351 bytes in 11 msecs (HTTP/1.1 200) 5 headers in 153 bytes (1 switches on core 0)
Not Found: /favicon.ico
[pid: 11003|app: 0|req: 2/2] 192.168.66.21 () {42 vars in 756 bytes} [Mon Apr  5 04:00:25 2021] GET /favicon.ico =&gt; generated 1981 bytes in 8 msecs (HTTP/1.1 404) 5 headers in 159 bytes (1 switches on core 0)
^C(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ol start="4"><li>å•Ÿå‹•ã€Œç€è¦½å™¨ã€è§€å¯Ÿç¶²å€ï¼š http://mysite.ccc.tw.local/ ï¼Œè‹¥èƒ½çœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼Œ
å³è¡¨é€šéæ¸¬è©¦ã€‚</li></ol> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <h3 id="å•Ÿç”¨-nginx-éœæ…‹æª”çš„æœå‹™"><a href="#å•Ÿç”¨-nginx-éœæ…‹æª”çš„æœå‹™" class="header-anchor">#</a> å•Ÿç”¨ Nginx éœæ…‹æª”çš„æœå‹™</h3> <p>å•Ÿç”¨ Nginx çš„ã€Œéœæ…‹æª”ã€æœå‹™ã€‚ç•¶ HTTP Request åƒ…åªæ˜¯è¦æ±‚ä¸‹è¼‰ static æˆ– media é¡å‹
çš„æª”æ¡ˆæ™‚ï¼ŒNginx æœå‹™å°‡ç™¼æ®æ‰®æ¼”ã€ŒHTTP Serverã€çš„è§’è‰²ï¼Œç›´æ¥æä¾›æª”æ¡ˆä¸‹è¼‰çš„æœå‹™ï¼›ä½†
è‹¥ HTTP Request ä¸æ˜¯è¦æ±‚ä¸‹è¼‰éœæ…‹æª”æ™‚ï¼ŒNginx å³é€é upstream ä¸­çš„è¨­å®šï¼Œå°‡ HTTP Request
è½‰äº¤äºˆ uwsgi ä»‹é¢ç¨‹å¼ï¼Œå†ç”± uwsgi äº¤ä»˜çµ¦æœ€çµ‚çš„ Django App è™•ç†ã€‚</p> <p>é€šä¿¡è·¯å¾‘ï¼š
Web Client â¬…â¡ Web Server â¬…â¡ Web Socket (Socket File) â¬…â¡ uWSGI â¬…â¡ Django App</p> <p>é©—è­‰ Web Client å‚³ä¾†ä¹‹ HTTP Request ï¼Œèƒ½è¢« uwsgi æœå‹™æ¥æ”¶ï¼Œä¸¦è½‰å‚³è‡³ Django App ã€‚</p> <ol><li>å»ºç½®ã€Œéœæ…‹æª”æ¡ˆé¡å‹ç›®éŒ„ã€ã€‚</li></ol> <p>å»ºç«‹ static åŠ media éœæ…‹æª”ä½¿ç”¨ç›®éŒ„ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd ~/workspace/django/mysite
mkdir media
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>ç·¨è¼¯ Django App çš„è¨­å®šæª”</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim app_config/settings.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>è¨­å®š static_root ï¼Œä»¤ã€Œéœæ…‹æª”ã€é›†ä¸­åŒ¯å…¥ï¼šå°ˆæ¡ˆç›®éŒ„ä¸‹çš„å­ç›®éŒ„ï¼šstatic_files</li></ul> <p>ğŸ”– settings.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>STATIC_URL = '/static/'
STATIC_ROOT = BASE_DIR / 'static_files'

MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>ä½ˆç½² Django App çš„ã€Œéœæ…‹æª”æ¡ˆï¼ˆstatic filesï¼‰ã€ã€‚</li></ol> <p>åŒ¯é›†æ‰€æœ‰éœæ…‹æª”æ¡ˆè‡³ã€Œéœæ…‹æª”ä½ˆç½²ç›®éŒ„ã€ï¼š
/home/alanjui/workspace/django/mysite/static_files/</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>python manage.py collectstatic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>ä½ˆç½² Django App çš„ Media æª”æ¡ˆ</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>cp static_files/admin/img/search.svg media/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="5"><li>è®Šæ›´ Nginx è™›æ“¬ç¶²ç«™è¨­å®šæª”ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim config/mysite.ccc.tw.local.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ”– mysite.ccc.tw.local</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>upstream django {
    # server 127.0.0.1:8001;
    server unix:///run/uwsgi/mysite.ccc.tw.local.sock;
}

server {
    # listen 8000;
    listen 80;

    server_name mysite.ccc.tw.local;

    root /home/alanjui/workspace/django/mysite;
    # index index.html;
    charset utf-8;

    # max upload size
    client_max_body_size 75M; # adjust to taste

    # Django media
    location /media {
        alias /home/alanjui/workspace/django/mysite/media;
    }

    # Django static
    location /static {
        # alias /home/alanjui/workspace/django/mysite/static_collected;
        alias /home/alanjui/workspace/django/mysite/static_files;
    }

    # Finally, send all non-media requests to the Djang server.
    location / {
        # try_files $uri $uri/ =404;
        uwsgi_pass      django;
        include         /etc/nginx/uwsgi_params;
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ol start="6"><li>é©—è­‰è¨­å®šèªæ³•æ­£ç¢ºã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo nginx -t
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="7"><li>é‡å•Ÿ Nginx æœå‹™</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo systemctl restart nginx
systemctl status nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="8"><li>å•Ÿå‹• uwsgi ä»‹é¢ç¨‹å¼ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>uwsgi --socket ./run/mysite.ccc.tw.local.sock --module app_config.wsgi --chmod-socket=666
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“š è‹¥åŸ·è¡Œ uwsgi æ™‚ï¼Œä¸åœ¨ã€ŒDjango App å°ˆæ¡ˆç›®éŒ„ã€æ™‚ï¼ˆå¦‚ï¼šShell çš„ç¾è¡Œç›®éŒ„åœ¨ Homeï¼‰ï¼Œ
å‰‡å¯åŠ å…¥ chdir é¸é …ï¼Œä»¤ uwsgi ä»èƒ½æ­£å¸¸åŸ·è¡Œã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd

uwsgi --socket ~/workspace/django/mysite/run/mysite.ccc.tw.local.sock \
--chdir ~/workspace/django/mysite \
--module app_config.wsgi \
--chmod-socket=666
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="9"><li>é©—è­‰èƒ½å­˜å– static éœæ…‹æª”æ¡ˆ</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/static/admin/img/search.svg
ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°ã€Œæ”¾å¤§é¡åœ–ç¤ºã€ã€‚</p> <ol start="10"><li>é©—è­‰èƒ½å­˜å– media éœæ…‹æª”æ¡ˆ</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/media/search.svg
ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°ã€Œæ”¾å¤§é¡åœ–ç¤ºã€ã€‚</p> <ol start="11"><li>é©—è­‰éå­˜å– static èˆ‡ media çš„ HTTP Request æœƒè¢«é€å¾€ Django App ï¼Œä½¿ç”¨è€…æœƒ
åœ¨ã€Œç¶²é ã€çœ‹åˆ°å¦‚ä¸‹ç•«é¢ã€‚</li></ol> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <ol start="12"><li>æ¸…é™¤æ¸¬è©¦å¾Œï¼Œéºç•™ä¸‹çš„ unix socket æª”æ¡ˆã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>ls -al /etc/uwsgi/
sudo rm -f /etc/uwsgi/mysite.ccc.tw.local.sock
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="ä½¿ç”¨-uwsgi-ä»‹é¢è¨­å®šæª”"><a href="#ä½¿ç”¨-uwsgi-ä»‹é¢è¨­å®šæª”" class="header-anchor">#</a> ä½¿ç”¨ uwsgi ä»‹é¢è¨­å®šæª”</h3> <p>ç‚ºä½¿ uwsgi ä»‹é¢ç¨‹å¼å•Ÿå‹•çš„æ™‚å€™ï¼Œå¯ä»¥æ›´ç°¡ä¾¿äº›ï¼Œä¸ç”¨è¼¸å…¥é‚£éº¼å¤šçš„ã€Œåƒæ•¸ã€ã€‚æ”¹å–„çš„
æ–¹æ³•ä¾¿æ˜¯ï¼Œè¨­å®š uwsgi ä»‹é¢è¨­å®šæª”ã€‚</p> <ol><li>å»ºç½® uwsgi æœå‹™è¨­å®šæª”</li></ol> <p>å»ºç½® uWSGI ä»‹é¢è¨­å®šæª”ï¼š mysite_uwsgi.ini ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd /home/alanjui/worksapce/django/mysite
vim config/mysite_uwsgi.ini
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ğŸ”– uwsgi_mysite.ini</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># uwsgi_mysite.ini
[uwsgi]
project = mysite
domain = %(project).ccc.tw.local
uid = www-data
gid = www-data
base = /home/alanjui/workspace/django/%(project)

# Django-related settings
# the base directory (full path)
#chdir = /home/alanjui/workspace/django/mysite
chdir = %(base)

# Django's wsgi file
module = app_config.wsgi

# the virtualenv (full path)
#home = /home/alanjui/worksapce/django/mysite/.venv
#home = %(chdir)/.venv
#home = /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccctw.local
home = /home/alanjui/.pyenv/versions/$(domain)

# process-related settings
# master
master = true

# maximum number of worker processes
processes = 10

# the socket (use the full path to be safe
# socket = /run/uwsgi/%(project).sock
# socket = /home/alanjui/workspace/django/mysite/run/mysite.ccc.tw.local.sock
socket = /run/uwsgi/%(domain).sock

# ... with appropriate permissions - may be needed
#chmod-socket = 664
chmod-socket = 666

# clear environment on exit
vacuum = true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><ol start="7"><li>ä½¿ç”¨ uwsgi ä»‹é¢è¨­å®šæª”ï¼Œå•Ÿå‹• uwsgi ä»‹é¢ç¨‹å¼ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>uwsgi --ini config/uwsgi_mysite.ini
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ uwsgi --ini config/mysite_uwsgi.ini
[uWSGI] getting INI configuration from config/mysite_uwsgi.ini
*** Starting uWSGI 2.0.19.1 (64bit) on [Sat Apr  3 01:51:54 2021] ***
compiled with version: 9.3.0 on 02 April 2021 17:30:08
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/uwsgi
chdir() to /home/alanjui/workspace/django/mysite
your processes number limit is 15511
your memory page size is 409 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uwsgi socket 0 bound to UNIX address /home/alanjui/workspace/django/mysite/run/mysite.ccc.tw.local.sock fd 3
Python version: 3.8.5 (default, Apr  3 2021, 00:06:18)  [GCC 9.3.0]
PEP 405 virtualenv detected: /home/alanjui/.pyenv/versions/mysite.ccc.tw.local
Set PythonHome to /home/alanjui/.pyenv/versions/mysite.ccc.tw.local
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x5612b7a9bab0
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 802120 bytes (783 KB) for 10 cores
*** Operational MODE: preforking ***
WSGI app 0 (mountpoint='') ready in 0 seconds on interpreter 0x5612b7a9bab0 pid: 54009 (default app)
*** uWSGI is running in multiple interpreter mode ***
spawned uWSGI master process (pid: 54009)
spawned uWSGI worker 1 (pid: 54052, cores: 1)
spawned uWSGI worker 2 (pid: 54053, cores: 1)
spawned uWSGI worker 3 (pid: 54054, cores: 1)
spawned uWSGI worker 4 (pid: 54055, cores: 1)
spawned uWSGI worker 5 (pid: 54056, cores: 1)
spawned uWSGI worker 6 (pid: 54057, cores: 1)
spawned uWSGI worker 7 (pid: 54058, cores: 1)
spawned uWSGI worker 8 (pid: 54059, cores: 1)
spawned uWSGI worker 9 (pid: 54060, cores: 1)
spawned uWSGI worker 10 (pid: 54061, cores: 1)
[pid: 54058|app: 0|req: 1/1] 192.168.66.21 () {44 vars in 828 bytes} [Fri Apr  2 17:52:01 2021] GET / =&gt; generated 16351 bytes in 16 msecs (HTTP/1.1 200) 5 headers in 153 bytes (1 switches on core 0)
Not Found: /static/admin/css/fonts.css
[pid: 54058|app: 0|req: 2/2] 192.168.66.21 () {42 vars in 740 bytes} [Fri Apr  2 17:52:01 2021] GET /static/admin/css/fonts.css =&gt; generated 2026 bytes in 8 msecs (HTTP/1.1 404) 5 headers in 159 bytes (1 switches on core 0)
^CSIGINT/SIGQUIT received...killing workers...
worker 1 buried after 1 seconds
worker 2 buried after 1 seconds
worker 3 buried after 1 seconds
worker 4 buried after 1 seconds
worker 5 buried after 1 seconds
worker 6 buried after 1 seconds
worker 7 buried after 1 seconds
worker 8 buried after 1 seconds
worker 9 buried after 1 seconds
worker 10 buried after 1 seconds
goodbye to uWSGI.
VACUUM: unix socket /home/alanjui/workspace/django/mysite/run/mysite.ccc.tw.local.sock removed.
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><ol start="8"><li>é©—è­‰èƒ½å­˜å– static éœæ…‹æª”æ¡ˆ</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/static/admin/img/search.svg
ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°ã€Œæ”¾å¤§é¡åœ–ç¤ºã€ã€‚</p> <ol start="9"><li>é©—è­‰èƒ½å­˜å– media éœæ…‹æª”æ¡ˆ</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/media/search.svg
ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°ã€Œæ”¾å¤§é¡åœ–ç¤ºã€ã€‚</p> <ol start="10"><li>é©—è­‰éå­˜å– static èˆ‡ media çš„ HTTP Request æœƒè¢«é€å¾€ Django App ï¼Œä½¿ç”¨è€…æœƒ
åœ¨ã€Œç¶²é ã€çœ‹åˆ°å¦‚ä¸‹ç•«é¢ã€‚</li></ol> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <h2 id="å»ºç½®-uwsgi-æœå‹™"><a href="#å»ºç½®-uwsgi-æœå‹™" class="header-anchor">#</a> å»ºç½® uWSGI æœå‹™</h2> <p>å»ºç½®ä½œæ¥­ç³»çµ±å®Œæˆé–‹æ©Ÿï¼Œä¾¿èƒ½è‡ªå‹•å•Ÿå‹•çš„ uWSGI æœå‹™ï¼Œä»¥ç‚º HTTP Serverï¼ˆNginx Serviceï¼‰
å¼•ç”¨çš„ WSGI (Web Server Gateway Interface) ã€‚</p> <p>ğŸ“š <a href="https://docs.djangoproject.com/en/3.1/howto/deployment/wsgi/uwsgi/" target="_blank" rel="noopener noreferrer">How to use Django with uWSGI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="åœç”¨é–‹ç™¼ä½œæ¥­è™›æ“¬ç’°å¢ƒ"><a href="#åœç”¨é–‹ç™¼ä½œæ¥­è™›æ“¬ç’°å¢ƒ" class="header-anchor">#</a> åœç”¨é–‹ç™¼ä½œæ¥­è™›æ“¬ç’°å¢ƒ</h3> <p>åœæ­¢ä½¿ç”¨ Django App åœ¨ã€Œé–‹ç™¼ä½œæ¥­ã€ä½¿ç”¨çš„è™›æ“¬ç’°å¢ƒï¼šmysite.ccc.tw.localã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ç”±æ–¼å•Ÿç”¨ pyenv-virtualenv åŠ pyenv local ï¼Œæ•…è€Œ Django App å°ˆæ¡ˆï¼Œç„¡æ³•ä½¿ç”¨ä¸‹åˆ—
æŒ‡ä»¤ï¼Œåœç”¨è™›æ“¬ç’°å¢ƒã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd ~/workspace/django/mysite
pyenv deactivate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="å®‰è£ä½œæ¥­ç³»çµ±ç”¨-uwsgi"><a href="#å®‰è£ä½œæ¥­ç³»çµ±ç”¨-uwsgi" class="header-anchor">#</a> å®‰è£ä½œæ¥­ç³»çµ±ç”¨ uwsgi</h3> <ol><li>å®‰è£ä½œæ¥­ç³»çµ±å±¤ç´šä½¿ç”¨ä¹‹ uWSGI å¥—ä»¶ã€‚</li></ol> <ul><li>Install current stable version</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo /usr/bin/python3.8 -m pip instal uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Install LTS (Long Term Support)</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo /usr/bin/python3.8 -m pip install https://projects.unbit.it/downloads/uwsgi-lts.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>ä½¿ç”¨ pip æŒ‡ä»¤ï¼Œé©—è­‰ä½œæ¥­ç³»çµ±å·²å®‰è£ï¼šuwsgi ï¼Œé€™å€‹ Python å¥—ä»¶ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>/usr/bin/python3.8 -m pip list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ /usr/bin/python3.8 -m pip list
[sudo] alanjui çš„å¯†ç¢¼ï¼š
Package                Version
---------------------- --------------------
apturl                 0.5.2
asgiref                3.3.1
astroid                2.4.2
blinker                1.4
Brlapi                 0.7.0
certifi                2019.11.28
chardet                3.0.4
Click                  7.0
colorama               0.4.3
....
ssh-import-id          5.10
systemd-python         234
ubuntu-advantage-tools 20.3
ubuntu-drivers-common  0.0.0
ufw                    0.36
unattended-upgrades    0.1
urllib3                1.25.8
uWSGI                  2.0.19.1
wadllib                1.3.3
wheel                  0.34.2
wrapt                  1.12.1
xkit                   0.0.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><ol start="3"><li>é€éã€Œå®‰è£ç›®éŒ„è·¯å¾‘ã€ï¼Œé©—è­‰ uwsgi å·²å®‰è£ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>ll /usr/local/lib/python3.8/dist-packages/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alanjui@VB02-Ubuntu-2004:~$ ll /usr/local/lib/python3.8/dist-packages/
ç¸½ç”¨é‡ 52
drwxrwsr-x 10 root staff  4096  4æœˆ  3 22:59 ./
drwxrwsr-x  3 root staff  4096  4æœˆ 23  2020 ../
drwxr-sr-x  3 root staff  4096  3æœˆ 28 12:01 asgiref/
drwxr-sr-x  2 root staff  4096  3æœˆ 28 12:01 asgiref-3.3.1.dist-info/
drwxr-sr-x  5 root staff  4096  3æœˆ 30 20:55 pip/
drwxr-sr-x  2 root staff  4096  3æœˆ 30 20:55 pip-21.0.1.dist-info/
drwxr-sr-x  2 root staff  4096  4æœˆ  3 22:59 __pycache__/
drwxr-sr-x  5 root staff  4096  3æœˆ 28 12:01 sqlparse/
drwxr-sr-x  2 root staff  4096  3æœˆ 28 12:01 sqlparse-0.4.1.dist-info/
drwxr-sr-x  2 root staff  4096  4æœˆ  3 22:59 uWSGI-2.0.19.1.dist-info/
-rw-r--r--  1 root staff 10392  4æœˆ  3 22:59 uwsgidecorators.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="å»ºç½®åŠå•Ÿç”¨-uwsgi-æœå‹™"><a href="#å»ºç½®åŠå•Ÿç”¨-uwsgi-æœå‹™" class="header-anchor">#</a> å»ºç½®åŠå•Ÿç”¨ uWSGI æœå‹™</h3> <ol><li>å»ºç«‹ uwsgi ä½¿ç”¨çš„ systemd æœå‹™è¨­å®šæª”ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo vim /etc/systemd/system/uwsgi.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ğŸ”– uwsgi.service</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[Unit]
Description=uWSGI Empermor Mode Service
After=syslog.target

[Service]
ExecStartPre=/bin/bash -c &quot;mkdir -p /run/uwsgi; chown www-data:www-data /run/uwsgi&quot;
ExecStart=/usr/local/bin/uwsgi --emperor /etc/uwsgi/apps-enabled --uid www-data --gid www-data
Restart=always
KillSignal=SIGQUIT
Type=notify
StandardError=syslog
NotifyAccess=all

[Install]
WantedBy=multi-user.target
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="2"><li>å•Ÿç”¨ uwsgi çš„ systemd æœå‹™ã€‚</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo systemctl enable uwsgi
sudo systemctl start uwsgi
systemctl status uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="å•Ÿç”¨-django-app-æœå‹™"><a href="#å•Ÿç”¨-django-app-æœå‹™" class="header-anchor">#</a> å•Ÿç”¨ Django App æœå‹™</h3> <p>é€é uwsgi æœå‹™ï¼Œå°‡ Django App ç•¶æˆæœå‹™å•Ÿç”¨ã€‚ï¼ˆæ„å³ï¼šç•¶ä½œæ¥­ç³»çµ±å®Œæˆé–‹æ©Ÿå¾Œï¼Œ
Django App å³èƒ½æ“ä½œä½¿ç”¨ã€‚ï¼‰</p> <p>ä»¥ Emperor Mode å•Ÿç”¨ uWSGI æœå‹™ã€‚</p> <ol><li>å»ºç½® Emperor Mode æœå‹™ç”¨ vassals ç›®éŒ„</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/uwsgi/apps-available
sudo mkdir -p /etc/uwsgi/apps-enabled

sudo chown -R www-data:www-data /etc/uwsgi
sudo chmod -R 775 /etc/uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>å•Ÿç”¨æœå‹™è¨­å®š</li></ol> <p>å»ºç«‹ uwsgi æœå‹™è¨­å®šæª”çš„é€£çµï¼Œæ”¾è‡³ç›®éŒ„è·¯å¾‘ä¸­ï¼š /etc/uwsgi/apps-enabled/</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo ln -nfs /home/alanjui/workspace/django/mysite/config/uwsgi_mysite.ini /etc/uwsgi/apps-available
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>ä»¥ Emper Mode å•Ÿç”¨ uwsgi æœå‹™</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo systemctl restart uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>é©—è­‰èƒ½å­˜å– static éœæ…‹æª”æ¡ˆ</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/static/admin/img/search.svg
ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°ã€Œæ”¾å¤§é¡åœ–ç¤ºã€ã€‚</p> <ol start="5"><li>é©—è­‰èƒ½å­˜å– media éœæ…‹æª”æ¡ˆ</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/media/search.svg
ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°ã€Œæ”¾å¤§é¡åœ–ç¤ºã€ã€‚</p> <ol start="6"><li>é©—è­‰éå­˜å– static èˆ‡ media çš„ HTTP Request æœƒè¢«é€å¾€ Django App</li></ol> <p>åœ¨ Web ç€è¦½å™¨ï¼Œç€è¦½ç¶²å€ï¼š http://mysite.ccc.tw.local/ ï¼Œç¢ºèªã€Œç¶²é ã€èƒ½è¦‹åˆ°
å¦‚ä¸‹åœ–ä¹‹å…§å®¹ã€‚</p> <p><img src="/assets/img/django/django-app-default-home.png" alt=""></p> <h2 id="å»ºç½®å¤šç¨®ä½œæ¥­ç’°å¢ƒæ©Ÿåˆ¶"><a href="#å»ºç½®å¤šç¨®ä½œæ¥­ç’°å¢ƒæ©Ÿåˆ¶" class="header-anchor">#</a> å»ºç½®å¤šç¨®ä½œæ¥­ç’°å¢ƒæ©Ÿåˆ¶</h2> <p>ç‚ºé…åˆ uwsgi æœå‹™ä¹‹æ­£å¸¸é‹ä½œï¼ŒDjango App å®œæœ‰ã€Œå¤šç’°å¢ƒè¨­å®šæª”ã€ï¼Œä»¥ä¾¿ã€Œé–‹ç™¼ä½œæ¥­ã€ã€
ã€Œæ¸¬è©¦ï¼ˆSITï¼‰ä½œæ¥­ã€ã€ã€Œè©¦è¡Œï¼ˆStagingï¼‰ä½œæ¥­ã€èˆ‡ã€Œä¸Šç·šï¼ˆProductionï¼‰ä½œæ¥­ã€ï¼Œå„ç¨®
ä¸åŒä½œæ¥­æ™‚æœŸï¼Œéƒ½èƒ½è‡ªå‹•åˆ‡æ›æ‡‰æœ‰çš„è¨­å®šã€‚</p> <ul><li>é–‹ç™¼ä½œæ¥­ï¼šdev.py</li> <li>æ¸¬è©¦ä½œæ¥­ï¼štest.py</li> <li>è©¦è¡Œä½œæ¥­ï¼šstaging.py</li> <li>ä¸Šç·šä½œæ¥­ï¼šprod.py</li></ul> <h3 id="è¨­å®šå¤šç¨®ä½œæ¥­ç’°å¢ƒ"><a href="#è¨­å®šå¤šç¨®ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> è¨­å®šå¤šç¨®ä½œæ¥­ç’°å¢ƒ</h3> <p>è¨­å®šå¤šç¨®ä½œæ¥­ç’°å¢ƒæ©Ÿåˆ¶ï¼Œéœ€é…åˆè®Šæ›´ä¹‹æª”æ¡ˆï¼š</p> <ul><li>manage.py</li> <li>wsgi.py</li> <li>urls.py</li></ul> <p>ğŸ”– managy.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
#!/usr/bin/env python
import os
import sys

if **name** == &quot;**main**&quot;:
os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;web_site.settings.prod&quot;)
try:
from django.core.management import execute_from_command_line
except ImportError as exc:
raise ImportError(
&quot;Couldn't import Django. Are you sure it's installed and &quot;
&quot;available on your PYTHONPATH environment variable? Did you &quot;
&quot;forget to activate a virtual environment?&quot;
) from exc
execute_from_command_line(sys.argv)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ğŸ”– wsgi.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
&quot;&quot;&quot;
WSGI config for web_site project.

It exposes the WSGI callable as a module-level variable named `application`.

For more information on this file, see
https://docs.djangoproject.com/en/2.0/howto/deployment/wsgi/
&quot;&quot;&quot;

import os

from django.core.wsgi import get_wsgi_application

# os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;web_site.settings&quot;)

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'web_site.settings.prod')

application = get_wsgi_application()

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>ğŸ”– urls.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
&quot;&quot;&quot;web_site URL Configuration

The `urlpatterns` list routes URLs to views. For more information please see:
https://docs.djangoproject.com/en/2.0/topics/http/urls/
Examples:
Function views

1. Add an import: from my_app import views
2. Add a URL to urlpatterns: path('', views.home, name='home')
   Class-based views
3. Add an import: from other_app.views import Home
4. Add a URL to urlpatterns: path('', Home.as_view(), name='home')
   Including another URLconf
5. Import the include() function: from django.urls import include, path
6. Add a URL to urlpatterns: path('blog/', include('blog.urls'))
   &quot;&quot;&quot;
   from django.contrib import admin
   from django.urls import path, include

urlpatterns = [
path('admin/', admin.site.urls),
path('accounts/', include('accounts.urls')),
path('accounts/', include('django.contrib.auth.urls')),
path('books/', include('books.urls')),
path('posts/', include('posts.urls')),
path('', include('pages.urls')),
]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="å»ºç½®åŸºç¤ä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®åŸºç¤ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½®åŸºç¤ä½œæ¥­ç’°å¢ƒ</h3> <p>å»ºç½® Django App åŸºç¤ä½œæ¥­ç’°å¢ƒï¼Œä»¥ç‚ºå…¶å®ƒå„ç¨®ä½œæ¥­ç’°å¢ƒ
æ‰€å¼•ç”¨çš„ã€ŒåŸºåº•ã€ã€‚</p> <p>ğŸ”– base.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
&quot;&quot;&quot;
Django settings for web_site project.

Generated by 'django-admin startproject' using Django 2.0.

For more information on this file, see
https://docs.djangoproject.com/en/2.0/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/2.0/ref/settings/
&quot;&quot;&quot;

import os

# Build paths inside the project like this: os.path.join(BASE_DIR, ...)

BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(**file**)))

# Quick-start development settings - unsuitable for production

# See https://docs.djangoproject.com/en/2.0/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!

SECRET*KEY = '7g@&amp;s!bkka+)w70=9=t2+%&amp;r7um*!dg!7^5^yso%on@w&amp;u&amp;7g6'

# SECURITY WARNING: don't run with debug turned on in production!

# DEBUG= True

ALLOWED_HOSTS = [
'app.ccc.tw.local',
'localhost',
'127.0.0.1',
]

# Application definition

INSTALLED_APPS = [
'django.contrib.admin',
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'whitenoise.runserver_nostatic',
'django.contrib.staticfiles',

    # Libs
    'crispy_forms',

    # My Apps
    'pages.apps.PagesConfig',
    'posts.apps.PostsConfig',
    'books.apps.BooksConfig',
    'accounts.apps.AccountsConfig',

]

MIDDLEWARE = [
'django.middleware.security.SecurityMiddleware',
'whitenoise.middleware.WhiteNoiseMiddleware',
'django.contrib.sessions.middleware.SessionMiddleware',
'django.middleware.common.CommonMiddleware',
'django.middleware.csrf.CsrfViewMiddleware',
'django.contrib.auth.middleware.AuthenticationMiddleware',
'django.contrib.messages.middleware.MessageMiddleware',
'django.middleware.clickjacking.XFrameOptionsMiddleware',

    # My MiddleWare

]

ROOT_URLCONF = 'web_site.urls'

TEMPLATES = [
{
'BACKEND': 'django.template.backends.django.DjangoTemplates',
'DIRS': [
os.path.join(BASE_DIR, 'templates'),
],
'APP_DIRS': True,
'OPTIONS': {
'context_processors': [
'django.template.context_processors.debug',
'django.template.context_processors.request',
'django.contrib.auth.context_processors.auth',
'django.contrib.messages.context_processors.messages',
],
},
},
]

WSGI_APPLICATION = 'web_site.wsgi.application'

# Database

# https://docs.djangoproject.com/en/2.0/ref/settings/#databases

DATABASES = {
'default': {
'ENGINE': 'django.db.backends.sqlite3',
'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
}
}

# Password validation

# https://docs.djangoproject.com/en/2.0/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
{
'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
},
{
'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
},
{
'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
},
{
'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
},
]

# Internationalization

# https://docs.djangoproject.com/en/2.0/topics/i18n/

LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_L10N = True

USE_TZ = True

# Static files (CSS, JavaScript, Images)

# https://docs.djangoproject.com/en/2.0/howto/static-files/

STATIC_URL = '/static/'

# The absolute path to the directory where collectstatic will collect static files for deployment.

STATIC_ROOT = BASE_DIR / 'collectstatic'

# Simplified static file serving.

# https://warehouse.python.org/project/whitenoise/

# Document Ref: http://whitenoise.evans.io/en/stable/django.html

STATICFILES_STORAGEGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'

# Media Files

MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media')

# User Account Management

LOGIN_REDIRECT_URL = 'pages:home'
LOGOUT_REDIRECT_URL = 'pages:home'
AUTH_USER_MODEL = 'accounts.CustomUser'

# Form formatting

CRISPY_TEMPLATE_PACK = 'bootstrap4'

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br></div></div><h3 id="å»ºç½®é–‹ç™¼ä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®é–‹ç™¼ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½®é–‹ç™¼ä½œæ¥­ç’°å¢ƒ</h3> <p>ğŸ”– dev.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
from .base import \*

# SECURITY WARNING: don't run with debug turned on in production!

DEBUG = True

# Quick-start development settings - unsuitable for production

# See https://docs.djangoproject.com/en/2.0/howto/deployment/checklist/

ALLOWED_HOSTS = [
'127.0.0.1',
'0.0.0.0',
]

# Database

# https://docs.djangoproject.com/en/2.0/ref/settings/#databases

if 'DATABASE_HOST' in os.environ:
DATABASES\['default'\]['HOST'] = os.getenv('DATABASE_HOST')
DATABASES\['default'\]['ENGINE'] = 'django.db.backends.postgresql_psycopg2'
DATABASES\['default'\]['NAME'] = os.getenv('DATABASE_NAME')
DATABASES\['default'\]['USER'] = os.getenv('DATABASE_USER')
DATABASES\['default'\]['PASSWORD'] = os.getenv('DATABASE_PASSWORD')

    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.postgresql_psycopg2',
            'NAME': 'django2_helloworld_db',
            'USER': 'django2_helloworld',
            'PASSWORD': 'Passw0rd',
            'HOST': 'localhost',
            'PORT': '5432',
        }
    }

else:
DATABASES = {
'default': {
'ENGINE': 'django.db.backends.sqlite3',
'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
}
}

# Contact Us From

EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'

# BASE_URL required for notification emails

BASE_URL = 'http://localhost:8000'

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h3 id="å»ºç½®æ¸¬è©¦ä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®æ¸¬è©¦ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½®æ¸¬è©¦ä½œæ¥­ç’°å¢ƒ</h3> <p>ğŸ”– test.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="å»ºç½®è©¦è¡Œä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®è©¦è¡Œä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½®è©¦è¡Œä½œæ¥­ç’°å¢ƒ</h3> <p>ğŸ”– staging.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
# from web_site.settings.base import \*

from .base import \*

# SECURITY WARNING: don't run with debug turned on in production!

DEBUG = False

ALLOWED_HOSTS = [
'127.0.0.1',
'192.168.66.10',
'localhost',
'app.ccc.tw.local',
]

DATABASES = {
'default': {
'ENGINE': 'django.db.backends.postgresql_psycopg2',
'NAME': 'django2_helloworld_db',
'USER': 'django2_helloworld',
'PASSWORD': 'Passw0rd',
'HOST': 'localhost',
'PORT': '5432',
}
}

DATABASE_URL = 'postgres://django2_helloworld:Passw0rd@localhost:5432/django2_hellowrold_db'

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="å»ºç½®ä¸Šç·šä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®ä¸Šç·šä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½®ä¸Šç·šä½œæ¥­ç’°å¢ƒ</h3> <p>ğŸ”– prod.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
# from web_site.settings.base import \*

from .base import \*

# SECURITY WARNING: don't run with debug turned on in production!

DEBUG = False

ALLOWED_HOSTS = [
'127.0.0.1',
'192.168.66.10',
'localhost',
'app.ccc.tw',
]

DATABASES = {
'default': {
'ENGINE': 'django.db.backends.postgresql_psycopg2',
'NAME': 'django2_helloworld_db',
'USER': 'django2_helloworld',
'PASSWORD': 'Passw0rd',
'HOST': 'localhost',
'PORT': '5432',
}
}

DATABASE_URL = 'postgres://django2_helloworld:Passw0rd@localhost:5432/django2_hellowrold_db'

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="å»ºç½®-heroku-å¹³å°ä½œæ¥­ç’°å¢ƒ"><a href="#å»ºç½®-heroku-å¹³å°ä½œæ¥­ç’°å¢ƒ" class="header-anchor">#</a> å»ºç½® Heroku å¹³å°ä½œæ¥­ç’°å¢ƒ</h3> <p>ğŸ”– heroku.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
# from web_site.settings.base import \*

from .base import \*
import django_heroku
import dj_database_url

# Set environment variables (SECRET_KEY and others)

EMAIL_HOST_USER = os.environ.get('EMAIL_HOST_USER')
EMAIL_HOST_PASSWORD = os.environ.get('EMAIL_HOST_PASSWORD')

# SECURITY WARNING: keep the secret key used in production secret!

# SECRET_KEY = 'CHANGE_ME!!!! (P.S. the SECRET_KEY environment variable will be used, if set, instead).'

# SECRET_KEY = os.environ.get('SECRET_KEY')

# SECURITY WARNING: don't run with debug turned on in production!

# DEBGUG = True

DEBUG = bool(os.environ.get('DJANGO_DEBUG', True))

# # Quick-start development settings - unsuitable for production

# # See https://docs.djangoproject.com/en/2.0/howto/deployment/checklist/

ALLOWED_HOSTS = [
'127.0.0.1',
'localhost',
'.herokuapp.com',
'serene-crag-30137.herokuapp.com',
]

# Database

# https://docs.djangoproject.com/en/2.0/ref/settings/#databases

# Heroku: Update database configuration from \$DATABASE_URL

db_from_env = dj_database_url.config(conn_max_age=500)
DATABASES['default'].update(db_from_env)

django_heroku.settings(locals())

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h2 id="å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤"><a href="#å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤" class="header-anchor">#</a> å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤</h2> <h3 id="è§£é™¤ä½œæ¥­ç³»çµ±é è¨­ä¹‹-vim"><a href="#è§£é™¤ä½œæ¥­ç³»çµ±é è¨­ä¹‹-vim" class="header-anchor">#</a> è§£é™¤ä½œæ¥­ç³»çµ±é è¨­ä¹‹ vim</h3> <p>å¦‚ä¸‹æ–¹å¼å®‰è£ä¹‹ VIM å¥—ä»¶ï¼Œç„¡æ³•å®‰è£ã€Œæœ€æ–°ç‰ˆã€ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
sudo apt install vim

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è‹¥æ¬²å®‰è£æœ€æ–°ç‰ˆä¹‹ VIM ï¼Œå¯ä½¿ç”¨ GitHub ä¹‹åŸå§‹ç¢¼å»ºç½®ã€‚å·²å®‰è£ä¹‹ VIM ï¼Œå¯ä¾ä»¥ä¸‹æ–¹æ³•ï¼Œ
è§£é™¤åŸå…ˆå®‰è£åŠæ¸…é™¤è¨­å®šã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
sudo apt remove vim --purge

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~\$ sudo apt remove vim --purge
æ­£åœ¨è®€å–å¥—ä»¶æ¸…å–®... å®Œæˆ
æ­£åœ¨é‡å»ºç›¸ä¾é—œä¿‚
æ­£åœ¨è®€å–ç‹€æ…‹è³‡æ–™... å®Œæˆ
ä»¥ä¸‹å¥—ä»¶ç‚ºè‡ªå‹•å®‰è£ï¼Œä¸¦ä¸”å·²ç¶“ç„¡ç”¨ï¼š
vim-runtime
ä½¿ç”¨ 'sudo apt autoremove' å°‡ä¹‹ç§»é™¤ã€‚
ä¸‹åˆ—å¥—ä»¶å°‡æœƒè¢«ã€ç§»é™¤ã€‘ï¼š
vim\*
å‡ç´š 0 å€‹ï¼Œæ–°å®‰è£ 0 å€‹ï¼Œç§»é™¤ 1 å€‹ï¼Œæœ‰ 0 å€‹æœªè¢«å‡ç´šã€‚
æ­¤æ“ä½œå®Œæˆä¹‹å¾Œï¼Œæœƒç©ºå‡º 3,111 kB çš„ç£ç¢Ÿç©ºé–“ã€‚
æ˜¯å¦ç¹¼çºŒé€²è¡Œ [Y/n]ï¼Ÿ [Y/n] y
ï¼ˆè®€å–è³‡æ–™åº« ... ç›®å‰å…±å®‰è£äº† 171827 å€‹æª”æ¡ˆå’Œç›®éŒ„ã€‚ï¼‰
æ­£åœ¨ç§»é™¤ vim (2:8.1.2269-1ubuntu5)â€¦â€¦
update-alternatives: åœ¨è‡ªå‹•æ¨¡å¼ä¸‹ä»¥ /usr/bin/vim.tiny ä¾†æä¾› /usr/bin/vi (vi)
update-alternatives: åœ¨è‡ªå‹•æ¨¡å¼ä¸‹ä»¥ /usr/bin/vim.tiny ä¾†æä¾› /usr/bin/view (view)
update-alternatives: åœ¨è‡ªå‹•æ¨¡å¼ä¸‹ä»¥ /usr/bin/vim.tiny ä¾†æä¾› /usr/bin/ex (ex)
update-alternatives: åœ¨è‡ªå‹•æ¨¡å¼ä¸‹ä»¥ /usr/bin/vim.tiny ä¾†æä¾› /usr/bin/rview (rview)
ï¼ˆè®€å–è³‡æ–™åº« ... ç›®å‰å…±å®‰è£äº† 171818 å€‹æª”æ¡ˆå’Œç›®éŒ„ã€‚ï¼‰
æ­£åœ¨æ¸…é™¤ vim (2:8.1.2269-1ubuntu5) çš„è¨­å®šæª”â€¦â€¦

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="å¸¸è¦‹æ“ä½œ"><a href="#å¸¸è¦‹æ“ä½œ" class="header-anchor">#</a> å¸¸è¦‹æ“ä½œ</h2> <h3 id="å•Ÿç”¨ã€Œè™›æ“¬ç’°å¢ƒã€"><a href="#å•Ÿç”¨ã€Œè™›æ“¬ç’°å¢ƒã€" class="header-anchor">#</a> å•Ÿç”¨ã€Œè™›æ“¬ç’°å¢ƒã€</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
pyenv [Virtual_Env]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ pyenv shell venv39
(venv39) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="å•Ÿç”¨èˆ‡åœæ­¢è™›æ“¬ç’°å¢ƒ"><a href="#å•Ÿç”¨èˆ‡åœæ­¢è™›æ“¬ç’°å¢ƒ" class="header-anchor">#</a> å•Ÿç”¨èˆ‡åœæ­¢è™›æ“¬ç’°å¢ƒ</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
pyenv active [Virtual_Env]
pyenv deactivate

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pyenv activate venv-3.9.1
pyenv-virtualenv: prompt changing will be removed from future release. configure `export PYENV_VIRTUALENV_DISABLE_PROMPT=1' to simulate the behavior.

(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ pyenv deactivate
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="å»ºç«‹è™›æ“¬ç’°å¢ƒ"><a href="#å»ºç«‹è™›æ“¬ç’°å¢ƒ" class="header-anchor">#</a> å»ºç«‹è™›æ“¬ç’°å¢ƒ</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
pyenv virtualenv [Version_No][virtual_env]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~\$ pyenv virtualenvs

alanjui@VB02-Ubuntu-2004:~\$ pyenv virtualenv 3.9.1 venv-3.9.1
Looking in links: /tmp/tmp6e0qe2zi
Requirement already satisfied: setuptools in /home/alanjui/.pyenv/versions/3.9.1/envs/venv-3.9.1/lib/python3.9/site-packages (49.2.1)
Requirement already satisfied: pip in /home/alanjui/.pyenv/versions/3.9.1/envs/venv-3.9.1/lib/python3.9/site-packages (20.2.3)

alanjui@VB02-Ubuntu-2004:~\$ pyenv virtualenvs
3.9.1/envs/venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)
venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="å¥—ç”¨ç›®å‰çš„-python-å»ºç«‹è™›æ“¬ç’°å¢ƒ"><a href="#å¥—ç”¨ç›®å‰çš„-python-å»ºç«‹è™›æ“¬ç’°å¢ƒ" class="header-anchor">#</a> å¥—ç”¨ç›®å‰çš„ Python å»ºç«‹è™›æ“¬ç’°å¢ƒ</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
pyenv virtualenv [Virtual_Env]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pyenv version
3.9.1 (set by /home/alanjui/.pyenv/version)

alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pyenv virtualenv venv39
Looking in links: /tmp/tmp4fyfh4dr
Requirement already satisfied: setuptools in /home/alanjui/.pyenv/versions/3.9.1/envs/venv39/lib/python3.9/site-packages (49.2.1)
Requirement already satisfied: pip in /home/alanjui/.pyenv/versions/3.9.1/envs/venv39/lib/python3.9/site-packages (20.2.3)

alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pyenv virtualenvs
3.9.1/envs/venv39 (created from /home/alanjui/.pyenv/versions/3.9.1)
3.9.1/envs/venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)
venv39 (created from /home/alanjui/.pyenv/versions/3.9.1)
venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="æŸ¥è©¢æœ‰é‚£äº›è™›æ“¬ç’°å¢ƒ"><a href="#æŸ¥è©¢æœ‰é‚£äº›è™›æ“¬ç’°å¢ƒ" class="header-anchor">#</a> æŸ¥è©¢æœ‰é‚£äº›è™›æ“¬ç’°å¢ƒ</h3> <p>List existing virtualenvs:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
pyenv virtualenvs

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pyenv virtualenvs
3.9.1/envs/venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)
venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="åˆªé™¤å·²å»ºç«‹ä¹‹è™›æ“¬ç’°å¢ƒ"><a href="#åˆªé™¤å·²å»ºç«‹ä¹‹è™›æ“¬ç’°å¢ƒ" class="header-anchor">#</a> åˆªé™¤å·²å»ºç«‹ä¹‹è™›æ“¬ç’°å¢ƒ</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
pyenv uninstall [Virtual_Env]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$ pyenv uninstall venv39
pyenv-virtualenv: remove /home/alanjui/.pyenv/versions/3.9.1/envs/venv39? y
alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite$

alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pyenv virtualenvs
3.9.1/envs/venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)
venv-3.9.1 (created from /home/alanjui/.pyenv/versions/3.9.1)

alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ ll ~/.pyenv/versions
ç¸½ç”¨é‡ 12
drwxrwxr-x 3 alanjui alanjui 4096 4 æœˆ 1 13:33 ./
drwxrwxr-x 14 alanjui alanjui 4096 3 æœˆ 26 20:45 ../
drwxr-xr-x 7 alanjui alanjui 4096 3 æœˆ 26 20:45 3.9.1/
lrwxrwxrwx 1 alanjui alanjui 51 3 æœˆ 26 20:45 venv-3.9.1 -&gt; /home/alanjui/.pyenv/versions/3.9.1/envs/venv-3.9.1/

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="æ›´æ–°-pip-è‡³æœ€æ–°ç‰ˆ"><a href="#æ›´æ–°-pip-è‡³æœ€æ–°ç‰ˆ" class="header-anchor">#</a> æ›´æ–° pip è‡³æœ€æ–°ç‰ˆ</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
python -m pip install --upgrade pip

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>
/home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/python3.8 -m pip install --upgrade pip

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pip list
Package Version

---

pip 20.1.1
setuptools 47.1.0
WARNING: You are using pip version 20.1.1; however, version 21.0.1 is available.
You should consider upgrading via the '/home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/python3.8 -m pip install --upgrade pip' command.

(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/python3.8 -m pip install --upgrade pip
Collecting pip
Using cached pip-21.0.1-py3-none-any.whl (1.5 MB)
Installing collected packages: pip
Attempting uninstall: pip
Found existing installation: pip 20.1.1
Uninstalling pip-20.1.1:
Successfully uninstalled pip-20.1.1
Successfully installed pip-21.0.1

(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pip list
Package Version

---

pip 21.0.1
setuptools 47.1.0

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤-2"><a href="#å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤-2" class="header-anchor">#</a> å•é¡Œè¨ºæ–·èˆ‡ç‹€æ³æ’é™¤</h2> <h3 id="åŸ·è¡Œ-uwsgi-ç™¼ç”Ÿ-run-time-error"><a href="#åŸ·è¡Œ-uwsgi-ç™¼ç”Ÿ-run-time-error" class="header-anchor">#</a> åŸ·è¡Œ uwsgi ç™¼ç”Ÿ run time error</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
!!! no internal routing support, rebuild with pcre support !!!

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ uwsgi --ini config/mysite\*uwsgi.ini
[uWSGI] getting INI configuration from config/mysite_uwsgi.ini
\*\*\* Starting uWSGI 2.0.19.1 (64bit) on [Sat Apr 3 01:14:22 2021] \_\*\*
compiled with version: 9.3.0 on 28 March 2021 03:24:44
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/uwsgi
!!! no internal routing support, rebuild with pcre support !!!
chdir() to /home/alanjui/worksapce/django/mysite
chdir(): No such file or directory [core/uwsgi.c line 2625]
chdir(): No such file or directory [core/uwsgi.c line 1649]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ğŸ”¨</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
# Uninstall uwsgi

pip uninstall uwsgi
sudo apt remove uwsgi

# install pcre libaries

sudo apt install libpcre3 libpcre3-dev

pip install uwsgi -I --no-cache-dir

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pip install uwsgi -I --no-cache-dir
Collecting uwsgi
Downloading uWSGI-2.0.19.1.tar.gz (803 kB)
|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 803 kB 1.7 MB/s
Using legacy 'setup.py install' for uwsgi, since package 'wheel' is not installed.
Installing collected packages: uwsgi
Running setup.py install for uwsgi ... done
Successfully installed uwsgi-2.0.19.1

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ğŸ“º ä½¿ç”¨ pip install uwsgi å®‰è£ï¼Œpip é è¨­ç”¨ cache ï¼Œåƒè€ƒå¦‚ä¸‹ä¹‹å®‰è£ç•«é¢ï¼Œå¯è¦‹
Using cached uWSGI-2.0.19.1... å­—æ¨£ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ pip install uwsgi
Collecting uwsgi
Using cached uWSGI-2.0.19.1-cp38-cp38-linux_x86_64.whl
Installing collected packages: uwsgi
Successfully installed uwsgi-2.0.19.1

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="å•Ÿå‹•-uwsgi-ç™¼ç”Ÿ-uninx-socket-éŒ¯èª¤"><a href="#å•Ÿå‹•-uwsgi-ç™¼ç”Ÿ-uninx-socket-éŒ¯èª¤" class="header-anchor">#</a> å•Ÿå‹• uwsgi ï¼Œç™¼ç”Ÿ uninx socket éŒ¯èª¤</h3> <p>å•Ÿå‹• uwsgi ä»‹é¢æ™‚ï¼Œä½¿ç”¨ uwsgi è¨­å®šæª”ï¼Œç„¡æ³•æ­£å¸¸åŸ·è¡Œï¼Œç™¼ç”Ÿå¦‚ä¸‹éŒ¯èª¤ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
error removing unix socket, unlink(): Permission denied [core/socket.c line 198]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ uwsgi --ini config/mysite\*uwsgi.ini
[uWSGI] getting INI configuration from config/mysite_uwsgi.ini
\*\*\* Starting uWSGI 2.0.19.1 (64bit) on [Sat Apr 3 11:39:31 2021] \_\*\*
compiled with version: 9.3.0 on 02 April 2021 17:30:08
os: Linux-5.8.0-48-generic #54~20.04.1-Ubuntu SMP Sat Mar 20 13:40:25 UTC 2021
nodename: VB02-Ubuntu-2004
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 2
current working directory: /home/alanjui/workspace/django/mysite
detected binary path: /home/alanjui/.pyenv/versions/3.8.5/envs/mysite.ccc.tw.local/bin/uwsgi
chdir() to /home/alanjui/workspace/django/mysite
your processes number limit is 15511
your memory page size is 4096 bytes
detected max file descriptor number: 1024
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
error removing unix socket, unlink(): Permission denied [core/socket.c line 198]
bind(): Address already in use [core/socket.c line 230]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>ğŸ” å•é¡Œè¨ºæ–·ï¼šå› ç‚ºå‰æ¬¡åŸ·è¡Œ uwsgi ï¼Œæ²’èƒ½è®“ uwsgi æ­£å¸¸çµ‚æ­¢ï¼Œè‡´ä½¿ã€Œç›®éŒ„ã€ï¼š /run/uwsgi/
ä»ç•™ä¸‹ç•¶æ™‚åŸ·è¡Œçš„ unix socket æª”ï¼š mysite.ccc.tw.local.sock ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ ll /run/uwsgi/
ç¸½ç”¨é‡ 0
drwxr-xr-x 2 www-data www-data 60 3 æœˆ 31 10:42 ./
drwxr-xr-x 34 root root 1020 4 æœˆ 3 11:28 ../
srw-rw-rw- 1 www-data www-data 0 3 æœˆ 31 10:42 mysite.ccc.tw.local.sock=

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ğŸ”¨ ç‹€æ³æ’é™¤ï¼šå…ˆåˆªé™¤å‰æ¬¡åŸ·è¡Œéºç•™ä¸‹çš„ unix socket æª”ï¼Œç„¶å¾Œå†å•Ÿå‹• uwsgi ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(mysite.ccc.tw.local) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ sudo rm /run/uwsgi/mysite.ccc.tw.local.sock

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="çµ‚æ­¢ä½¿ç”¨ä¸­çš„-port"><a href="#çµ‚æ­¢ä½¿ç”¨ä¸­çš„-port" class="header-anchor">#</a> çµ‚æ­¢ä½¿ç”¨ä¸­çš„ Port</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>
fuser -n tcp [Port_No]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ“º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ python manage.py runserver 0.0.0.0:8000
Watching for file changes with StatReloader
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
April 01, 2021 - 07:26:08
Django version 3.1.7, using settings 'app_config.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.
Error: That port is already in use.

(venv-3.9.1) alanjui@VB02-Ubuntu-2004:~/workspace/django/mysite\$ fuser -n tcp -k 8000

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="è³‡æ–™åƒè€ƒ"><a href="#è³‡æ–™åƒè€ƒ" class="header-anchor">#</a> è³‡æ–™åƒè€ƒ</h2> <h3 id="pyenv-virtualenv-å®˜ç¶²è³‡æ–™"><a href="#pyenv-virtualenv-å®˜ç¶²è³‡æ–™" class="header-anchor">#</a> pyenv-virtualenv å®˜ç¶²è³‡æ–™</h3> <p><a href="https://github.com/pyenv/pyenv-virtualenv" target="_blank" rel="noopener noreferrer">pyenv-virtualenv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/han_gi_chu_im/assets/js/app.f2e2805b.js" defer></script><script src="/han_gi_chu_im/assets/js/2.e9bdfe5b.js" defer></script><script src="/han_gi_chu_im/assets/js/88.ec319bec.js" defer></script>
  </body>
</html>
